<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Slurm Workload Manager - srun</title>
	<link rel="canonical" href="https://slurm.schedmd.com/srun.html" />

	<link rel="shortcut icon" href="favicon.ico" />

	<link rel="stylesheet" type="text/css" href="fonts.css" />
	<link rel="stylesheet" type="text/css" href="reset.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" type="text/css" href="slurm.css" />

	<script src="jquery.min.js"></script>
	<script type="text/javascript">
	jQuery(document).ready(function() {
		jQuery('.menu-trigger').bind('click touchstart', function() {
			jQuery(this).find('.menu-trigger__lines').toggleClass('menu-trigger__lines--closed');
			jQuery(this).parents('.site-header').find('.site-nav').toggleClass('site-nav--active');

			return false;
		});
	});

	(function() {
	  var cx = '011890816164765777536:jvrtxrd3f0w';
	  var gcse = document.createElement('script');
	  gcse.type = 'text/javascript';
	  gcse.async = true;
	  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	  var s = document.getElementsByTagName('script')[0];
	  s.parentNode.insertBefore(gcse, s);
	})();
	</script>
</head>

<body>

<div class="container container--main">

	<header class="site-header" role="banner">

		<div class="site-masthead">
			<h1 class="site-masthead__title site-masthead__title--slurm">
				<a href="/" rel="home">
					<span class="slurm-logo">Slurm Workload Manager</span>
				</a>
			</h1>
			<div class="site-masthead__title">
				<a href="https://www.schedmd.com/" rel="home">
					<span class="site-logo">SchedMD</span>
				</a>
			</div>

			<button class="site-masthead__trigger menu-trigger" type="button" role="button" aria-label="Toggle Navigation"><span class="menu-trigger__lines"></span></button>
		</div>


		<nav class="site-nav">
			<h2 class="site-nav__title">Navigation</h2>

			<div class="slurm-title">
				<div class="slurm-logo"><a href="/">Slurm Workload Manager</a></div>
				<div class="slurm-title__version">Version 19.05</div>
			</div>

			<ul class="site-nav__menu site-menu menu" role="navigation">
				<li class="site-menu__item">
				        <div>About</div>
					<ul>
						<li><a href="overview.html">Overview</a></li>
						<li><a href="news.html">Release Notes</a></li>
						<li><a href="team.html">Slurm Team</a></li>
						<li><a href="meetings.html">Meetings</a></li>
						<li><a href="testimonials.html">Testimonials</a></li>
						<li><a href="disclaimer.html">Legal Notices</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Using</div>
					<ul>
						<li><a href="tutorials.html">Tutorials</a></li>
						<li><a href="documentation.html">Documentation</a></li>
						<li><a href="faq.html">FAQ</a></li>
						<li><a href="publications.html">Publications</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Installing</div>
					<ul>
						<li><a href="download.html">Download</a></li>
						<li><a href="quickstart_admin.html">Installation Guide</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Getting Help</div>
					<ul>
						<li><a href="https://www.schedmd.com/services.php">Support</a></li>
						<li><a href="mail.html">Mailing Lists</a></li>
						<li><a href="https://www.schedmd.com/services.php">Training</a></li>
						<li><a href="troubleshoot.html">Troubleshooting</a></li>
					</ul>
				</li>
			</ul>

		</nav>

	</header>

	<div class="content" role="main">
		<section class="slurm-search">
			<div class="container" id="cse">
				<gcse:search></gcse:search>
			</div>
		</section>

		<div class="section">
			<div class="container">

<H1>srun</H1>
Section: Slurm Commands (1)<BR>Updated: Slurm Commands<BR><A HREF="#index">Index</A>
<A HREF="/man/man2html">Return to Main Contents</A><HR>

<P>
<A NAME="lbAB">&nbsp;</A>
<a id="SECTION_NAME"></a>
<H2>NAME</H2>

srun - Run parallel jobs
<P>
<A NAME="lbAC">&nbsp;</A>
<a id="SECTION_SYNOPSIS"></a>
<H2>SYNOPSIS</H2>

<B>srun</B> [<I>OPTIONS(0)</I>...] [ : [<I>OPTIONS(N)</I>...]] <I>executable(0) </I>[<I>args(0)</I>...]
<P>
Option(s) define multiple jobs in a co-scheduled heterogeneous job.
For more details about heterogeneous jobs see the document
<BR>

<A HREF="https://slurm.schedmd.com/heterogeneous_jobs.html">https://slurm.schedmd.com/heterogeneous_jobs.html</A>
<P>
<A NAME="lbAD">&nbsp;</A>
<a id="SECTION_DESCRIPTION"></a>
<H2>DESCRIPTION</H2>

Run a parallel job on cluster managed by Slurm.  If necessary, srun will
first create a resource allocation in which to run the parallel job.
<P>
The following document describes the influence of various options on the
allocation of cpus to jobs and tasks.
<BR>

<A HREF="https://slurm.schedmd.com/cpu_management.html">https://slurm.schedmd.com/cpu_management.html</A>
<P>
<A NAME="lbAE">&nbsp;</A>
<a id="SECTION_RETURN-VALUE"></a>
<H2>RETURN VALUE</H2>

srun will return the highest exit code of all tasks run or the highest signal
(with the high-order bit set in an 8-bit integer -- e.g. 128 + signal) of any
task that exited with a signal.
<P>
<A NAME="lbAF">&nbsp;</A>
<a id="SECTION_EXECUTABLE-PATH-RESOLUTION"></a>
<H2>EXECUTABLE PATH RESOLUTION</H2>

<P>

The executable is resolved in the following order:
<BR>

<DL COMPACT>
<DT>step].<DD>
If executable starts with &quot;.&quot;, then path is constructed as:
current working directory / executable
<DT>step].<DD>
If executable starts with a &quot;/&quot;, then path is considered absolute.
<DT>step].<DD>
If executable can be resolved through PATH. See <B><A HREF="/man/man2html?7+path_resolution">path_resolution</A></B>(7).
<DT>step].<DD>
If executable is in current working directory.
</DL>
<P>

Current working directory is the calling process working directory unless the
<B>--chdir</B> argument is passed, which will override the current working
directory.
<P>
<A NAME="lbAG">&nbsp;</A>
<a id="SECTION_OPTIONS"></a>
<H2>OPTIONS</H2>

<P>

<P>
<DL COMPACT>
<a id="OPT_accel-bind"></a>
<DT><B>--accel-bind</B>=&lt;<I>options</I>&gt;<DD>
Control how tasks are bound to generic resources of type gpu, mic and nic.
Multiple options may be specified. Supported options include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_g"></a>
<DT><B>g</B><DD>
Bind each task to GPUs which are closest to the allocated CPUs.
<a id="OPT_m"></a>
<DT><B>m</B><DD>
Bind each task to MICs which are closest to the allocated CPUs.
<a id="OPT_n"></a>
<DT><B>n</B><DD>
Bind each task to NICs which are closest to the allocated CPUs.
<a id="OPT_v"></a>
<DT><B>v</B><DD>
Verbose mode. Log how tasks are bound to GPU and NIC devices.
<DT>This option applies to job allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_account"></a>
<DT><B>-A</B>, <B>--account</B>=&lt;<I>account</I>&gt;<DD>
Charge resources used by this job to specified account.
The <I>account</I> is an arbitrary string. The account name may
be changed after job submission using the <B>scontrol</B>
command. This option applies to job allocations.
<P>
<a id="OPT_acctg-freq"></a>
<DT><B>--acctg-freq</B><DD>
Define the job accounting and profiling sampling intervals.
This can be used to override the <I>JobAcctGatherFrequency</I> parameter in Slurm's
configuration file, <I>slurm.conf</I>.
The supported format is follows:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_acctg-freq="></a>
<DT><B>--acctg-freq=</B><I>&lt;datatype&gt;</I><B>=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;datatype&gt;</I>=<I>&lt;interval&gt;</I> specifies the task sampling
interval for the jobacct_gather plugin or a
sampling interval for a profiling type by the
acct_gather_profile plugin. Multiple,
comma-separated <I>&lt;datatype&gt;</I>=<I>&lt;interval&gt;</I> intervals
may be specified. Supported datatypes are as follows:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_task="></a>
<DT><B>task=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the task sampling interval in seconds
for the jobacct_gather plugins and for task
profiling by the acct_gather_profile plugin.
NOTE: This frequency is used to monitor memory usage. If memory limits
are enforced the highest frequency a user can request is what is configured in
the slurm.conf file.  They can not turn it off (=0) either.
<a id="OPT_energy="></a>
<DT><B>energy=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the sampling interval in seconds
for energy profiling using the acct_gather_energy plugin
<a id="OPT_network="></a>
<DT><B>network=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the sampling interval in seconds
for infiniband profiling using the acct_gather_infiniband
plugin.
<a id="OPT_filesystem="></a>
<DT><B>filesystem=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the sampling interval in seconds
for filesystem profiling using the acct_gather_filesystem
plugin.
<DT></DL>
</DL>

<DD>
</DL>
</DL>

<BR>

The default value for the task sampling interval
is 30. The default value for all other intervals is 0.
An interval of 0 disables sampling of the specified type.
If the task sampling interval is 0, accounting
information is collected only at job termination (reducing Slurm
interference with the job).
<BR>

<BR>

Smaller (non-zero) values have a greater impact upon job performance,
but a value of 30 seconds is not likely to be noticeable for
applications having less than 10,000 tasks. This option applies job allocations.

<P>
<a id="OPT_extra-node-info"></a>
<DT><B>-B</B> <B>--extra-node-info</B>=&lt;<I>sockets</I>[:<I>cores</I>[:<I>threads</I>]]&gt;<DD>
Restrict node selection to nodes with at least the specified number of
sockets, cores per socket and/or threads per core.
NOTE: These options do not specify the resource allocation size.
Each value specified is considered a minimum.
An asterisk (*) can be used as a placeholder indicating that all available
resources of that type are to be utilized. Values can also be specified as
min-max. The individual levels can also be specified in separate options if
desired:
<PRE>
    <B>--sockets-per-node</B>=&lt;<I>sockets</I>&gt;
    <B>--cores-per-socket</B>=&lt;<I>cores</I>&gt;
    <B>--threads-per-core</B>=&lt;<I>threads</I>&gt;
</PRE>

If task/affinity plugin is enabled, then specifying an allocation in this
manner also sets a default <B>--cpu-bind</B> option of <I>threads</I>
if the <B>-B</B> option specifies a thread count, otherwise an option of
<I>cores</I> if a core count is specified, otherwise an option of <I>sockets</I>.
If SelectType is configured to select/cons_res, it must have a parameter of
CR_Core, CR_Core_Memory, CR_Socket, or CR_Socket_Memory for this option
to be honored.
If not specified, the scontrol show job will display 'ReqS:C:T=*:*:*'. This
option applies to job allocations.
<P>
<a id="OPT_bb"></a>
<DT><B>--bb</B>=&lt;<I>spec</I>&gt;<DD>
Burst buffer specification. The form of the specification is system dependent.
Also see <B>--bbf</B>. This option applies to job allocations.
<P>
<a id="OPT_bbf"></a>
<DT><B>--bbf</B>=&lt;<I>file_name</I>&gt;<DD>
Path of file containing burst buffer specification.
The form of the specification is system dependent.
Also see <B>--bb</B>. This option applies to job allocations.
<P>
<a id="OPT_bcast"></a>
<DT><B>--bcast</B>[=&lt;<I>dest_path</I>&gt;]<DD>
Copy executable file to allocated compute nodes.
If a file name is specified, copy the executable to the specified destination
file path. If no path is specified, copy the file to a file named
&quot;slurm_bcast_&lt;job_id&gt;.&lt;step_id&gt;&quot; in the current working.
For example, &quot;srun --bcast=/tmp/mine -N3 a.out&quot; will copy the file &quot;a.out&quot;
from your current directory to the file &quot;/tmp/mine&quot; on each of the three
allocated compute nodes and execute that file. This option applies to step
allocations.
<P>
<a id="OPT_begin"></a>
<DT><B>-b</B>, <B>--begin</B>=&lt;<I>time</I>&gt;<DD>
Defer initiation of this job until the specified time.
It accepts times of the form <I>HH:MM:SS</I> to run a job at
a specific time of day (seconds are optional).
(If that time is already past, the next day is assumed.)
You may also specify <I>midnight</I>, <I>noon</I>, <I>fika</I> (3 PM) or
<I>teatime</I> (4 PM) and you can have a time-of-day suffixed
with <I>AM</I> or <I>PM</I> for running in the morning or the evening.
You can also say what day the job will be run, by specifying
a date of the form <I>MMDDYY</I> or <I>MM/DD/YY</I>
<I>YYYY-MM-DD</I>. Combine date and time using the following
format <I>YYYY-MM-DD[THH:MM[:SS]]</I>. You can also
give times like <I>now + count time-units</I>, where the time-units
can be <I>seconds</I> (default), <I>minutes</I>, <I>hours</I>,
<I>days</I>, or <I>weeks</I> and you can tell Slurm to run
the job today with the keyword <I>today</I> and to run the
job tomorrow with the keyword <I>tomorrow</I>.
The value may be changed after job submission using the
<B>scontrol</B> command.
For example:
<PRE>
   --begin=16:00
   --begin=now+1hour
   --begin=now+60           (seconds by default)
   --begin=2010-01-20T12:34:00
</PRE>

<P>
<DL COMPACT><DT><DD>
<P>

Notes on date/time specifications:
<BR>&nbsp;-&nbsp;Although&nbsp;the&nbsp;'seconds'&nbsp;field&nbsp;of&nbsp;the&nbsp;HH:MM:SS&nbsp;time&nbsp;specification&nbsp;is
allowed by the code, note that the poll time of the Slurm scheduler
is not precise enough to guarantee dispatch of the job on the exact
second.  The job will be eligible to start on the next poll
following the specified time. The exact poll interval depends on the
Slurm scheduler (e.g., 60 seconds with the default sched/builtin).
<BR>&nbsp;-&nbsp;If&nbsp;no&nbsp;time&nbsp;(HH:MM:SS)&nbsp;is&nbsp;specified,&nbsp;the&nbsp;default&nbsp;is&nbsp;(00:00:00).
<BR>&nbsp;-&nbsp;If&nbsp;a&nbsp;date&nbsp;is&nbsp;specified&nbsp;without&nbsp;a&nbsp;year&nbsp;(e.g.,&nbsp;MM/DD)&nbsp;then&nbsp;the&nbsp;current
year is assumed, unless the combination of MM/DD and HH:MM:SS has
already passed for that year, in which case the next year is used.
<BR>

This option applies to job allocations.
</DL>

<P>
<a id="OPT_checkpoint"></a>
<DT><B>--checkpoint</B>=&lt;<I>time</I>&gt;<DD>
Specifies the interval between creating checkpoints of the job step.
By default, the job step will have no checkpoints created.
Acceptable time formats include &quot;minutes&quot;, &quot;minutes:seconds&quot;,
&quot;hours:minutes:seconds&quot;, &quot;days-hours&quot;, &quot;days-hours:minutes&quot; and
&quot;days-hours:minutes:seconds&quot;. This option applies to job and step allocations.
<P>
<a id="OPT_cluster-constraint"></a>
<DT><B>--cluster-constraint</B>=&lt;<I>list</I>&gt;<DD>
Specifies features that a federated cluster must have to have a sibling job
submitted to it. Slurm will attempt to submit a sibling job to a cluster if it
has at least one of the specified features.
<P>
<a id="OPT_comment"></a>
<DT><B>--comment</B>=&lt;<I>string</I>&gt;<DD>
An arbitrary comment. This option applies to job allocations.
<P>
<a id="OPT_compress"></a>
<DT><B>--compress</B>[=<I>type</I>]<DD>
Compress file before sending it to compute hosts.
The optional argument specifies the data compression library to be used.
Supported values are &quot;lz4&quot; (default) and &quot;zlib&quot;.
Some compression libraries may be unavailable on some systems.
For use with the <B>--bcast</B> option. This option applies to step
allocations.
<P>
<a id="OPT_constraint"></a>
<DT><B>-C</B>, <B>--constraint</B>=&lt;<I>list</I>&gt;<DD>
Nodes can have <B>features</B> assigned to them by the Slurm administrator.
Users can specify which of these <B>features</B> are required by their job
using the constraint option.
Only nodes having features matching the job constraints will be used to
satisfy the request.
Multiple constraints may be specified with AND, OR, matching OR,
resource counts, etc. (some operators are not supported on all system types).
Supported constraint options include:

<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Single-Name"></a>
<DT><B>Single Name</B><DD>
Only nodes which have the specified feature will be used.
For example, <B>--constraint=&quot;intel&quot;</B>
<a id="OPT_Node-Count"></a>
<DT><B>Node Count</B><DD>
A request can specify the number of nodes needed with some feature
by appending an asterisk and count after the feature name.
For example &quot;<B>--nodes=16 --constraint=graphics*4 ...&quot;</B>
indicates that the job requires 16 nodes and that at least four of those
nodes must have the feature &quot;graphics.&quot;
<a id="OPT_AND"></a>
<DT><B>AND</B><DD>
If only nodes with all of specified features will be used.
The ampersand is used for an AND operator.
For example, <B>--constraint=&quot;intel&amp;gpu&quot;</B>
<a id="OPT_OR"></a>
<DT><B>OR</B><DD>
If only nodes with at least one of specified features will be used.
The vertical bar is used for an OR operator.
For example, <B>--constraint=&quot;intel|amd&quot;</B>
<a id="OPT_Matching-OR"></a>
<DT><B>Matching OR</B><DD>
If only one of a set of possible options should be used for all allocated
nodes, then use the OR operator and enclose the options within square brackets.
For example: &quot;<B>--constraint=[rack1|rack2|rack3|rack4]&quot;</B> might
be used to specify that all nodes must be allocated on a single rack of
the cluster, but any of those four racks can be used.
<a id="OPT_Multiple-Counts"></a>
<DT><B>Multiple Counts</B><DD>
Specific counts of multiple resources may be specified by using the AND
operator and enclosing the options within square brackets.
For example: &quot;<B>--constraint=[rack1*2&amp;rack2*4]&quot;</B> might
be used to specify that two nodes must be allocated from nodes with the feature
of &quot;rack1&quot; and four nodes must be allocated from nodes with the feature
&quot;rack2&quot;.
<P>
<B>NOTE:</B> This construct does not support multiple Intel KNL NUMA or MCDRAM
modes. For example, while &quot;<B>--constraint=[(knl&amp;quad)*2&amp;(knl&amp;hemi)*4]&quot;</B> is
not supported, &quot;<B>--constraint=[haswell*2&amp;(knl&amp;hemi)*4]&quot;</B> is supported.
Specification of multiple KNL modes requires the use of a heterogeneous job.
<P>
<a id="OPT_Parenthesis"></a>
<DT><B>Parenthesis</B><DD>
Parenthesis can be used to group like node features together. For example
&quot;<B>--constraint=[(knl&amp;snc4&amp;flat)*4&amp;haswell*1]&quot;</B> might be used to specify
that four nodes with the features &quot;knl&quot;, &quot;snc4&quot; and &quot;flat&quot; plus one node with
the feature &quot;haswell&quot; are required. All options within parenthesis should be
grouped with AND (e.g. &quot;&amp;&quot;) operands.
</DL>
</DL>

<P>
<B>WARNING</B>: When srun is executed from within salloc or sbatch,
the constraint value can only contain a single feature name. None of the
other operators are currently supported for job steps.
<BR>

This option applies to job and step allocations.
<P>
<a id="OPT_contiguous"></a>
<DT><B>--contiguous</B><DD>
If set, then the allocated nodes must form a contiguous set.
Not honored with the <B>topology/tree</B> or <B>topology/3d_torus</B>
plugins, both of which can modify the node ordering. This option applies to job
allocations.
<P>
<a id="OPT_cores-per-socket"></a>
<DT><B>--cores-per-socket</B>=&lt;<I>cores</I>&gt;<DD>
Restrict node selection to nodes with at least the specified number of
cores per socket.  See additional information under <B>-B</B> option
above when task/affinity plugin is enabled. This option applies to job
allocations.
<P>
<a id="OPT_cpu-bind"></a>
<DT><B>--cpu-bind</B>=[{<I>quiet,verbose</I>},]<I>type</I><DD>
Bind tasks to CPUs.
Used only when the task/affinity or task/cgroup plugin is enabled.
NOTE: To have Slurm always report on the selected CPU binding for all
commands executed in a shell, you can enable verbose mode by setting
the SLURM_CPU_BIND environment variable value to &quot;verbose&quot;.
<P>
The following informational environment variables are set when <B>--cpu-bind</B>
is in use:
<PRE>
        SLURM_CPU_BIND_VERBOSE
        SLURM_CPU_BIND_TYPE
        SLURM_CPU_BIND_LIST
</PRE>

<P>
See the <B>ENVIRONMENT VARIABLES</B> section for a more detailed description
of the individual SLURM_CPU_BIND variables. These variable are available
only if the task/affinity plugin is configured.
<P>
When using <B>--cpus-per-task</B> to run multithreaded tasks, be aware that
CPU binding is inherited from the parent of the process.  This means that
the multithreaded task should either specify or clear the CPU binding
itself to avoid having all threads of the multithreaded task use the same
mask/CPU as the parent.  Alternatively, fat masks (masks which specify more
than one allowed CPU) could be used for the tasks in order to provide
multiple CPUs for the multithreaded tasks.
<P>
By default, a job step has access to every CPU allocated to the job.
To ensure that distinct CPUs are allocated to each job step, use the
<B>--exclusive</B> option.
<P>
Note that a job step can be allocated different numbers of CPUs on each node
or be allocated CPUs not starting at location zero. Therefore one of the
options which automatically generate the task binding is recommended.
Explicitly specified masks or bindings are only honored when the job step
has been allocated every available CPU on the node.
<P>
Binding a task to a NUMA locality domain means to bind the task to the set of
CPUs that belong to the NUMA locality domain or &quot;NUMA node&quot;.
If NUMA locality domain options are used on systems with no NUMA support, then
each socket is considered a locality domain.
<P>
If the --cpu-bind option is not used, the default binding mode will depend
upon Slurm's configuration and the step's resource allocation.
If all allocated nodes have the same configured CpuBind mode, that will be used.
Otherwise if the job's Partition has a configured CpuBind mode, that will be used.
Otherwise if Slurm has a configured TaskPluginParam value, that mode will be used.
Otherwise automatic binding will be performed as described below.
<P>

<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Auto-Binding"></a>
<DT><B>Auto Binding</B><DD>
Applies only when task/affinity is enabled. If the job step allocation includes an
allocation with a number of
sockets, cores, or threads equal to the number of tasks times cpus-per-task,
then the tasks will by default be bound to the appropriate resources (auto
binding). Disable this mode of operation by explicitly setting
&quot;--cpu-bind=none&quot;. Use TaskPluginParam=autobind=[threads|cores|sockets] to set
a default cpu binding in case &quot;auto binding&quot; doesn't find a match.
</DL>
</DL>

<DL COMPACT><DT><DD>
<P>
Supported options include:

<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_q[uiet]"></a>
<DT><B>q[uiet]</B>

<DD>
Quietly bind before task runs (default)
<a id="OPT_v[erbose]"></a>
<DT><B>v[erbose]</B>

<DD>
Verbosely report binding before task runs
<a id="OPT_no[ne]"></a>
<DT><B>no[ne]</B>

<DD>
Do not bind tasks to CPUs (default unless auto binding is applied)
<a id="OPT_rank"></a>
<DT><B>rank</B>

<DD>
Automatically bind by task rank.
The lowest numbered task on each node is bound to socket (or core or thread) zero, etc.
Not supported unless the entire node is allocated to the job.
<a id="OPT_map_cpu:&lt;list&gt;"></a>
<DT><B>map_cpu:&lt;list&gt;</B>

<DD>
Bind by setting CPU masks on tasks (or ranks) as specified where &lt;list&gt; is
&lt;cpu_id_for_task_0&gt;,&lt;cpu_id_for_task_1&gt;,...
CPU IDs are interpreted as decimal values unless they are preceded
with '0x' in which case they interpreted as hexadecimal values.
If the number of tasks (or ranks) exceeds the number of elements in this list,
elements in the list will be reused as needed starting from the beginning of
the list.
To simplify support for large task counts, the lists may follow a map with an
asterisk and repetition count
For example &quot;map_cpu:0x0f*4,0xf0*4&quot;.
Not supported unless the entire node is allocated to the job.
<a id="OPT_mask_cpu:&lt;list&gt;"></a>
<DT><B>mask_cpu:&lt;list&gt;</B>

<DD>
Bind by setting CPU masks on tasks (or ranks) as specified where &lt;list&gt; is
&lt;cpu_mask_for_task_0&gt;,&lt;cpu_mask_for_task_1&gt;,...
The mapping is specified for a node and identical mapping is applied to the
tasks on every node (i.e. the lowest task ID on each node is mapped to the
first mask specified in the list, etc.).
CPU masks are <B>always</B> interpreted as hexadecimal values but can be
preceded with an optional '0x'. Not supported unless the entire node is
allocated to the job.
To simplify support for large task counts, the lists may follow a map with an
asterisk and repetition count
For example &quot;mask_cpu:0x0f*4,0xf0*4&quot;.
Not supported unless the entire node is allocated to the job.
<a id="OPT_rank_ldom"></a>
<DT><B>rank_ldom</B>

<DD>
Bind to a NUMA locality domain by rank. Not supported unless the entire
node is allocated to the job.
<a id="OPT_map_ldom:&lt;list&gt;"></a>
<DT><B>map_ldom:&lt;list&gt;</B>

<DD>
Bind by mapping NUMA locality domain IDs to tasks as specified where
&lt;list&gt; is &lt;ldom1&gt;,&lt;ldom2&gt;,...&lt;ldomN&gt;.
The locality domain IDs are interpreted as decimal values unless they are
preceded with '0x' in which case they are interpreted as hexadecimal values.
Not supported unless the entire node is allocated to the job.
<a id="OPT_mask_ldom:&lt;list&gt;"></a>
<DT><B>mask_ldom:&lt;list&gt;</B>

<DD>
Bind by setting NUMA locality domain masks on tasks as specified
where &lt;list&gt; is &lt;mask1&gt;,&lt;mask2&gt;,...&lt;maskN&gt;.
NUMA locality domain masks are <B>always</B> interpreted as hexadecimal
values but can be preceded with an optional '0x'.
Not supported unless the entire node is allocated to the job.
<a id="OPT_sockets"></a>
<DT><B>sockets</B>

<DD>
Automatically generate masks binding tasks to sockets.
Only the CPUs on the socket which have been allocated to the job will be used.
If the number of tasks differs from the number of allocated sockets
this can result in sub-optimal binding.
<a id="OPT_cores"></a>
<DT><B>cores</B>

<DD>
Automatically generate masks binding tasks to cores.
If the number of tasks differs from the number of allocated cores
this can result in sub-optimal binding.
<a id="OPT_threads"></a>
<DT><B>threads</B>

<DD>
Automatically generate masks binding tasks to threads.
If the number of tasks differs from the number of allocated threads
this can result in sub-optimal binding.
<a id="OPT_ldoms"></a>
<DT><B>ldoms</B>

<DD>
Automatically generate masks binding tasks to NUMA locality domains.
If the number of tasks differs from the number of allocated locality domains
this can result in sub-optimal binding.
<a id="OPT_boards"></a>
<DT><B>boards</B>

<DD>
Automatically generate masks binding tasks to boards.
If the number of tasks differs from the number of allocated boards
this can result in sub-optimal binding. This option is supported by the
task/cgroup plugin only.
<a id="OPT_help"></a>
<DT><B>help</B>

<DD>
Show help message for cpu-bind
</DL>
</DL>

<DL COMPACT>
<DT>This option applies to job and step allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_cpu-freq"></a>
<DT><B>--cpu-freq</B> =&lt;<I>p1</I>[-<I>p2</I>[:<I>p3</I>]]&gt;<DD>
<P>
Request that the job step initiated by this srun command be run at some
requested frequency if possible, on the CPUs selected for the step on
the compute node(s).
<P>
<B>p1</B> can be  [#### | low | medium | high | highm1] which will set the
frequency scaling_speed to the corresponding value, and set the frequency
scaling_governor to UserSpace. See below for definition of the values.
<P>
<B>p1</B> can be [Conservative | OnDemand | Performance | PowerSave] which
will set the scaling_governor to the corresponding value. The governor has to be
in the list set by the slurm.conf option CpuFreqGovernors.
<P>
When <B>p2</B> is present, p1 will be the minimum scaling frequency and
p2 will be the maximum scaling frequency.
<P>
<B>p2</B> can be  [#### | medium | high | highm1] p2 must be greater than p1.
<P>
<B>p3</B> can be [Conservative | OnDemand | Performance | PowerSave | UserSpace]
which will set the governor to the corresponding value.
<P>
If <B>p3</B> is UserSpace, the frequency scaling_speed will be set by a power
or energy aware scheduling strategy to a value between p1 and p2 that lets the
job run within the site's power goal. The job may be delayed if p1 is higher
than a frequency that allows the job to run within the goal.
<P>
If the current frequency is &lt; min, it will be set to min. Likewise,
if the current frequency is &gt; max, it will be set to max.
<P>
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_####"></a>
<DT><B>####</B><DD>
frequency in kilohertz
<a id="OPT_Low"></a>
<DT><B>Low</B><DD>
the lowest available frequency
<a id="OPT_High"></a>
<DT><B>High</B><DD>
the highest available frequency
<a id="OPT_HighM1"></a>
<DT><B>HighM1</B><DD>
(high minus one) will select the next highest available frequency
<a id="OPT_Medium"></a>
<DT><B>Medium</B><DD>
attempts to set a frequency in the middle of the available range
<a id="OPT_Conservative"></a>
<DT><B>Conservative</B><DD>
attempts to use the Conservative CPU governor
<a id="OPT_OnDemand"></a>
<DT><B>OnDemand</B><DD>
attempts to use the OnDemand CPU governor (the default value)
<a id="OPT_Performance"></a>
<DT><B>Performance</B><DD>
attempts to use the Performance CPU governor
<a id="OPT_PowerSave"></a>
<DT><B>PowerSave</B><DD>
attempts to use the PowerSave CPU governor
<a id="OPT_UserSpace"></a>
<DT><B>UserSpace</B><DD>
attempts to use the UserSpace CPU governor
<DT></DL>
</DL>

<DD>
<P>
The following informational environment variable is set in the job
step when <B>--cpu-freq</B> option is requested.
<PRE>
        SLURM_CPU_FREQ_REQ
</PRE>

<P>
This environment variable can also be used to supply the value for the
CPU frequency request if it is set when the 'srun' command is issued.
The <B>--cpu-freq</B> on the command line will override the
environment variable value.  The form on the environment variable is
the same as the command line.
See the <B>ENVIRONMENT VARIABLES</B>
section for a description of the SLURM_CPU_FREQ_REQ variable.
<P>
<B>NOTE</B>: This parameter is treated as a request, not a requirement.
If the job step's node does not support setting the CPU frequency, or
the requested value is outside the bounds of the legal frequencies, an
error is logged, but the job step is allowed to continue.
<P>
<B>NOTE</B>: Setting the frequency for just the CPUs of the job step
implies that the tasks are confined to those CPUs.  If task
confinement (i.e., TaskPlugin=task/affinity or
TaskPlugin=task/cgroup with the &quot;ConstrainCores&quot; option) is not
configured, this parameter is ignored.
<P>
<B>NOTE</B>: When the step completes, the frequency and governor of each
selected CPU is reset to the previous values.
<P>
<B>NOTE</B>: When submitting jobs with  the <B>--cpu-freq</B> option
with linuxproc as the ProctrackType can cause jobs to run too quickly before
Accounting is able to poll for job information. As a result not all of
accounting information will be present.
<P>
This option applies to job and step allocations.

<P>
<a id="OPT_cpus-per-gpu"></a>
<DT><B>--cpus-per-gpu</B>=&lt;<I>ncpus</I>&gt;<DD>
Advise Slurm that ensuing job steps will require <I>ncpus</I> processors per
allocated GPU.
Requires the <B>--gpus</B> option.
Not compatible with the <B>--cpus-per-task</B> option.
<P>
<a id="OPT_cpus-per-task"></a>
<DT><B>-c</B>, <B>--cpus-per-task</B>=&lt;<I>ncpus</I>&gt;<DD>
Request that <I>ncpus</I> be allocated <B>per process</B>. This may be
useful if the job is multithreaded and requires more than one CPU
per task for optimal performance. The default is one CPU per process.
If <B>-c</B> is specified without <B>-n</B>, as many
tasks will be allocated per node as possible while satisfying
the <B>-c</B> restriction. For instance on a cluster with 8 CPUs
per node, a job request for 4 nodes and 3 CPUs per task may be
allocated 3 or 6 CPUs per node (1 or 2 tasks per node) depending
upon resource consumption by other jobs. Such a job may be
unable to execute more than a total of 4 tasks.
This option may also be useful to spawn tasks without allocating
resources to the job step from the job's allocation when running
multiple job steps with the <B>--exclusive</B> option.
<P>
<B>WARNING</B>: There are configurations and options interpreted differently by
job and job step requests which can result in inconsistencies for this option.
For example <I>srun -c2 --threads-per-core=1 prog</I> may allocate two
cores for the job, but if each of those cores contains two threads, the job
allocation will include four CPUs. The job step allocation will then launch two
threads per CPU for a total of two tasks.
<P>
<B>WARNING</B>: When srun is executed from within salloc or sbatch,
there are configurations and options which can result in inconsistent
allocations when -c has a value greater than -c on salloc or sbatch.
<P>
This option applies to job allocations.
<P>
<a id="OPT_deadline"></a>
<DT><B>--deadline</B>=&lt;<I>OPT</I>&gt;<DD>
remove the job if no ending is possible before
this deadline (start &gt; (deadline - time[-min])).
Default is no deadline.  Valid time formats are:
<BR>

HH:MM[:SS] [AM|PM]
<BR>

MMDD[YY] or MM/DD[/YY] or MM.DD[.YY]
<BR>

MM/DD[/YY]-HH:MM[:SS]
<BR>

YYYY-MM-DD[THH:MM[:SS]]]
<P>
This option applies only to job allocations.
<P>
<a id="OPT_delay-boot"></a>
<DT><B>--delay-boot</B>=&lt;<I>minutes</I>&gt;<DD>
Do not reboot nodes in order to satisfied this job's feature specification if
the job has been eligible to run for less than this time period.
If the job has waited for less than the specified period, it will use only
nodes which already have the specified features.
The argument is in units of minutes.
A default value may be set by a system administrator using the <B>delay_boot</B>
option of the <B>SchedulerParameters</B> configuration parameter in the
slurm.conf file, otherwise the default value is zero (no delay).
<P>
This option applies only to job allocations.
<P>
<a id="OPT_dependency"></a>
<DT><B>-d</B>, <B>--dependency</B>=&lt;<I>dependency_list</I>&gt;<DD>
Defer the start of this job until the specified dependencies have been
satisfied completed. This option does not apply to job steps (executions of
srun within an existing salloc or sbatch allocation) only to job allocations.
&lt;<I>dependency_list</I>&gt; is of the form
&lt;<I>type:job_id[:job_id][,type:job_id[:job_id]]</I>&gt; or
&lt;<I>type:job_id[:job_id][?type:job_id[:job_id]]</I>&gt;.
All dependencies must be satisfied if the &quot;,&quot; separator is used.
Any dependency may be satisfied if the &quot;?&quot; separator is used.
Many jobs can share the same dependency and these jobs may even belong to
different  users. The  value may be changed after job submission using the
scontrol command.
Once a job dependency fails due to the termination state of a preceding job,
the dependent job will never be run, even if the preceding job is requeued and
has a different termination state in a subsequent execution. This option applies
to job allocations.

<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_after:job_id[:jobid...]"></a>
<DT><B>after:job_id[:jobid...]</B><DD>
This job can begin execution after the specified jobs have begun
execution.
<a id="OPT_afterany:job_id[:jobid...]"></a>
<DT><B>afterany:job_id[:jobid...]</B><DD>
This job can begin execution after the specified jobs have terminated.
<a id="OPT_afterburstbuffer:job_id[:jobid...]"></a>
<DT><B>afterburstbuffer:job_id[:jobid...]</B><DD>
This job can begin execution after the specified jobs have terminated and
any associated burst buffer stage out operations have completed.
<a id="OPT_aftercorr:job_id[:jobid...]"></a>
<DT><B>aftercorr:job_id[:jobid...]</B><DD>
A task of this job array can begin execution after the corresponding task ID
in the specified job has completed successfully (ran to completion with an
exit code of zero).
<a id="OPT_afternotok:job_id[:jobid...]"></a>
<DT><B>afternotok:job_id[:jobid...]</B><DD>
This job can begin execution after the specified jobs have terminated
in some failed state (non-zero exit code, node failure, timed out, etc).
<a id="OPT_afterok:job_id[:jobid...]"></a>
<DT><B>afterok:job_id[:jobid...]</B><DD>
This job can begin execution after the specified jobs have successfully
executed (ran to completion with an exit code of zero).
<a id="OPT_expand:job_id"></a>
<DT><B>expand:job_id</B><DD>
Resources allocated to this job should be used to expand the specified job.
The job to expand must share the same QOS (Quality of Service) and partition.
Gang scheduling of resources in the partition is also not supported.
<a id="OPT_singleton"></a>
<DT><B>singleton</B><DD>
This job can begin execution after any previously launched jobs
sharing the same job name and user have terminated.
In other words, only one job by that name and owned by that user can be running
or suspended at any point in time.
</DL>
</DL>

<P>
<a id="OPT_chdir"></a>
<DT><B>-D</B>, <B>--chdir</B>=&lt;<I>path</I>&gt;<DD>
Have the remote processes do a chdir to <I>path</I> before beginning
execution. The default is to chdir to the current working directory
of the <B>srun</B> process. The path can be specified as full path or
relative path to the directory where the command is executed. This
option applies to job allocations.
<P>
<a id="OPT_error"></a>
<DT><B>-e</B>, <B>--error</B>=&lt;<I>filename pattern</I>&gt;<DD>
Specify how stderr is to be redirected. By default in interactive mode,
<B>srun</B>

redirects stderr to the same file as stdout, if one is specified. The
<B>--error</B> option is provided to allow stdout and stderr to be
redirected to different locations.
See <B>IO Redirection</B> below for more options.
If the specified file already exists, it will be overwritten. This option
applies to job and step allocations.
<P>
<a id="OPT_preserve-env"></a>
<DT><B>-E</B>, <B>--preserve-env</B><DD>
Pass the current values of environment variables SLURM_JOB_NODES and
SLURM_NTASKS through to the <I>executable</I>, rather than computing them
from commandline parameters. This option applies to job allocations.
<P>
<a id="OPT_epilog"></a>
<DT><B>--epilog</B>=&lt;<I>executable</I>&gt;<DD>
<B>srun</B> will run <I>executable</I> just after the job step completes.
The command line arguments for <I>executable</I> will be the command
and arguments of the job step.  If <I>executable</I> is &quot;none&quot;, then
no srun epilog will be run. This parameter overrides the SrunEpilog
parameter in slurm.conf. This parameter is completely independent from
the Epilog parameter in slurm.conf. This option applies to job allocations.
<P>
<P>
<a id="OPT_exclusive[=user|mcs]"></a>
<DT><B>--exclusive[=user|mcs]</B><DD>
This option applies to job and job step allocations, and has two slightly
different meanings for each one.
When used to initiate a job, the job allocation cannot share nodes with
other running jobs  (or just other users with the &quot;=user&quot; option or &quot;=mcs&quot; option).
The default shared/exclusive behavior depends on system configuration and the
partition's <B>OverSubscribe</B> option takes precedence over the job's option.
<P>
This option can also be used when initiating more than one job step within
an existing resource allocation, where you want separate processors to
be dedicated to each job step. If sufficient processors are not
available to initiate the job step, it will be deferred. This can
be thought of as providing a mechanism for resource management to the job
within it's allocation.
<P>
The exclusive allocation of CPUs only applies to job steps explicitly invoked
with the <B>--exclusive</B> option.
For example, a job might be allocated one node with four CPUs and a remote
shell invoked on the allocated node. If that shell is not invoked with the
<B>--exclusive</B> option, then it may create a job step with four tasks
using the <B>--exclusive</B> option and not conflict with the remote shell's
resource allocation.
Use the <B>--exclusive</B> option to invoke every job step to ensure distinct
resources for each step.
<P>
Note that all CPUs allocated to a job are available
to each job step unless the <B>--exclusive</B> option is used plus
task affinity is configured. Since resource management is provided by
processor, the <B>--ntasks</B> option must be specified, but the
following options should NOT be specified
<B>--relative</B>, <B>--distribution</B>=<I>arbitrary</I>.
See <B>EXAMPLE</B> below.
<P>
<a id="OPT_export"></a>
<DT><B>--export</B>=&lt;<I>environment variables [ALL] | NONE</I>&gt;<DD>
Identify which environment variables are propagated to the launched application.
By default, <I>all</I> are propagated.
Multiple environment variable names should be comma separated.
Environment variable names may be specified to propagate the current
value (e.g. &quot;--export=EDITOR&quot;) or specific values
may be exported (e.g. &quot;--export=EDITOR=/bin/emacs&quot;). In these two examples,
the propagated environment will only contain the variable <I>EDITOR</I>.
If one desires to add to the environment instead of replacing it, have the
argument include <I>ALL</I> (e.g. &quot;--export=ALL,EDITOR=/bin/emacs&quot;).
This will propagate <I>EDITOR</I> along with the current environment.
Unlike sbatch, if <I>ALL</I> is specified, any additional specified environment
variables are ignored.
If one desires no environment variables be propagated, use the argument
<I>NONE</I>.
Regardless of this setting, the appropriate <I>SLURM_*</I> task environment
variables are always exported to the environment.
<I>srun</I> may deviate from the above behavior if the default launch plugin,
<I>launch/slurm</I>, is not used.
<P>
<a id="OPT_nodefile"></a>
<DT><B>-F</B>, <B>--nodefile</B>=&lt;<I>node file</I>&gt;<DD>
Much like --nodelist, but the list is contained in a file of name
<I>node file</I>.  The node names of the list may also span multiple lines
in the file.    Duplicate node names in the file will be ignored.
The order of the node names in the list is not important; the node names
will be sorted by Slurm.
<P>
<a id="OPT_gid"></a>
<DT><B>--gid</B>=&lt;<I>group</I>&gt;<DD>
If <B>srun</B> is run as root, and the <B>--gid</B> option is used,
submit the job with <I>group</I>'s group access permissions.  <I>group</I>
may be the group name or the numerical group ID. This option applies to
job allocations.
<P>
<a id="OPT_gpus"></a>
<DT><B>-G</B>, <B>--gpus</B>=[&lt;type&gt;:]&lt;<I>number</I>&gt;<DD>
Specify the total number of GPUs required for the job.
An optional GPU type specification can be supplied.
For example &quot;--gpus=volta:3&quot;.
Multiple options can be requested in a comma separated list, for example:
&quot;--gpus=volta:3,kepler:1&quot;.
See also the <B>--gpus-per-node</B>, <B>--gpus-per-socket</B> and
<B>--gpus-per-task</B> options.
<P>
<a id="OPT_gpu-bind"></a>
<DT><B>--gpu-bind</B>=&lt;<I>type</I>&gt;<DD>
Bind tasks to specific GPUs.
By default every spawned task can access every GPU allocated to the job.
<P>
Supported <I>type</I> options:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_closest"></a>
<DT><B>closest</B><DD>
Bind each task to the GPU(s) which are closest.
In a NUMA environment, each task may be bound to more than one GPU (i.e.
all GPUs in that NUMA environment).
<a id="OPT_map_gpu:&lt;list&gt;"></a>
<DT><B>map_gpu:&lt;list&gt;</B><DD>
Bind by setting GPU masks on tasks (or ranks) as specified where &lt;list&gt; is
&lt;gpu_id_for_task_0&gt;,&lt;gpu_id_for_task_1&gt;,... GPU IDs are interpreted as decimal
values unless they are preceded with '0x' in which case they interpreted as
hexadecimal values. If the number of tasks (or ranks) exceeds the number of
elements in this list, elements in the list will be reused as needed starting
from the beginning of the list. To simplify support for large task counts,
the lists may follow a map with an asterisk and repetition count.
For example &quot;map_cpu:0*4,1*4&quot;.
Not supported unless the entire node is allocated to the job.
<a id="OPT_mask_gpu:&lt;list&gt;"></a>
<DT><B>mask_gpu:&lt;list&gt;</B><DD>
Bind by setting GPU masks on tasks (or ranks) as specified where &lt;list&gt; is
&lt;gpu_mask_for_task_0&gt;,&lt;gpu_mask_for_task_1&gt;,... The mapping is specified for
a node and identical mapping is applied to the tasks on every node (i.e. the
lowest task ID on each node is mapped to the first mask specified in the list,
etc.). GPU masks are always interpreted as hexadecimal values but can be
preceded with an optional '0x'. Not supported unless the entire node is
allocated to the job. To simplify support for large task counts, the lists
may follow a map with an asterisk and repetition count.
For example &quot;mask_gpu:0x0f*4,0xf0*4&quot;.
Not supported unless the entire node is allocated to the job.
</DL>
</DL>

<P>
<a id="OPT_gpu-freq"></a>
<DT><B>--gpu-freq</B>=[&lt;<I>type</I>]=<I>value</I>&gt;[,&lt;<I>type</I>=<I>value</I>&gt;][,verbose]<DD>
Request that GPUs allocated to the job are configured with specific frequency
values.
This option can be used to independently configure the GPU and its memory
frequencies.
After the job is completed, the frequencies of all affected GPUs will be reset
to the highest possible values.
In some cases, system power caps may override the requested values.
The field <I>type</I> can be &quot;memory&quot;.
If <I>type</I> is not specified, the GPU frequency is implied.
The <I>value</I> field can either be &quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;highm1&quot; or
a numeric value in megahertz (MHz).
If the specified numeric value is not possible, a value as close as
possible will be used. See below for definition of the values.
The <I>verbose</I> option causes current GPU frequency information to be logged.
Examples of use include &quot;--gpu-freq=medium,memory=high&quot; and
&quot;--gpu-freq=450&quot;.
<P>
Supported <I>value</I> definitions:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_low"></a>
<DT><B>low</B><DD>
the lowest available frequency.
<a id="OPT_medium"></a>
<DT><B>medium</B><DD>
attempts to set a frequency in the middle of the available range.
<a id="OPT_high"></a>
<DT><B>high</B><DD>
the highest available frequency.
<a id="OPT_highm1"></a>
<DT><B>highm1</B><DD>
(high minus one) will select the next highest available frequency.
</DL>
</DL>

<P>
<a id="OPT_gpus-per-node"></a>
<DT><B>--gpus-per-node</B>=[&lt;type&gt;:]&lt;<I>number</I>&gt;<DD>
Specify the number of GPUs required for the job on each node included in
the job's resource allocation.
An optional GPU type specification can be supplied.
For example &quot;--gpus-per-node=volta:3&quot;.
Multiple options can be requested in a comma separated list, for example:
&quot;--gpus-per-node=volta:3,kepler:1&quot;.
See also the <B>--gpus</B>, <B>--gpus-per-socket</B> and
<B>--gpus-per-task</B> options.
<P>
<a id="OPT_gpus-per-socket"></a>
<DT><B>--gpus-per-socket</B>=[&lt;type&gt;:]&lt;<I>number</I>&gt;<DD>
Specify the number of GPUs required for the job on each socket included in
the job's resource allocation.
An optional GPU type specification can be supplied.
For example &quot;--gpus-per-socket=volta:3&quot;.
Multiple options can be requested in a comma separated list, for example:
&quot;--gpus-per-socket=volta:3,kepler:1&quot;.
Requires job to specify a sockets per node count ( --sockets-per-node).
See also the <B>--gpus</B>, <B>--gpus-per-node</B> and
<B>--gpus-per-task</B> options.
This option applies to job allocations.
<P>
<a id="OPT_gpus-per-task"></a>
<DT><B>--gpus-per-task</B>=[&lt;type&gt;:]&lt;<I>number</I>&gt;<DD>
Specify the number of GPUs required for the job on each task to be spawned
in the job's resource allocation.
An optional GPU type specification can be supplied.
This option requires the specification of a task count.
For example &quot;--gpus-per-task=volta:1&quot;.
Multiple options can be requested in a comma separated list, for example:
&quot;--gpus-per-task=volta:3,kepler:1&quot;.
Requires job to specify a task count (--nodes).
See also the <B>--gpus</B>, <B>--gpus-per-socket</B> and
<B>--gpus-per-node</B> options.
<P>
<a id="OPT_gres"></a>
<DT><B>--gres</B>=&lt;<I>list</I>&gt;<DD>
Specifies a comma delimited list of generic consumable resources.
The format of each entry on the list is &quot;name[[:type]:count]&quot;.
The name is that of the consumable resource.
The count is the number of those resources with a default value of 1.
The count can have a suffix of
&quot;k&quot; or &quot;K&quot; (multiple of 1024),
&quot;m&quot; or &quot;M&quot; (multiple of 1024 x 1024),
&quot;g&quot; or &quot;G&quot; (multiple of 1024 x 1024 x 1024),
&quot;t&quot; or &quot;T&quot; (multiple of 1024 x 1024 x 1024 x 1024),
&quot;p&quot; or &quot;P&quot; (multiple of 1024 x 1024 x 1024 x 1024 x 1024).
The specified resources will be allocated to the job on each node.
The available generic consumable resources is configurable by the system
administrator.
A list of available generic consumable resources will be printed and the
command will exit if the option argument is &quot;help&quot;.
Examples of use include &quot;--gres=gpu:2,mic:1&quot;, &quot;--gres=gpu:kepler:2&quot;, and
&quot;--gres=help&quot;.
NOTE: This option applies to job and step allocations. By default, a job step
is allocated all of the generic resources that have allocated to the job.
To change the behavior so that each job step is allocated no generic resources,
explicitly set the value of --gres to specify zero counts for each generic
resource OR set &quot;--gres=none&quot; OR set the SLURM_STEP_GRES environment variable
to &quot;none&quot;.
<P>
<a id="OPT_gres-flags"></a>
<DT><B>--gres-flags</B>=&lt;<I>type</I>&gt;<DD>
Specify generic resource task binding options.
This option applies to job allocations.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_disable-binding"></a>
<DT><B>disable-binding</B>

<DD>
Disable filtering of CPUs with respect to generic resource locality.
This option is currently required to use more CPUs than are bound to a GRES
(i.e. if a GPU is bound to the CPUs on one socket, but resources on more than
one socket are required to run the job).
This option may permit a job to be allocated resources sooner than otherwise
possible, but may result in lower job performance.
<a id="OPT_enforce-binding"></a>
<DT><B>enforce-binding</B>

<DD>
The only CPUs available to the job will be those bound to the selected
GRES (i.e. the CPUs identified in the gres.conf file will be strictly
enforced). This option may result in delayed initiation of a job.
For example a job requiring two GPUs and one CPU will be delayed until both
GPUs on a single socket are available rather than using GPUs bound to separate
sockets, however the application performance may be improved due to improved
communication speed.
Requires the node to be configured with more than one socket and resource
filtering will be performed on a per-socket basis.
</DL>
</DL>

<P>
<a id="OPT_hold"></a>
<DT><B>-H, --hold</B><DD>
Specify the job is to be submitted in a held state (priority of zero).
A held job can now be released using scontrol to reset its priority
(e.g. &quot;<I>scontrol release &lt;job_id&gt;</I>&quot;). This option applies to job
allocations.
<P>
<a id="OPT_help_1"></a>
<DT><B>-h</B>, <B>--help</B><DD>
Display help information and exit.
<P>
<a id="OPT_hint"></a>
<DT><B>--hint</B>=&lt;<I>type</I>&gt;<DD>
Bind tasks according to application hints.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_compute_bound"></a>
<DT><B>compute_bound</B>

<DD>
Select settings for compute bound applications:
use all cores in each socket, one thread per core.
<a id="OPT_memory_bound"></a>
<DT><B>memory_bound</B>

<DD>
Select settings for memory bound applications:
use only one core in each socket, one thread per core.
<a id="OPT_[no]multithread"></a>
<DT><B>[no]multithread</B>

<DD>
[don't] use extra threads with in-core multi-threading
which can benefit communication intensive applications.
Only supported with the task/affinity plugin.
<a id="OPT_help_2"></a>
<DT><B>help</B>

<DD>
show this help message
<DT>This option applies to job allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_immediate"></a>
<DT><B>-I</B>, <B>--immediate</B>[=&lt;<I>seconds</I>&gt;]<DD>
exit if resources are not available within the
time period specified.
If no argument is given, resources must be available immediately
for the request to succeed.
By default, <B>--immediate</B> is off, and the command
will block until resources become available. Since this option's
argument is optional, for proper parsing the single letter option
must be followed immediately with the value and not include a
space between them. For example &quot;-I60&quot; and not &quot;-I 60&quot;. This option applies
to job and step allocations.
<P>
<a id="OPT_input"></a>
<DT><B>-i</B>, <B>--input</B>=&lt;<I>mode</I>&gt;<DD>
Specify how stdin is to redirected. By default,
<B>srun</B>

redirects stdin from the terminal all tasks. See <B>IO Redirection</B>
below for more options.
For OS X, the poll() function does not support stdin, so input from
a terminal is not possible. This option applies to job and step allocations.
<P>
<a id="OPT_job-name"></a>
<DT><B>-J</B>, <B>--job-name</B>=&lt;<I>jobname</I>&gt;<DD>
Specify a name for the job. The specified name will appear along with
the job id number when querying running jobs on the system. The default
is the supplied <B>executable</B> program's name. NOTE: This information
may be written to the slurm_jobacct.log file. This file is space delimited
so if a space is used in the <I>jobname</I> name it will cause problems in
properly displaying the contents of the slurm_jobacct.log file when the
<B>sacct</B> command is used. This option applies to job and step allocations.
<P>
<a id="OPT_jobid"></a>
<DT><B>--jobid</B>=&lt;<I>jobid</I>&gt;<DD>
Initiate a job step under an already allocated job with job id <I>id</I>.
Using this option will cause <B>srun</B> to behave exactly as if the
SLURM_JOB_ID environment variable was set. This option applies to step
allocations.
<P>
<a id="OPT_kill-on-bad-exit"></a>
<DT><B>-K</B>, <B>--kill-on-bad-exit</B>[=0|1]<DD>
Controls whether or not to terminate a step if any task exits with a non-zero
exit code. If this option is not specified, the default action will be based
upon the Slurm configuration parameter of <B>KillOnBadExit</B>. If this option
is specified, it will take precedence over <B>KillOnBadExit</B>. An option
argument of zero will not terminate the job. A non-zero argument or no
argument will terminate the job.
Note: This option takes precedence over the <B>-W</B>, <B>--wait</B> option
to terminate the job immediately if a task exits with a non-zero exit code.
Since this option's argument is optional, for proper parsing the
single letter option must be followed immediately with the value and
not include a space between them. For example &quot;-K1&quot; and not &quot;-K 1&quot;.
<P>
<a id="OPT_no-kill"></a>
<DT><B>-k</B>, <B>--no-kill</B> [=off]<DD>
Do not automatically terminate a job if one of the nodes it has been
allocated fails. This option applies to job and step allocations.
The job will assume all responsibilities for fault-tolerance.
Tasks launch using this option will not be considered terminated
(e.g. <B>-K</B>, <B>--kill-on-bad-exit</B> and
<B>-W</B>, <B>--wait</B> options will have no effect upon the job step).
The active job step (MPI job) will likely suffer a fatal error,
but subsequent job steps may be run if this option is specified.
<P>
Specify an optional argument of &quot;off&quot; disable the effect of the
<B>SLURM_NO_KILL</B> environment variable.
<P>
The default action is to terminate the job upon node failure.
<P>
<a id="OPT_label"></a>
<DT><B>-l</B>, <B>--label</B><DD>
Prepend task number to lines of stdout/err.
The <B>--label</B> option will prepend lines of output with the remote
task id. This option applies to step allocations.
<P>
<a id="OPT_licenses"></a>
<DT><B>-L</B>, <B>--licenses</B>=&lt;<B>license</B>&gt;<DD>
Specification of licenses (or other resources available on all
nodes of the cluster) which must be allocated to this job.
License names can be followed by a colon and count
(the default count is one).
Multiple license names should be comma separated (e.g.
&quot;--licenses=foo:4,bar&quot;). This option applies to job allocations.
<P>
<a id="OPT_clusters"></a>
<DT><B>-M</B>, <B>--clusters</B>=&lt;<I>string</I>&gt;<DD>
Clusters to issue commands to.  Multiple cluster names may be comma separated.
The job will be submitted to the one cluster providing the earliest expected
job initiation time. The default value is the current cluster. A value of
'<I>all</I>' will query to run on all clusters.  Note the
<B>--export</B> option to control environment variables exported
between clusters.
This option applies only to job allocations.
Note that the SlurmDBD must be up for this option to work properly.
<P>
<DT>
<DD>
<B>-m</B>, <B>--distribution</B>=
<I>*</I>|<I>block</I>|<I>cyclic</I>|<I>arbitrary</I>|<I>plane=&lt;options&gt;
</I>[:<I>*</I>|<I>block</I>|<I>cyclic</I>|<I>fcyclic</I>[:<I>*</I>|<I>block</I>|
<I>cyclic</I>|<I>fcyclic</I>]][,<I>Pack</I>|<I>NoPack</I>]

<P>
Specify alternate distribution methods for remote processes.
This option controls the distribution of tasks to the nodes on which
resources have been allocated, and the distribution of those resources
to tasks for binding (task affinity). The first distribution
method (before the first &quot;:&quot;) controls the distribution of tasks to nodes. 
The second distribution method (after the first &quot;:&quot;)
controls the distribution of allocated CPUs across sockets for binding
to tasks. The third distribution method (after the second &quot;:&quot;) controls
the distribution of allocated CPUs across cores for binding to tasks.
The second and third distributions apply only if task affinity is enabled.
The third distribution is supported only if the task/cgroup plugin is
configured. The default value for each distribution type is specified by *.
<P>
Note that with select/cons_res, the number of CPUs allocated on each
socket and node may be different. Refer to
the <a href="mc_support.html">mc_support</a> document
for more information on resource allocation, distribution of tasks to
nodes, and binding of tasks to CPUs.
<DL COMPACT><DT><DD>
First distribution method (distribution of tasks across nodes):
<P>
<DL COMPACT>
<a id="OPT_*"></a>
<DT><B>*</B>

<DD>
Use the default method for distributing tasks to nodes (block).
<a id="OPT_block"></a>
<DT><B>block</B>

<DD>
The block distribution method will distribute tasks to a node such
that consecutive tasks share a node. For example, consider an
allocation of three nodes each with two cpus. A four-task block
distribution request will distribute those tasks to the nodes with
tasks one and two on the first node, task three on the second node,
and task four on the third node.  Block distribution is the default
behavior if the number of tasks exceeds the number of allocated nodes.
<a id="OPT_cyclic"></a>
<DT><B>cyclic</B>

<DD>
The cyclic distribution method will distribute tasks to a node such
that consecutive tasks are distributed over consecutive nodes (in a
round-robin fashion). For example, consider an allocation of three
nodes each with two cpus. A four-task cyclic distribution request
will distribute those tasks to the nodes with tasks one and four on
the first node, task two on the second node, and task three on the
third node.
Note that when SelectType is select/cons_res, the same number of CPUs
may not be allocated on each node. Task distribution will be
round-robin among all the nodes with CPUs yet to be assigned to tasks.
Cyclic distribution is the default behavior if the number
of tasks is no larger than the number of allocated nodes.
<a id="OPT_plane"></a>
<DT><B>plane</B>

<DD>
The tasks are distributed in blocks of a specified size.  The options
include a number representing the size of the task block.  This is
followed by an optional specification of the task distribution scheme
within a block of tasks and between the blocks of tasks.  The number of tasks
distributed to each node is the same as for cyclic distribution, but the
taskids assigned to each node depend on the plane size. For more
details (including examples and diagrams), please see
<BR>

the <a href="mc_support.html">mc_support</a> document
<BR>

and
<BR>

<A HREF="https://slurm.schedmd.com/dist_plane.html">https://slurm.schedmd.com/dist_plane.html</A>
<a id="OPT_arbitrary"></a>
<DT><B>arbitrary</B>

<DD>
The arbitrary method of distribution will allocate processes in-order
as listed in file designated by the environment variable
SLURM_HOSTFILE.  If this variable is listed it will over ride any
other method specified.  If not set the method will default to block.
Inside the hostfile must contain at minimum the number of hosts
requested and be one per line or comma separated.  If specifying a
task count (<B>-n</B>, <B>--ntasks</B>=&lt;<I>number</I>&gt;), your tasks
will be laid out on the nodes in the order of the file.
<BR>

<B>NOTE:</B> The arbitrary distribution option on a job allocation only
controls the nodes to be allocated to the job and not the allocation of
CPUs on those nodes. This option is meant primarily to control a job step's
task layout in an existing job allocation for the srun command.
<BR>

<B>NOTE:</B> If number of tasks is given and a list of requested nodes is also
given the number of nodes used from that list will be reduced to match that of
the number of tasks if the number of nodes in the list is greater than the
number of tasks.
<P>
<DT>Second distribution method (distribution of CPUs across sockets for binding):<DD>
<P>
<a id="OPT_*_1"></a>
<DT><B>*</B>

<DD>
Use the default method for distributing CPUs across sockets (cyclic).
<a id="OPT_block_1"></a>
<DT><B>block</B>

<DD>
The block distribution method will distribute allocated CPUs 
consecutively from the same socket for binding to tasks, before using
the next consecutive socket.
<a id="OPT_cyclic_1"></a>
<DT><B>cyclic</B>

<DD>
The cyclic distribution method will distribute allocated CPUs for
binding to a given task consecutively from the same socket, and
from the next consecutive socket for the next task, in a 
round-robin fashion across sockets. 
<a id="OPT_fcyclic"></a>
<DT><B>fcyclic</B>

<DD>
The fcyclic distribution method will distribute allocated CPUs 
for binding to tasks from consecutive sockets in a
round-robin fashion across the sockets.
<P>
<DT>Third distribution method (distribution of CPUs across cores for binding):<DD>
<P>
<a id="OPT_*_2"></a>
<DT><B>*</B>

<DD>
Use the default method for distributing CPUs across cores
(inherited from second distribution method).
<a id="OPT_block_2"></a>
<DT><B>block</B>

<DD>
The block distribution method will distribute allocated CPUs 
consecutively from the same core for binding to tasks, before using
the next consecutive core.
<a id="OPT_cyclic_2"></a>
<DT><B>cyclic</B>

<DD>
The cyclic distribution method will distribute allocated CPUs for
binding to a given task consecutively from the same core, and
from the next consecutive core for the next task, in a 
round-robin fashion across cores. 
<a id="OPT_fcyclic_1"></a>
<DT><B>fcyclic</B>

<DD>
The fcyclic distribution method will distribute allocated CPUs 
for binding to tasks from consecutive cores in a
round-robin fashion across the cores.
<P>
<P>
<DT>Optional control for task distribution over nodes:<DD>
<P>
<a id="OPT_Pack"></a>
<DT><B>Pack</B>

<DD>
Rather than evenly distributing a job step's tasks evenly across it's allocated
nodes, pack them as tightly as possible on the nodes.
<a id="OPT_NoPack"></a>
<DT><B>NoPack</B>

<DD>
Rather than packing a job step's tasks as tightly as possible on the nodes,
distribute them evenly.
This user option will supersede the SelectTypeParameters CR_Pack_Nodes
configuration parameter.
<DT>This option applies to job and step allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_mail-type"></a>
<DT><B>--mail-type</B>=&lt;<I>type</I>&gt;<DD>
Notify user by email when certain event types occur.
Valid <I>type</I> values are NONE, BEGIN, END, FAIL, REQUEUE, ALL (equivalent to
BEGIN, END, FAIL, REQUEUE, and STAGE_OUT), STAGE_OUT (burst buffer stage out
and teardown completed), TIME_LIMIT, TIME_LIMIT_90 (reached 90 percent of time limit),
TIME_LIMIT_80 (reached 80 percent of time limit), and TIME_LIMIT_50
(reached 50 percent of time limit).
Multiple <I>type</I> values may be specified in a comma separated list.
The user to be notified is indicated with <B>--mail-user</B>. This option
applies to job allocations.
<P>
<a id="OPT_mail-user"></a>
<DT><B>--mail-user</B>=&lt;<I>user</I>&gt;<DD>
User to receive email notification of state changes as defined by
<B>--mail-type</B>.
The default value is the submitting user. This option applies to job
allocations.
<P>
<a id="OPT_mcs-label"></a>
<DT><B>--mcs-label</B>=&lt;<I>mcs</I>&gt;<DD>
Used only when the mcs/group plugin is enabled.
This parameter is a group among the groups of the user.
Default value is calculated by the Plugin mcs if it's enabled. This option
applies to job allocations.
<P>
<a id="OPT_mem"></a>
<DT><B>--mem</B>=&lt;<I>size[units]</I>&gt;<DD>
Specify the real memory required per node.
Default units are megabytes unless the SchedulerParameters configuration
parameter includes the &quot;default_gbytes&quot; option for gigabytes.
Different units can be specified using the suffix [K|M|G|T].
Default value is <B>DefMemPerNode</B> and the maximum value is
<B>MaxMemPerNode</B>. If configured, both of parameters can be
seen using the <B>scontrol show config</B> command.
This parameter would generally be used if whole nodes
are allocated to jobs (<B>SelectType=select/linear</B>).
Specifying a memory limit of zero for a job step will restrict the job step
to the amount of memory allocated to the job, but not remove any of the job's
memory allocation from being available to other job steps.
Also see <B>--mem-per-cpu</B> and <B>--mem-per-gpu</B>.
The <B>--mem</B>, <B>--mem-per-cpu</B> and <B>--mem-per-gpu</B>
options are mutually exclusive.
<P>
NOTE: A memory size specification of zero is treated as a special case and
grants the job access to all of the memory on each node for newly submitted jobs
and all available job memory to a new job steps.
<P>
Specifying new memory limits for job steps are only advisory.
<P>
If the job is allocated multiple nodes in a heterogeneous cluster, the memory
limit on each node will be that of the node in the allocation with the smallest
memory size (same limit will apply to every node in the job's allocation).
<P>
NOTE: Enforcement of memory limits currently relies upon the task/cgroup plugin
or enabling of accounting, which samples memory use on a periodic basis (data
need not be stored, just collected). In both cases memory use is based upon
the job's Resident Set Size (RSS). A task may exceed the memory limit until
the next periodic accounting sample.
<P>
This option applies to job and step allocations.
<P>
<a id="OPT_mem-per-cpu"></a>
<DT><B>--mem-per-cpu</B>=&lt;<I>size[units]</I>&gt;<DD>
Minimum memory required per allocated CPU.
Default units are megabytes unless the SchedulerParameters configuration
parameter includes the &quot;default_gbytes&quot; option for gigabytes.
Different units can be specified using the suffix [K|M|G|T].
Default value is <B>DefMemPerCPU</B> and the maximum value is <B>MaxMemPerCPU</B>
(see exception below). If configured, both of parameters can be
seen using the <B>scontrol show config</B> command.
Note that if the job's <B>--mem-per-cpu</B> value exceeds the configured
<B>MaxMemPerCPU</B>, then the user's limit will be treated as a memory limit
per task; <B>--mem-per-cpu</B> will be reduced to a value no larger than
<B>MaxMemPerCPU</B>; <B>--cpus-per-task</B> will be set and the value of
<B>--cpus-per-task</B> multiplied by the new <B>--mem-per-cpu</B>
value will equal the original <B>--mem-per-cpu</B> value specified by
the user.
This parameter would generally be used if individual processors
are allocated to jobs (<B>SelectType=select/cons_res</B>).
If resources are allocated by the core, socket or whole nodes; the number
of CPUs allocated to a job may be higher than the task count and the value
of <B>--mem-per-cpu</B> should be adjusted accordingly.
Specifying a memory limit of zero for a job step will restrict the job step
to the amount of memory allocated to the job, but not remove any of the job's
memory allocation from being available to other job steps.
Also see <B>--mem</B> and <B>--mem-per-gpu</B>.
The <B>--mem</B>, <B>--mem-per-cpu</B> and <B>--mem-per-gpu</B>
options are mutually exclusive.
<P>
<a id="OPT_mem-per-gpu"></a>
<DT><B>--mem-per-gpu</B>=&lt;<I>size[units]</I>&gt;<DD>
Minimum memory required per allocated GPU.
Default units are megabytes unless the SchedulerParameters configuration
parameter includes the &quot;default_gbytes&quot; option for gigabytes.
Different units can be specified using the suffix [K|M|G|T].
Default value is <B>DefMemPerGPU</B> and is available on both a global and
per partition basis.
If configured, the parameters can be seen using the <B>scontrol show config</B>
and <B>scontrol show partition</B> commands.
Also see <B>--mem</B>.
The <B>--mem</B>, <B>--mem-per-cpu</B> and <B>--mem-per-gpu</B>
options are mutually exclusive.
<P>
<a id="OPT_mem-bind"></a>
<DT><B>--mem-bind</B>=[{<I>quiet,verbose</I>},]<I>type</I><DD>
Bind tasks to memory. Used only when the task/affinity plugin is enabled
and the NUMA memory functions are available.
<B>Note that the resolution of CPU and memory binding
may differ on some architectures.</B> For example, CPU binding may be performed
at the level of the cores within a processor while memory binding will
be performed at the level of nodes, where the definition of &quot;nodes&quot;
may differ from system to system.
By default no memory binding is performed; any task using any CPU can use
any memory. This option is typically used to ensure that each task is bound to
the memory closest to it's assigned CPU. <B>The use of any type other than
&quot;none&quot; or &quot;local&quot; is not recommended.</B>
If you want greater control, try running a simple test code with the
options &quot;--cpu-bind=verbose,none --mem-bind=verbose,none&quot; to determine
the specific configuration.
<P>
NOTE: To have Slurm always report on the selected memory binding for
all commands executed in a shell, you can enable verbose mode by
setting the SLURM_MEM_BIND environment variable value to &quot;verbose&quot;.
<P>
The following informational environment variables are set when
<B>--mem-bind</B> is in use:
<P>
<PRE>
        SLURM_MEM_BIND_LIST
        SLURM_MEM_BIND_PREFER
        SLURM_MEM_BIND_SORT
        SLURM_MEM_BIND_TYPE
        SLURM_MEM_BIND_VERBOSE
</PRE>

<P>
See the <B>ENVIRONMENT VARIABLES</B> section for a more detailed description
of the individual SLURM_MEM_BIND* variables.
<P>
Supported options include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_help_3"></a>
<DT><B>help</B>

<DD>
show this help message
<a id="OPT_local"></a>
<DT><B>local</B>

<DD>
Use memory local to the processor in use
<a id="OPT_map_mem:&lt;list&gt;"></a>
<DT><B>map_mem:&lt;list&gt;</B>

<DD>
Bind by setting memory masks on tasks (or ranks) as specified where &lt;list&gt; is
&lt;numa_id_for_task_0&gt;,&lt;numa_id_for_task_1&gt;,...
The mapping is specified for a node and identical mapping is applied to the
tasks on every node (i.e. the lowest task ID on each node is mapped to the
first ID specified in the list, etc.).
NUMA IDs are interpreted as decimal values unless they are preceded
with '0x' in which case they interpreted as hexadecimal values.
If the number of tasks (or ranks) exceeds the number of elements in this list,
elements in the list will be reused as needed starting from the beginning of
the list.
To simplify support for large task counts, the lists may follow a map with an
asterisk and repetition count
For example &quot;map_mem:0x0f*4,0xf0*4&quot;.
Not supported unless the entire node is allocated to the job.
<a id="OPT_mask_mem:&lt;list&gt;"></a>
<DT><B>mask_mem:&lt;list&gt;</B>

<DD>
Bind by setting memory masks on tasks (or ranks) as specified where &lt;list&gt; is
&lt;numa_mask_for_task_0&gt;,&lt;numa_mask_for_task_1&gt;,...
The mapping is specified for a node and identical mapping is applied to the
tasks on every node (i.e. the lowest task ID on each node is mapped to the
first mask specified in the list, etc.).
NUMA masks are <B>always</B> interpreted as hexadecimal values.
Note that masks must be preceded with a '0x' if they don't begin
with [0-9] so they are seen as numerical values.
If the number of tasks (or ranks) exceeds the number of elements in this list,
elements in the list will be reused as needed starting from the beginning of
the list.
To simplify support for large task counts, the lists may follow a mask with an
asterisk and repetition count
For example &quot;mask_mem:0*4,1*4&quot;.
Not supported unless the entire node is allocated to the job.
<a id="OPT_no[ne]_1"></a>
<DT><B>no[ne]</B>

<DD>
don't bind tasks to memory (default)
<a id="OPT_nosort"></a>
<DT><B>nosort</B>

<DD>
avoid sorting free cache pages (default, LaunchParameters configuration
parameter can override this default)
<a id="OPT_p[refer]"></a>
<DT><B>p[refer]</B>

<DD>
Prefer use of first specified NUMA node, but permit
<BR>&nbsp;use&nbsp;of&nbsp;other&nbsp;available&nbsp;NUMA&nbsp;nodes.
<a id="OPT_q[uiet]_1"></a>
<DT><B>q[uiet]</B>

<DD>
quietly bind before task runs (default)
<a id="OPT_rank_1"></a>
<DT><B>rank</B>

<DD>
bind by task rank (not recommended)
<a id="OPT_sort"></a>
<DT><B>sort</B>

<DD>
sort free cache pages (run zonesort on Intel KNL nodes)
<a id="OPT_v[erbose]_1"></a>
<DT><B>v[erbose]</B>

<DD>
verbosely report binding before task runs
<DT>This option applies to job and step allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_mincpus"></a>
<DT><B>--mincpus</B>=&lt;<I>n</I>&gt;<DD>
Specify a minimum number of logical cpus/processors per node. This option
applies to job allocations.
<P>
<a id="OPT_msg-timeout"></a>
<DT><B>--msg-timeout</B>=&lt;<I>seconds</I>&gt;<DD>
Modify the job launch message timeout.
The default value is <B>MessageTimeout</B> in the Slurm configuration file slurm.conf.
Changes to this are typically not recommended, but could be useful to diagnose problems.
This option applies to job allocations.
<P>
<a id="OPT_mpi"></a>
<DT><B>--mpi</B>=&lt;<I>mpi_type</I>&gt;<DD>
Identify the type of MPI to be used. May result in unique initiation
procedures.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_list"></a>
<DT><B>list</B>

<DD>
Lists available mpi types to choose from.
<a id="OPT_openmpi"></a>
<DT><B>openmpi</B>

<DD>
For use with OpenMPI.
<a id="OPT_pmi2"></a>
<DT><B>pmi2</B>

<DD>
To enable PMI2 support. The PMI2 support in Slurm works only if the MPI
implementation supports it, in other words if the MPI has the PMI2
interface implemented. The --mpi=pmi2 will load the library
lib/slurm/mpi_pmi2.so which provides the server side functionality but
the client side must implement PMI2_Init() and the other interface calls.
<a id="OPT_pmix"></a>
<DT><B>pmix</B>

<DD>
To enable PMIx support (<A HREF="http://pmix.github.io/master).">http://pmix.github.io/master).</A> The PMIx support
in Slurm can be used to launch parallel applications (e.g. MPI) if it
supports PMIx, PMI2 or PMI1. Slurm must be configured with pmix support
by passing &quot;--with-pmix=&lt;PMIx installation path&gt;&quot; option to its 
&quot;./configure&quot; script.
<P>
At the time of writing PMIx is supported in Open MPI starting from version 2.0.
PMIx also supports backward compatibility with PMI1 and PMI2 and can be 
used if MPI was configured with PMI2/PMI1 support pointing to the PMIx library
(&quot;libpmix&quot;).
If MPI supports PMI1/PMI2 but doesn't provide the way to point to a specific 
implementation, a hack'ish solution leveraging LD_PRELOAD can be used to 
force &quot;libpmix&quot; usage.
<P>
<a id="OPT_none"></a>
<DT><B>none</B>

<DD>
No special MPI processing. This is the default and works with
many other versions of MPI.
<DT>This option applies to step allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_multi-prog"></a>
<DT><B>--multi-prog</B><DD>
Run a job with different programs and different arguments for
each task. In this case, the executable program specified is
actually a configuration file specifying the executable and
arguments for each task. See <B>MULTIPLE PROGRAM CONFIGURATION</B>
below for details on the configuration file contents. This option applies to
step allocations.
<P>
<a id="OPT_nodes"></a>
<DT><B>-N</B>, <B>--nodes</B>=&lt;<I>minnodes</I>[-<I>maxnodes</I>]&gt;<DD>
Request that a minimum of <I>minnodes</I> nodes be allocated to this job.
A maximum node count may also be specified with <I>maxnodes</I>.
If only one number is specified, this is used as both the minimum and
maximum node count.
The partition's node limits supersede those of the job.
If a job's node limits are outside of the range permitted for its
associated partition, the job will be left in a PENDING state.
This permits possible execution at a later time, when the partition
limit is changed.
If a job node limit exceeds the number of nodes configured in the
partition, the job will be rejected.
Note that the environment
variable <B>SLURM_JOB_NUM_NODES</B> (and <B>SLURM_NNODES</B> for backwards compatibility)
will be set to the count of nodes actually
allocated to the job. See the <B>ENVIRONMENT VARIABLES</B> section
for more information.  If <B>-N</B> is not specified, the default
behavior is to allocate enough nodes to satisfy the requirements of
the <B>-n</B> and <B>-c</B> options.
The job will be allocated as many nodes as possible within the range specified
and without delaying the initiation of the job.
If number of tasks is given and a number of requested nodes is also given the
number of nodes used from that request will be reduced to match that of the
number of tasks if the number of nodes in the request is greater than the number
of tasks.
The node count specification may include a numeric value followed by a suffix
of &quot;k&quot; (multiplies numeric value by 1,024) or &quot;m&quot; (multiplies numeric value by
1,048,576). This option applies to job and step allocations.
<P>
<a id="OPT_ntasks"></a>
<DT><B>-n</B>, <B>--ntasks</B>=&lt;<I>number</I>&gt;<DD>
Specify the number of tasks to run. Request that <B>srun</B>
allocate resources for <I>ntasks</I> tasks.
The default is one task per node, but note
that the <B>--cpus-per-task</B> option will change this default. This option
applies to job and step allocations.
<P>
<a id="OPT_network"></a>
<DT><B>--network</B>=&lt;<I>type</I>&gt;<DD>
Specify information pertaining to the switch or network.
The interpretation of <I>type</I> is system dependent.
This option is supported when running Slurm on a Cray natively.  It is
used to request using Network Performance Counters.
Only one value per request is valid.
All options are case in-sensitive.
In this configuration supported values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_system"></a>
<DT><B>system</B><DD>
Use the system-wide network performance counters. Only nodes requested
will be marked in use for the job allocation.  If the job does not
fill up the entire system the rest of the nodes are not
able to be used by other jobs using NPC, if idle their state will appear as
PerfCnts.  These nodes are still available for other jobs not using NPC.
<a id="OPT_blade"></a>
<DT><B>blade</B><DD>
Use the blade network performance counters. Only nodes requested
will be marked in use for the job allocation.  If the job does not
fill up the entire blade(s) allocated to the job those blade(s) are not
able to be used by other jobs using NPC, if idle their state will appear as
PerfCnts.  These nodes are still available for other jobs not using NPC.
<DT></DL>
</DL>

<DD>
<P>
<BR>

<BR>

In all cases the job or step allocation request <B>must specify the
--exclusive option</B>.  Otherwise the request will be denied.
<P>
<BR>

<BR>

Also with any of these options steps are not allowed to share blades,
so resources would remain idle inside an allocation if the step
running on a blade does not take up all the nodes on the blade.
<P>
<BR>

<BR>

The <B>network</B> option is also supported on systems with IBM's Parallel Environment (PE).
See IBM's LoadLeveler job command keyword documentation about the keyword
&quot;network&quot; for more information.
Multiple values may be specified in a comma separated list.
All options are case in-sensitive.
Supported values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_BULK_XFER"></a>
<DT><B>BULK_XFER</B>[=&lt;<I>resources</I>&gt;]<DD>
Enable bulk transfer of data using Remote Direct-Memory Access (RDMA).
The optional <I>resources</I> specification is a numeric value which can have
a suffix of &quot;k&quot;, &quot;K&quot;, &quot;m&quot;, &quot;M&quot;, &quot;g&quot; or &quot;G&quot; for kilobytes, megabytes or
gigabytes.
NOTE: The <I>resources</I> specification is not supported by the underlying
IBM infrastructure as of Parallel Environment version 2.2 and no value should
be specified at this time.
The devices allocated to a job must all be of the same type.
The default value depends upon depends upon what hardware is available and in
order of preferences is IPONLY (which is not considered in User Space mode),
HFI, IB, HPCE, and KMUX.
<a id="OPT_CAU"></a>
<DT><B>CAU</B>=&lt;<I>count</I>&gt;<DD>
Number of Collective Acceleration Units (CAU) required.
Applies only to IBM Power7-IH processors.
Default value is zero.
Independent CAU will be allocated for each programming interface (MPI, LAPI, etc.)
<a id="OPT_DEVNAME"></a>
<DT><B>DEVNAME</B>=&lt;<I>name</I>&gt;<DD>
Specify the device name to use for communications (e.g. &quot;eth0&quot; or &quot;mlx4_0&quot;).
<a id="OPT_DEVTYPE"></a>
<DT><B>DEVTYPE</B>=&lt;<I>type</I>&gt;<DD>
Specify the device type to use for communications.
The supported values of <I>type</I> are:
&quot;IB&quot; (InfiniBand), &quot;HFI&quot; (P7 Host Fabric Interface),
&quot;IPONLY&quot; (IP-Only interfaces), &quot;HPCE&quot; (HPC Ethernet), and
&quot;KMUX&quot; (Kernel Emulation of HPCE).
The devices allocated to a job must all be of the same type.
The default value depends upon depends upon what hardware is available and in
order of preferences is IPONLY (which is not considered in User Space mode),
HFI, IB, HPCE, and KMUX.
<a id="OPT_IMMED"></a>
<DT><B>IMMED</B> =&lt;<I>count</I>&gt;<DD>
Number of immediate send slots per window required.
Applies only to IBM Power7-IH processors.
Default value is zero.
<a id="OPT_INSTANCES"></a>
<DT><B>INSTANCES</B> =&lt;<I>count</I>&gt;<DD>
Specify number of network connections for each task on each network connection.
The default instance count is 1.
<a id="OPT_IPV4"></a>
<DT><B>IPV4</B><DD>
Use Internet Protocol (IP) version 4 communications (default).
<a id="OPT_IPV6"></a>
<DT><B>IPV6</B><DD>
Use Internet Protocol (IP) version 6 communications.
<a id="OPT_LAPI"></a>
<DT><B>LAPI</B><DD>
Use the LAPI programming interface.
<a id="OPT_MPI"></a>
<DT><B>MPI</B><DD>
Use the MPI programming interface.
MPI is the default interface.
<a id="OPT_PAMI"></a>
<DT><B>PAMI</B><DD>
Use the PAMI programming interface.
<a id="OPT_SHMEM"></a>
<DT><B>SHMEM</B><DD>
Use the OpenSHMEM programming interface.
<a id="OPT_SN_ALL"></a>
<DT><B>SN_ALL</B><DD>
Use all available switch networks (default).
<a id="OPT_SN_SINGLE"></a>
<DT><B>SN_SINGLE</B><DD>
Use one available switch network.
<a id="OPT_UPC"></a>
<DT><B>UPC</B><DD>
Use the UPC programming interface.
<a id="OPT_US"></a>
<DT><B>US</B><DD>
Use User Space communications.
<DT><DD>
Some examples of network specifications:
<a id="OPT_Instances=2,US,MPI,SN_ALL"></a>
<DT><B>Instances=2,US,MPI,SN_ALL</B><DD>
Create two user space connections for MPI communications on every switch
network for each task.
<a id="OPT_US,MPI,Instances=3,Devtype=IB"></a>
<DT><B>US,MPI,Instances=3,Devtype=IB</B><DD>
Create three user space connections for MPI communications on every InfiniBand
network for each task.
<a id="OPT_IPV4,LAPI,SN_Single"></a>
<DT><B>IPV4,LAPI,SN_Single</B><DD>
Create a IP version 4 connection for LAPI communications on one switch network
for each task.
<a id="OPT_Instances=2,US,LAPI,MPI"></a>
<DT><B>Instances=2,US,LAPI,MPI</B><DD>
Create two user space connections each for LAPI and MPI communications on every
switch network for each task. Note that SN_ALL is the default option so every
switch network is used. Also note that Instances=2 specifies that two
connections are established for each protocol (LAPI and MPI) and each task.
If there are two networks and four tasks on the node then a total
of 32 connections are established (2 instances x 2 protocols x 2 networks x
4 tasks).
<DT>This option applies to job and step allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_nice"></a>
<DT><B>--nice</B>[=<I>adjustment</I>]<DD>
Run the job with an adjusted scheduling priority within Slurm. With no
adjustment value the scheduling priority is decreased by 100. A negative nice
value increases the priority, otherwise decreases it. The adjustment range is
+/- 2147483645. Only privileged users can specify a negative adjustment.
<P>
<a id="OPT_ntasks-per-core"></a>
<DT><B>--ntasks-per-core</B>=&lt;<I>ntasks</I>&gt;<DD>
Request the maximum <I>ntasks</I> be invoked on each core.
This option applies to the job allocation, but not to step allocations.
Meant to be used with the <B>--ntasks</B> option.
Related to <B>--ntasks-per-node</B> except at the core level
instead of the node level.  Masks will automatically be generated
to bind the tasks to specific core unless <B>--cpu-bind=none</B>
is specified.
NOTE: This option is not supported unless <I>SelectType=cons_res</I> is
configured (either directly or indirectly on Cray systems)
along with the node's core count.
<P>
<a id="OPT_ntasks-per-node"></a>
<DT><B>--ntasks-per-node</B>=&lt;<I>ntasks</I>&gt;<DD>
Request that <I>ntasks</I> be invoked on each node.
If used with the <B>--ntasks</B> option, the <B>--ntasks</B> option will take
precedence and the <B>--ntasks-per-node</B> will be treated as a
<I>maximum</I> count of tasks per node.
Meant to be used with the <B>--nodes</B> option.
This is related to <B>--cpus-per-task</B>=<I>ncpus</I>,
but does not require knowledge of the actual number of cpus on
each node.  In some cases, it is more convenient to be able to
request that no more than a specific number of tasks be invoked
on each node.  Examples of this include submitting
a hybrid MPI/OpenMP app where only one MPI &quot;task/rank&quot; should be
assigned to each node while allowing the OpenMP portion to utilize
all of the parallelism present in the node, or submitting a single
setup/cleanup/monitoring job to each node of a pre-existing
allocation as one step in a larger job script. This option applies to job
allocations.
<P>
<a id="OPT_ntasks-per-socket"></a>
<DT><B>--ntasks-per-socket</B>=&lt;<I>ntasks</I>&gt;<DD>
Request the maximum <I>ntasks</I> be invoked on each socket.
This option applies to the job allocation, but not to step allocations.
Meant to be used with the <B>--ntasks</B> option.
Related to <B>--ntasks-per-node</B> except at the socket level
instead of the node level.  Masks will automatically be generated
to bind the tasks to specific sockets unless <B>--cpu-bind=none</B>
is specified.
NOTE: This option is not supported unless <I>SelectType=cons_res</I> is
configured (either directly or indirectly on Cray systems)
along with the node's socket count.
<P>
<a id="OPT_overcommit"></a>
<DT><B>-O</B>, <B>--overcommit</B><DD>
Overcommit resources. This option applies to job and step allocations.
When applied to job allocation, only one CPU is allocated to the job per node
and options used to specify the number of tasks per node, socket, core, etc.
are ignored.
When applied to job step allocations (the <B>srun</B> command when executed
within an existing job allocation), this option can be used to launch more than
one task per CPU.
Normally, <B>srun</B> will not allocate more than one process per CPU.
By specifying <B>--overcommit</B> you are explicitly allowing more than one
process per CPU. However no more than <B>MAX_TASKS_PER_NODE</B> tasks are
permitted to execute per node.  NOTE: <B>MAX_TASKS_PER_NODE</B> is
defined in the file <I>slurm.h</I> and is not a variable, it is set at
Slurm build time.
<P>
<a id="OPT_output"></a>
<DT><B>-o</B>, <B>--output</B>=&lt;<I>filename pattern</I>&gt;<DD>
Specify the &quot;<I>filename pattern</I>&quot; for stdout redirection. By default in
interactive mode,
<B>srun</B>

collects stdout from all tasks and sends this output via TCP/IP to
the attached terminal. With <B>--output</B> stdout may be redirected
to a file, to one file per task, or to /dev/null. See section
<B>IO Redirection</B> below for the various forms of <I>filename pattern</I>.
If the specified file already exists, it will be overwritten.
<BR>

<P>
If <B>--error</B> is not also specified on the command line, both
stdout and stderr will directed to the file specified by <B>--output</B>. This
option applies to job and step allocations.
<P>
<a id="OPT_open-mode"></a>
<DT><B>--open-mode</B>=&lt;<I>append|truncate</I>&gt;<DD>
Open the output and error files using append or truncate mode as specified.
For heterogeneous job steps the default value is &quot;append&quot;. 
Otherwise the default value is specified by the system configuration parameter
<I>JobFileAppend</I>. This option applies to job and step allocations.
<P>
<a id="OPT_pack-group"></a>
<DT><B>--pack-group</B>=&lt;<I>expr</I>&gt;<DD>
Identify each job in a heterogeneous job allocation for which a step is
to be created. Applies only to srun commands issued inside a salloc allocation
or sbatch script.
&lt;<I>expr</I>&gt; is a set of integers corresponding to one or more options
indexes on the salloc or sbatch command line.
Examples: &quot;--pack-group=2&quot;, &quot;--pack-group=0,4&quot;, &quot;--pack-group=1,3-5&quot;.
The default value is --pack-group=0.
<P>
<a id="OPT_partition"></a>
<DT><B>-p</B>, <B>--partition</B>=&lt;<I>partition_names</I>&gt;<DD>
Request a specific partition for the resource allocation.  If not specified,
the default behavior is to allow the slurm controller to select the default
partition as designated by the system administrator. If the job can use more
than one partition, specify their names in a comma separate list and the one
offering earliest initiation will be used with no regard given to the partition
name ordering (although higher priority partitions will be considered first).
When the job is initiated, the name of the partition used will be placed first
in the job record partition string. This option applies to job allocations.
<P>
<a id="OPT_power"></a>
<DT><B>--power</B>=&lt;<I>flags</I>&gt;<DD>
Comma separated list of power management plugin options.
Currently available flags include:
level (all nodes allocated to the job should have identical power caps,
may be disabled by the Slurm configuration option PowerParameters=job_no_level).
This option applies to job allocations.
<P>
<a id="OPT_priority"></a>
<DT><B>--priority</B>=&lt;<I>value</I>&gt;<DD>
Request a specific job priority.
May be subject to configuration specific constraints.
<I>value</I> should either be a numeric value or &quot;TOP&quot; (for highest possible value).
Only Slurm operators and administrators can set the priority of a job.
This option applies to job allocations only.
<P>
<a id="OPT_profile"></a>
<DT><B>--profile</B>=&lt;all|none|[energy[,|task[,|filesystem[,|network]]]]&gt;<DD>
enables detailed data collection by the acct_gather_profile plugin.
Detailed data are typically time-series that are stored in an HDF5 file for
the job or an InfluxDB database depending on the configured plugin.
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_All"></a>
<DT><B>All</B><DD>
All data types are collected. (Cannot be combined with other values.)
<P>
<a id="OPT_None"></a>
<DT><B>None</B><DD>
No data types are collected. This is the default.
<BR>&nbsp;(Cannot&nbsp;be&nbsp;combined&nbsp;with&nbsp;other&nbsp;values.)
<P>
<a id="OPT_Energy"></a>
<DT><B>Energy</B><DD>
Energy data is collected.
<P>
<a id="OPT_Task"></a>
<DT><B>Task</B><DD>
Task (I/O, Memory, ...) data is collected.
<P>
<a id="OPT_Filesystem"></a>
<DT><B>Filesystem</B><DD>
Filesystem data is collected.
<P>
<a id="OPT_Network"></a>
<DT><B>Network</B><DD>
Network (InfiniBand) data is collected.
<P>
<DT>This option applies to job and step allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_prolog"></a>
<DT><B>--prolog</B>=&lt;<I>executable</I>&gt;<DD>
<B>srun</B> will run <I>executable</I> just before launching the job step.
The command line arguments for <I>executable</I> will be the command
and arguments of the job step.  If <I>executable</I> is &quot;none&quot;, then
no srun prolog will be run. This parameter overrides the SrunProlog
parameter in slurm.conf. This parameter is completely independent from
the Prolog parameter in slurm.conf. This option applies to job allocations.
<P>
<a id="OPT_propagate"></a>
<DT><B>--propagate</B>[=<I>rlimit[,rlimit...]</I>]<DD>
Allows users to specify which of the modifiable (soft) resource limits
to propagate to the compute nodes and apply to their jobs. If no
<I>rlimit</I> is specified, then all resource limits will be propagated.
The following rlimit names are supported by Slurm (although some
options may not be supported on some systems):
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_ALL"></a>
<DT><B>ALL</B><DD>
All limits listed below (default)
<a id="OPT_NONE"></a>
<DT><B>NONE</B><DD>
No limits listed below
<a id="OPT_AS"></a>
<DT><B>AS</B><DD>
The maximum address space for a process
<a id="OPT_CORE"></a>
<DT><B>CORE</B><DD>
The maximum size of core file
<a id="OPT_CPU"></a>
<DT><B>CPU</B><DD>
The maximum amount of CPU time
<a id="OPT_DATA"></a>
<DT><B>DATA</B><DD>
The maximum size of a process's data segment
<a id="OPT_FSIZE"></a>
<DT><B>FSIZE</B><DD>
The maximum size of files created. Note that if the user sets FSIZE to less
than the current size of the slurmd.log, job launches will fail with
a 'File size limit exceeded' error.
<a id="OPT_MEMLOCK"></a>
<DT><B>MEMLOCK</B><DD>
The maximum size that may be locked into memory
<a id="OPT_NOFILE"></a>
<DT><B>NOFILE</B><DD>
The maximum number of open files
<a id="OPT_NPROC"></a>
<DT><B>NPROC</B><DD>
The maximum number of processes available
<a id="OPT_RSS"></a>
<DT><B>RSS</B><DD>
The maximum resident set size
<a id="OPT_STACK"></a>
<DT><B>STACK</B><DD>
The maximum stack size
<DT>This option applies to job allocations.<DD>
</DL>
</DL>

<P>
<a id="OPT_pty"></a>
<DT><B>--pty</B><DD>
Execute task zero in pseudo terminal mode.
Implicitly sets <B>--unbuffered</B>.
Implicitly sets <B>--error</B> and <B>--output</B> to /dev/null
for all tasks except task zero, which may cause those tasks to
exit immediately (e.g. shells will typically exit immediately
in that situation).
This option applies to step allocations.
<P>
<a id="OPT_qos"></a>
<DT><B>-q</B>, <B>--qos</B>=&lt;<I>qos</I>&gt;<DD>
Request a quality of service for the job.  QOS values can be defined
for each user/cluster/account association in the Slurm database.
Users will be limited to their association's defined set of qos's when
the Slurm configuration parameter, AccountingStorageEnforce, includes
&quot;qos&quot; in it's definition. This option applies to job allocations.
<P>
<a id="OPT_quiet"></a>
<DT><B>-Q</B>, <B>--quiet</B><DD>
Suppress informational messages from srun. Errors will still be displayed. This
option applies to job and step allocations.
<P>
<a id="OPT_quit-on-interrupt"></a>
<DT><B>--quit-on-interrupt</B><DD>
Quit immediately on single SIGINT (Ctrl-C). Use of this option
disables the status feature normally available when <B>srun</B> receives
a single Ctrl-C and causes <B>srun</B> to instead immediately terminate the
running job. This option applies to step allocations.
<P>
<a id="OPT_relative"></a>
<DT><B>-r</B>, <B>--relative</B>=&lt;<I>n</I>&gt;<DD>
Run a job step relative to node <I>n</I> of the current allocation.
This option may be used to spread several job steps out among the
nodes of the current job. If <B>-r</B> is used, the current job
step will begin at node <I>n</I> of the allocated nodelist, where
the first node is considered node 0.  The <B>-r</B> option is not
permitted with <B>-w</B> or <B>-x</B> option and will result in a
fatal error when not running within a prior allocation (i.e. when
SLURM_JOB_ID is not set). The default for <I>n</I> is 0. If the
value of <B>--nodes</B> exceeds the number of nodes identified
with the <B>--relative</B> option, a warning message will be
printed and the <B>--relative</B> option will take precedence. This option
applies to step allocations.
<P>
<a id="OPT_reboot"></a>
<DT><B>--reboot</B><DD>
Force the allocated nodes to reboot before starting the job.
This is only supported with some system configurations and will otherwise be
silently ignored. This option applies to job allocations.
<P>
<a id="OPT_resv-ports"></a>
<DT><B>--resv-ports</B>[=<I>count</I>]<DD>
Reserve communication ports for this job. Users can specify the number
of port they want to reserve. The parameter MpiParams=ports=12000-12999
must be specified in <I>slurm.conf</I>. If not specified and Slurm's OpenMPI
plugin is used, then by default the number of reserved equal to the highest
number of tasks on any node in the job step allocation.
If the number of reserved ports is zero then no ports is reserved.
Used for OpenMPI. This option applies to job and step allocations.
<P>
<a id="OPT_reservation"></a>
<DT><B>--reservation</B>=&lt;<I>name</I>&gt;<DD>
Allocate resources for the job from the named reservation. This option applies
to job allocations.
<P>
<a id="OPT_oversubscribe"></a>
<DT><B>-s</B>, <B>--oversubscribe</B><DD>
The job allocation can over-subscribe resources with other running jobs.
The resources to be over-subscribed can be nodes, sockets, cores, and/or
hyperthreads depending upon configuration.
The default over-subscribe behavior depends on system configuration and the
partition's <B>OverSubscribe</B> option takes precedence over the job's option.
This option may result in the allocation being granted sooner than if the
--oversubscribe option was not set and allow higher system utilization, but
application performance will likely suffer due to competition for resources.
Also see the --exclusive option. This option applies to step allocations.
<P>
<a id="OPT_core-spec"></a>
<DT><B>-S</B>, <B>--core-spec</B>=&lt;<I>num</I>&gt;<DD>
Count of specialized cores per node reserved by the job for system operations
and not used by the application. The application will not use these cores,
but will be charged for their allocation.
Default value is dependent upon the node's configured CoreSpecCount value.
If a value of zero is designated and the Slurm configuration option
AllowSpecResourcesUsage is enabled, the job will be allowed to override
CoreSpecCount and use the specialized resources on nodes it is allocated.
This option can not be used with the <B>--thread-spec</B> option. This option
applies to job allocations.
<P>
<a id="OPT_signal"></a>
<DT><B>--signal</B>=&lt;<I>sig_num</I>&gt;[@&lt;<I>sig_time</I>&gt;]<DD>
When a job is within <I>sig_time</I> seconds of its end time,
send it the signal <I>sig_num</I>.
Due to the resolution of event handling by Slurm, the signal may
be sent up to 60 seconds earlier than specified.
<I>sig_num</I> may either be a signal number or name (e.g. &quot;10&quot; or &quot;USR1&quot;).
<I>sig_time</I> must have an integer value between 0 and 65535.
By default, no signal is sent before the job's end time.
If a <I>sig_num</I> is specified without any <I>sig_time</I>,
the default time will be 60 seconds. This option applies to job allocations.
To have the signal sent at preemption time see
the <B>preempt_send_user_signal</B> <B>SlurmctldParameterR.
<P>
<DT>--slurmd-debug</B>=&lt;<I>level</I>&gt;<DD>
Specify a debug level for <A HREF="/man/man2html?8+slurmd">slurmd</A>(8). The <I>level</I> may be specified either
an integer value between 0 [quiet, only errors are displayed] and 4 [verbose
operation] or the <I>SlurmdDebug</I> tags.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_quiet_1"></a>
<DT><B>quiet</B><DD>
Log nothing
<a id="OPT_fatal"></a>
<DT><B>fatal</B><DD>
Log only fatal errors
<a id="OPT_error_1"></a>
<DT><B>error</B><DD>
Log only errors
<a id="OPT_info"></a>
<DT><B>info</B><DD>
Log errors and general informational messages
<a id="OPT_verbose"></a>
<DT><B>verbose</B><DD>
Log errors and verbose informational messages
<DT></DL>
</DL>

<DD>
<P>
The slurmd debug information is copied onto the stderr of
the job. By default only errors are displayed. This option applies to job and
step allocations.
<P>
<a id="OPT_sockets-per-node"></a>
<DT><B>--sockets-per-node</B>=&lt;<I>sockets</I>&gt;<DD>
Restrict node selection to nodes with at least the specified number of
sockets.  See additional information under <B>-B</B> option above when
task/affinity plugin is enabled. This option applies to job allocations.
<P>
<a id="OPT_spread-job"></a>
<DT><B>--spread-job</B><DD>
Spread the job allocation over as many nodes as possible and attempt to
evenly distribute tasks across the allocated nodes.
This option disables the topology/tree plugin.
This option applies to job allocations.
<P>
<a id="OPT_switches"></a>
<DT><B>--switches</B>=&lt;<I>count</I>&gt;[@&lt;<I>max-time</I>&gt;]<DD>
When a tree topology is used, this defines the maximum count of switches
desired for the job allocation and optionally the maximum time to wait
for that number of switches. If Slurm finds an allocation containing more
switches than the count specified, the job remains pending until it either finds
an allocation with desired switch count or the time limit expires.
It there is no switch count limit, there is no delay in starting the job.
Acceptable time formats include &quot;minutes&quot;, &quot;minutes:seconds&quot;,
&quot;hours:minutes:seconds&quot;, &quot;days-hours&quot;, &quot;days-hours:minutes&quot; and
&quot;days-hours:minutes:seconds&quot;.
The job's maximum time delay may be limited by the system administrator using
the <B>SchedulerParameters</B> configuration parameter with the
<B>max_switch_wait</B> parameter option.
On a dragonfly network the only switch count supported is 1 since communication
performance will be highest when a job is allocate resources on one leaf switch
or more than 2 leaf switches.
The default max-time is the max_switch_wait SchedulerParameters. This option
applies to job allocations.
<P>
<a id="OPT_threads_1"></a>
<DT><B>-T</B>, <B>--threads</B>=&lt;<I>nthreads</I>&gt;<DD>
Allows limiting the number of concurrent threads used to
send the job request from the srun process to the slurmd
processes on the allocated nodes. Default is to use one
thread per allocated node up to a maximum of 60 concurrent
threads. Specifying this option limits the number of
concurrent threads to <I>nthreads</I> (less than or equal to 60).
This should only be used to set a low thread count for testing on
very small memory computers. This option applies to job allocations.
<P>
<a id="OPT_time"></a>
<DT><B>-t</B>, <B>--time</B>=&lt;<I>time</I>&gt;<DD>
Set a limit on the total run time of the job allocation.  If the
requested time limit exceeds the partition's time limit, the job will
be left in a PENDING state (possibly indefinitely).  The default time
limit is the partition's default time limit.  When the time limit is reached,
each task in each job step is sent SIGTERM followed by SIGKILL.  The
interval between signals is specified by the Slurm configuration
parameter <B>KillWait</B>.  The <B>OverTimeLimit</B> configuration parameter may
permit the job to run longer than scheduled.  Time resolution is one minute
and second values are rounded up to the next minute.
<P>
A time limit of zero requests that no time limit be imposed.  Acceptable time
formats include &quot;minutes&quot;, &quot;minutes:seconds&quot;, &quot;hours:minutes:seconds&quot;,
&quot;days-hours&quot;, &quot;days-hours:minutes&quot; and &quot;days-hours:minutes:seconds&quot;. This
option applies to job and step allocations.
<P>
<a id="OPT_task-epilog"></a>
<DT><B>--task-epilog</B>=&lt;<I>executable</I>&gt;<DD>
The <B>slurmstepd</B> daemon will run <I>executable</I> just after each task
terminates. This will be executed before any TaskEpilog parameter in
slurm.conf is executed. This is meant to be a very short-lived
program. If it fails to terminate within a few seconds, it will be
killed along with any descendant processes. This option applies to step
allocations.
<P>
<a id="OPT_task-prolog"></a>
<DT><B>--task-prolog</B>=&lt;<I>executable</I>&gt;<DD>
The <B>slurmstepd</B> daemon will run <I>executable</I> just before launching
each task. This will be executed after any TaskProlog parameter
in slurm.conf is executed.
Besides the normal environment variables, this has SLURM_TASK_PID
available to identify the process ID of the task being started.
Standard output from this program of the form
&quot;export NAME=value&quot; will be used to set environment variables
for the task being spawned. This option applies to step allocations.
<P>
<a id="OPT_test-only"></a>
<DT><B>--test-only</B><DD>
Returns an estimate of when a job would be scheduled to run given the
current job queue and all the other <B>srun</B> arguments specifying
the job.  This limits <B>srun's</B> behavior to just return
information; no job is actually submitted.
The program will be executed directly by the slurmd daemon. This option applies
to job allocations.
<P>
<a id="OPT_thread-spec"></a>
<DT><B>--thread-spec</B>=&lt;<I>num</I>&gt;<DD>
Count of specialized threads per node reserved by the job for system operations
and not used by the application. The application will not use these threads,
but will be charged for their allocation.
This option can not be used with the <B>--core-spec</B> option. This option
applies to job allocations.
<P>
<a id="OPT_threads-per-core"></a>
<DT><B>--threads-per-core</B>=&lt;<I>threads</I>&gt;<DD>
Restrict node selection to nodes with at least the specified number of
threads per core.  NOTE: &quot;Threads&quot; refers to the number of processing units on
each core rather than the number of application tasks to be launched per core.
See additional information under <B>-B</B> option above when task/affinity
plugin is enabled. This option applies to job allocations.
<P>
<a id="OPT_time-min"></a>
<DT><B>--time-min</B>=&lt;<I>time</I>&gt;<DD>
Set a minimum time limit on the job allocation.
If specified, the job may have it's <B>--time</B> limit lowered to a value
no lower than <B>--time-min</B> if doing so permits the job to begin
execution earlier than otherwise possible.
The job's time limit will not be changed after the job is allocated resources.
This is performed by a backfill scheduling algorithm to allocate resources
otherwise reserved for higher priority jobs.
Acceptable time formats include &quot;minutes&quot;, &quot;minutes:seconds&quot;,
&quot;hours:minutes:seconds&quot;, &quot;days-hours&quot;, &quot;days-hours:minutes&quot; and
&quot;days-hours:minutes:seconds&quot;. This option applies to job allocations.
<P>
<a id="OPT_tmp"></a>
<DT><B>--tmp</B>=&lt;<I>size[units]</I>&gt;<DD>
Specify a minimum amount of temporary disk space per node.
Default units are megabytes unless the SchedulerParameters configuration
parameter includes the &quot;default_gbytes&quot; option for gigabytes.
Different units can be specified using the suffix [K|M|G|T].
This option applies to job allocations.
<P>
<a id="OPT_unbuffered"></a>
<DT><B>-u</B>, <B>--unbuffered</B><DD>
By default the connection between slurmstepd and the user launched application
is over a pipe. The stdio output written by the application is buffered
by the glibc until it is flushed or the output is set as unbuffered.
See <A HREF="/man/man2html?3+setbuf">setbuf</A>(3). If this option is specified the tasks are executed with
a pseudo terminal so that the application output is unbuffered. This option
applies to step allocations.
<a id="OPT_usage"></a>
<DT><B>--usage</B><DD>
Display brief help message and exit.
<P>
<a id="OPT_uid"></a>
<DT><B>--uid</B>=&lt;<I>user</I>&gt;<DD>
Attempt to submit and/or run a job as <I>user</I> instead of the
invoking user id. The invoking user's credentials will be used
to check access permissions for the target partition. User root
may use this option to run jobs as a normal user in a RootOnly
partition for example. If run as root, <B>srun</B> will drop
its permissions to the uid specified after node allocation is
successful. <I>user</I> may be the user name or numerical user ID. This option
applies to job and step allocations.
<P>
<a id="OPT_use-min-nodes"></a>
<DT><B>--use-min-nodes</B><DD>
If a range of node counts is given, prefer the smaller count.
<P>
<a id="OPT_version"></a>
<DT><B>-V</B>, <B>--version</B><DD>
Display version information and exit.
<P>
<a id="OPT_verbose_1"></a>
<DT><B>-v</B>, <B>--verbose</B><DD>
Increase the verbosity of srun's informational messages.  Multiple
<B>-v</B>'s will further increase srun's verbosity.  By default only
errors will be displayed. This option applies to job and step allocations.
<P>
<a id="OPT_wait"></a>
<DT><B>-W</B>, <B>--wait</B>=&lt;<I>seconds</I>&gt;<DD>
Specify how long to wait after the first task terminates before terminating
all remaining tasks. A value of 0 indicates an unlimited wait (a warning will
be issued after 60 seconds). The default value is set by the WaitTime
parameter in the slurm configuration file (see <B><A HREF="/man/man2html?5+slurm.conf">slurm.conf</A>(5)</B>). This
option can be useful to ensure that a job is terminated in a timely fashion
in the event that one or more tasks terminate prematurely.
Note: The <B>-K</B>, <B>--kill-on-bad-exit</B> option takes precedence
over <B>-W</B>, <B>--wait</B> to terminate the job immediately if a task
exits with a non-zero exit code. This option applies to job allocations.
<P>
<a id="OPT_nodelist"></a>
<DT><B>-w</B>, <B>--nodelist</B>=&lt;<I>host1,host2,...</I> or <I>filename</I>&gt;<DD>
Request a specific list of hosts.
The job will contain <I>all</I> of these hosts and possibly additional hosts
as needed to satisfy resource requirements.
The list may be specified as a comma-separated list of hosts, a range of hosts
(host[1-5,7,...] for example), or a filename.
The host list will be assumed to be a filename if it contains a &quot;/&quot; character.
If you specify a minimum node or processor count larger than can be satisfied
by the supplied host list, additional resources will be allocated on other
nodes as needed.
Rather than repeating a host name multiple times, an asterisk and
a repetition count may be appended to a host name. For example
&quot;host1,host1&quot; and &quot;host1*2&quot; are equivalent. If number of tasks is given and a
list of requested nodes is also given the number of nodes used from that list
will be reduced to match that of the number of tasks if the number of nodes in
the list is greater than the number of tasks. This option applies to job and
step allocations.
<P>
<a id="OPT_wckey"></a>
<DT><B>--wckey</B>=&lt;<I>wckey</I>&gt;<DD>
Specify wckey to be used with job.  If TrackWCKey=no (default) in the
slurm.conf this value is ignored. This option applies to job allocations.
<P>
<a id="OPT_disable-status"></a>
<DT><B>-X</B>, <B>--disable-status</B><DD>
Disable the display of task status when srun receives a single SIGINT
(Ctrl-C). Instead immediately forward the SIGINT to the running job.
Without this option a second Ctrl-C in one second is required to forcibly
terminate the job and <B>srun</B> will immediately exit. May also be
set via the environment variable SLURM_DISABLE_STATUS. This option applies to
job allocations.
<P>
<a id="OPT_exclude"></a>
<DT><B>-x</B>, <B>--exclude</B>=&lt;<I>host1,host2,...</I> or <I>filename</I>&gt;<DD>
Request that a specific list of hosts not be included in the resources
allocated to this job. The host list will be assumed to be a filename
if it contains a &quot;/&quot;character. This option applies to job allocations.
<P>
<a id="OPT_x11"></a>
<DT><B>--x11</B>[=&lt;<I>all</I>|<I>first</I>|<I>last</I>&gt;]<DD>
Sets up X11 forwarding on all, first or last node(s) of the allocation. This
option is only enabled if Slurm was compiled with X11 support and
PrologFlags=x11 is defined in the slurm.conf. Default is <I>all</I>.
<P>
<a id="OPT_no-allocate"></a>
<DT><B>-Z</B>, <B>--no-allocate</B><DD>
Run the specified tasks on a set of nodes without creating a Slurm
&quot;job&quot; in the Slurm queue structure, bypassing the normal resource
allocation step.  The list of nodes must be specified with the
<B>-w</B>, <B>--nodelist</B> option.  This is a privileged option
only available for the users &quot;SlurmUser&quot; and &quot;root&quot;. This option applies to job
allocations.
<P>
</DL>
<P>

<B>srun</B>

will submit the job request to the slurm job controller, then initiate all
processes on the remote nodes. If the request cannot be met immediately,
<B>srun</B>

will block until the resources are free to run the job. If the
<B>-I</B> (<B>--immediate</B>) option is specified
<B>srun</B>

will terminate if resources are not immediately available.
<P>

When initiating remote processes
<B>srun</B>

will propagate the current working directory, unless
<B>--chdir</B>=&lt;<I>path</I>&gt; is specified, in which case <I>path</I> will
become the working directory for the remote processes.
<P>

The <B>-n, -c</B>, and <B>-N</B> options control how CPUs  and
nodes will be allocated to the job. When specifying only the number
of processes to run with <B>-n</B>, a default of one CPU per process
is allocated. By specifying the number of CPUs required per task (<B>-c</B>),
more than one CPU may be allocated per process. If the number of nodes
is specified with <B>-N</B>,
<B>srun</B>

will attempt to allocate <I>at least</I> the number of nodes specified.
<P>

Combinations of the above three options may be used to change how
processes are distributed across nodes and cpus. For instance, by specifying
both the number of processes and number of nodes on which to run, the
number of processes per node is implied. However, if the number of CPUs
per process is more important then number of processes (<B>-n</B>) and the
number of CPUs per process (<B>-c</B>) should be specified.
<P>

<B>srun</B>

will refuse to  allocate more than one process per CPU unless
<B>--overcommit</B> (<B>-O</B>) is also specified.
<P>

<B>srun</B>

will attempt to meet the above specifications &quot;at a minimum.&quot; That is,
if 16 nodes are requested for 32 processes, and some nodes do not have
2 CPUs, the allocation of nodes will be increased in order to meet the
demand for CPUs. In other words, a <I>minimum</I> of 16 nodes are being
requested. However, if 16 nodes are requested for 15 processes,
<B>srun</B>

will consider this an error, as 15 processes cannot run across 16 nodes.
<P>
<P>

<B>IO Redirection</B>

<P>

By default, stdout and stderr will be redirected from all tasks to the
stdout and stderr of <B>srun</B>, and stdin will be redirected from the
standard input of <B>srun</B> to all remote tasks.
If stdin is only to be read by a subset of the spawned tasks, specifying a
file to read from rather than forwarding stdin from the <B>srun</B> command may
be preferable as it avoids moving and storing data that will never be read.
<P>

For OS X, the poll() function does not support stdin, so input from
a terminal is not possible.
<P>

This behavior may be changed with the
<B>--output</B>, <B>--error</B>, and <B>--input</B>
(<B>-o</B>, <B>-e</B>, <B>-i</B>) options. Valid format specifications
for these options are
<DL COMPACT>
<a id="OPT_all"></a>
<DT><B>all</B><DD>
stdout stderr is redirected from all tasks to srun.
stdin is broadcast to all remote tasks.
(This is the default behavior)
<a id="OPT_none_1"></a>
<DT><B>none</B><DD>
stdout and stderr is not received from any task.
stdin is not sent to any task (stdin is closed).
<a id="OPT_taskid"></a>
<DT><B>taskid</B><DD>
stdout and/or stderr are redirected from only the task with relative
id equal to <I>taskid</I>, where 0 &lt;= <I>taskid</I> &lt;= <I>ntasks</I>,
where <I>ntasks</I> is the total number of tasks in the current job step.
stdin is redirected from the stdin of <B>srun</B> to this same task.
This file will be written on the node executing the task.
<a id="OPT_filename"></a>
<DT><B>filename</B><DD>
<B>srun</B> will redirect stdout and/or stderr to the named file from
all tasks.
stdin will be redirected from the named file and broadcast to all
tasks in the job.  <I>filename</I> refers to a path on the host
that runs <B>srun</B>.  Depending on the cluster's file system layout,
this may result in the output appearing in different places depending
on whether the job is run in batch mode.
<a id="OPT_filename-pattern"></a>
<DT><B>filename pattern</B><DD>
<B>srun</B> allows for a filename pattern to be used to generate the
named IO file
described above. The following list of format specifiers may be
used in the format string to generate a filename that will be
unique to a given jobid, stepid, node, or task. In each case,
the appropriate number of files are opened and associated with
the corresponding tasks. Note that any format string containing
%t, %n, and/or %N will be written on the node executing the task
rather than the node where <B>srun</B> executes, these format specifiers
are not supported on a BGQ system.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_\\"></a>
<DT><B>\\</B><DD>
Do not process any of the replacement symbols.
<a id="OPT_%%"></a>
<DT><B>%%</B><DD>
The character &quot;%&quot;.
<a id="OPT_%A"></a>
<DT><B>%A</B><DD>
Job array's master job allocation number.
<a id="OPT_%a"></a>
<DT><B>%a</B><DD>
Job array ID (index) number.
<a id="OPT_%J"></a>
<DT><B>%J</B><DD>
jobid.stepid of the running job. (e.g. &quot;128.0&quot;)
<a id="OPT_%j"></a>
<DT><B>%j</B><DD>
jobid of the running job.
<a id="OPT_%s"></a>
<DT><B>%s</B><DD>
stepid of the running job.
<a id="OPT_%N"></a>
<DT><B>%N</B><DD>
short hostname. This will create a separate IO file per node.
<a id="OPT_%n"></a>
<DT><B>%n</B><DD>
Node identifier relative to current job (e.g. &quot;0&quot; is the first node of
the running job) This will create a separate IO file per node.
<a id="OPT_%t"></a>
<DT><B>%t</B><DD>
task identifier (rank) relative to current job. This will create a
separate IO file per task.
<a id="OPT_%u"></a>
<DT><B>%u</B><DD>
User name.
<a id="OPT_%x"></a>
<DT><B>%x</B><DD>
Job name.
</DL>
<P>

A number placed between the percent character and format specifier may be
used to zero-pad the result in the IO filename. This number is ignored if
the format specifier corresponds to  non-numeric data (%N for example).
<P>
Some examples of how the format string may be used for a 4 task job step
with a Job ID of 128 and step id of 0 are included below:
<DL COMPACT>
<DT>job%J.out<DD>
job128.0.out
<DT>job%4j.out<DD>
job0128.out
<DT>job%j-%2t.out<DD>
job128-00.out, job128-01.out, ...
</DL>
<P>

</DL>

</DL>
<P>

<P>
<A NAME="lbAH">&nbsp;</A>
<a id="SECTION_INPUT-ENVIRONMENT-VARIABLES"></a>
<H2>INPUT ENVIRONMENT VARIABLES</H2>

<P>

Some srun options may be set via environment variables.
These environment variables, along with their corresponding options,
are listed below.
Note: Command line options will always override these settings.
<DL COMPACT>
<a id="OPT_PMI_FANOUT"></a>
<DT><B>PMI_FANOUT</B><DD>
This is used exclusively with PMI (MPICH2 and MVAPICH2) and
controls the fanout of data communications. The srun command
sends messages to application programs (via the PMI library)
and those applications may be called upon to forward that
data to up to this number of additional tasks. Higher values
offload work from the srun command to the applications and
likely increase the vulnerability to failures.
The default value is 32.
<a id="OPT_PMI_FANOUT_OFF_HOST"></a>
<DT><B>PMI_FANOUT_OFF_HOST</B><DD>
This is used exclusively with PMI (MPICH2 and MVAPICH2) and
controls the fanout of data communications.  The srun command
sends messages to application programs (via the PMI library)
and those applications may be called upon to forward that
data to additional tasks. By default, srun sends one message
per host and one task on that host forwards the data to other
tasks on that host up to <B>PMI_FANOUT</B>.
If <B>PMI_FANOUT_OFF_HOST</B> is defined, the user task
may be required to forward the data to tasks on other hosts.
Setting <B>PMI_FANOUT_OFF_HOST</B> may increase performance.
Since more work is performed by the PMI library loaded by
the user application, failures also can be more common and
more difficult to diagnose.
<a id="OPT_PMI_TIME"></a>
<DT><B>PMI_TIME</B><DD>
This is used exclusively with PMI (MPICH2 and MVAPICH2) and
controls how much the communications from the tasks to the
srun are spread out in time in order to avoid overwhelming the
srun command with work. The default value is 500 (microseconds)
per task. On relatively slow processors or systems with very
large processor counts (and large PMI data sets), higher values
may be required.
<a id="OPT_SLURM_CONF"></a>
<DT><B>SLURM_CONF</B><DD>
The location of the Slurm configuration file.
<a id="OPT_SLURM_ACCOUNT"></a>
<DT><B>SLURM_ACCOUNT</B><DD>
Same as <B>-A, --account</B>
<a id="OPT_SLURM_ACCTG_FREQ"></a>
<DT><B>SLURM_ACCTG_FREQ</B><DD>
Same as <B>--acctg-freq</B>
<a id="OPT_SLURM_BCAST"></a>
<DT><B>SLURM_BCAST</B><DD>
Same as <B>--bcast</B>
<a id="OPT_SLURM_BURST_BUFFER"></a>
<DT><B>SLURM_BURST_BUFFER</B><DD>
Same as <B>--bb</B>
<a id="OPT_SLURM_CHECKPOINT"></a>
<DT><B>SLURM_CHECKPOINT</B><DD>
Same as <B>--checkpoint</B>
<a id="OPT_SLURM_COMPRESS"></a>
<DT><B>SLURM_COMPRESS</B><DD>
Same as <B>--compress</B>
<a id="OPT_SLURM_CONSTRAINT"></a>
<DT><B>SLURM_CONSTRAINT</B><DD>
Same as <B>-C</B>, <B>--constraint</B>
<a id="OPT_SLURM_CORE_SPEC"></a>
<DT><B>SLURM_CORE_SPEC</B><DD>
Same as <B>--core-spec</B>
<a id="OPT_SLURM_CPU_BIND"></a>
<DT><B>SLURM_CPU_BIND</B><DD>
Same as <B>--cpu-bind</B>
<a id="OPT_SLURM_CPU_FREQ_REQ"></a>
<DT><B>SLURM_CPU_FREQ_REQ</B><DD>
Same as <B>--cpu-freq</B>.
<a id="OPT_SLURM_CPUS_PER_GPU"></a>
<DT><B>SLURM_CPUS_PER_GPU</B><DD>
Same as <B>--cpus-per-gpu</B>
<a id="OPT_SLURM_CPUS_PER_TASK"></a>
<DT><B>SLURM_CPUS_PER_TASK</B><DD>
Same as <B>-c, --cpus-per-task</B>
<a id="OPT_SLURM_DEBUG"></a>
<DT><B>SLURM_DEBUG</B><DD>
Same as <B>-v, --verbose</B>
<a id="OPT_SLURM_DELAY_BOOT"></a>
<DT><B>SLURM_DELAY_BOOT</B><DD>
Same as <B>--delay-boot</B>
<a id="OPT_SLURMD_DEBUG"></a>
<DT><B>SLURMD_DEBUG</B><DD>
Same as <B>-d, --slurmd-debug</B>
<a id="OPT_SLURM_DEPENDENCY"></a>
<DT><B>SLURM_DEPENDENCY</B><DD>
Same as <B>-P, --dependency</B>=&lt;<I>jobid</I>&gt;
<a id="OPT_SLURM_DISABLE_STATUS"></a>
<DT><B>SLURM_DISABLE_STATUS</B><DD>
Same as <B>-X, --disable-status</B>
<a id="OPT_SLURM_DIST_PLANESIZE"></a>
<DT><B>SLURM_DIST_PLANESIZE</B><DD>
Same as <B>-m plane</B>
<a id="OPT_SLURM_DISTRIBUTION"></a>
<DT><B>SLURM_DISTRIBUTION</B><DD>
Same as <B>-m, --distribution</B>
<a id="OPT_SLURM_EPILOG"></a>
<DT><B>SLURM_EPILOG</B><DD>
Same as <B>--epilog</B>
<a id="OPT_SLURM_EXCLUSIVE"></a>
<DT><B>SLURM_EXCLUSIVE</B><DD>
Same as <B>--exclusive</B>
<a id="OPT_SLURM_EXIT_ERROR"></a>
<DT><B>SLURM_EXIT_ERROR</B><DD>
Specifies the exit code generated when a Slurm error occurs
(e.g. invalid options).
This can be used by a script to distinguish application exit codes from
various Slurm error conditions.
Also see <B>SLURM_EXIT_IMMEDIATE</B>.
<a id="OPT_SLURM_EXIT_IMMEDIATE"></a>
<DT><B>SLURM_EXIT_IMMEDIATE</B><DD>
Specifies the exit code generated when the <B>--immediate</B> option
is used and resources are not currently available.
This can be used by a script to distinguish application exit codes from
various Slurm error conditions.
Also see <B>SLURM_EXIT_ERROR</B>.
<a id="OPT_SLURM_EXPORT_ENV"></a>
<DT><B>SLURM_EXPORT_ENV</B><DD>
Same as --export
<a id="OPT_SLURM_GPUS"></a>
<DT><B>SLURM_GPUS</B><DD>
Same as <B>-G, --gpus</B>
<a id="OPT_SLURM_GPU_BIND"></a>
<DT><B>SLURM_GPU_BIND</B><DD>
Same as <B>--gpu-bind</B>
<a id="OPT_SLURM_GPU_FREQ"></a>
<DT><B>SLURM_GPU_FREQ</B><DD>
Same as <B>--gpu-freq</B>
<a id="OPT_SLURM_GPUS_PER_NODE"></a>
<DT><B>SLURM_GPUS_PER_NODE</B><DD>
Same as <B>--gpus-per-node</B>
<a id="OPT_SLURM_GPUS_PER_TASK"></a>
<DT><B>SLURM_GPUS_PER_TASK</B><DD>
Same as <B>--gpus-per-task</B>
<a id="OPT_SLURM_GRES_FLAGS"></a>
<DT><B>SLURM_GRES_FLAGS</B><DD>
Same as --gres-flags
<a id="OPT_SLURM_HINT"></a>
<DT><B>SLURM_HINT</B><DD>
Same as <B>--hint</B>
<a id="OPT_SLURM_GRES"></a>
<DT><B>SLURM_GRES</B><DD>
Same as <B>--gres</B>. Also see <B>SLURM_STEP_GRES</B>
<a id="OPT_SLURM_IMMEDIATE"></a>
<DT><B>SLURM_IMMEDIATE</B><DD>
Same as <B>-I, --immediate</B>
<a id="OPT_SLURM_JOB_ID"></a>
<DT><B>SLURM_JOB_ID</B><DD>
Same as <B>--jobid</B>
<a id="OPT_SLURM_JOB_NAME"></a>
<DT><B>SLURM_JOB_NAME</B><DD>
Same as <B>-J, --job-name</B> except within an existing
allocation, in which case it is ignored to avoid using the batch job's name
as the name of each job step.
<a id="OPT_SLURM_JOB_NUM_NODES"></a>
<DT><B>SLURM_JOB_NUM_NODES</B> (and <B>SLURM_NNODES</B> for backwards compatibility)<DD>
Same as <B>-N, --nodes</B>
Total number of nodes in the jobs resource allocation.
<a id="OPT_SLURM_KILL_BAD_EXIT"></a>
<DT><B>SLURM_KILL_BAD_EXIT</B><DD>
Same as <B>-K, --kill-on-bad-exit</B>
<a id="OPT_SLURM_LABELIO"></a>
<DT><B>SLURM_LABELIO</B><DD>
Same as <B>-l, --label</B>
<a id="OPT_SLURM_MEM_BIND"></a>
<DT><B>SLURM_MEM_BIND</B><DD>
Same as <B>--mem-bind</B>
<a id="OPT_SLURM_MEM_PER_CPU"></a>
<DT><B>SLURM_MEM_PER_CPU</B><DD>
Same as <B>--mem-per-cpu</B>
<a id="OPT_SLURM_MEM_PER_GPU"></a>
<DT><B>SLURM_MEM_PER_GPU</B><DD>
Same as <B>--mem-per-gpu</B>
<a id="OPT_SLURM_MEM_PER_NODE"></a>
<DT><B>SLURM_MEM_PER_NODE</B><DD>
Same as <B>--mem</B>
<a id="OPT_SLURM_MPI_TYPE"></a>
<DT><B>SLURM_MPI_TYPE</B><DD>
Same as <B>--mpi</B>
<a id="OPT_SLURM_NETWORK"></a>
<DT><B>SLURM_NETWORK</B><DD>
Same as <B>--network</B>
<a id="OPT_SLURM_NO_KILL"></a>
<DT><B>SLURM_NO_KILL</B><DD>
Same as <B>-k</B>, <B>--no-kill</B>
<a id="OPT_SLURM_NTASKS"></a>
<DT><B>SLURM_NTASKS</B> (and <B>SLURM_NPROCS</B> for backwards compatibility)<DD>
Same as <B>-n, --ntasks</B>
<a id="OPT_SLURM_NTASKS_PER_CORE"></a>
<DT><B>SLURM_NTASKS_PER_CORE</B><DD>
Same as <B>--ntasks-per-core</B>
<a id="OPT_SLURM_NTASKS_PER_NODE"></a>
<DT><B>SLURM_NTASKS_PER_NODE</B><DD>
Same as <B>--ntasks-per-node</B>
<a id="OPT_SLURM_NTASKS_PER_SOCKET"></a>
<DT><B>SLURM_NTASKS_PER_SOCKET</B><DD>
Same as <B>--ntasks-per-socket</B>
<a id="OPT_SLURM_OPEN_MODE"></a>
<DT><B>SLURM_OPEN_MODE</B><DD>
Same as <B>--open-mode</B>
<a id="OPT_SLURM_OVERCOMMIT"></a>
<DT><B>SLURM_OVERCOMMIT</B><DD>
Same as <B>-O, --overcommit</B>
<a id="OPT_SLURM_PARTITION"></a>
<DT><B>SLURM_PARTITION</B><DD>
Same as <B>-p, --partition</B>
<a id="OPT_SLURM_PMI_KVS_NO_DUP_KEYS"></a>
<DT><B>SLURM_PMI_KVS_NO_DUP_KEYS</B><DD>
If set, then PMI key-pairs will contain no duplicate keys. MPI can use
this variable to inform the PMI library that it will not use duplicate
keys so PMI can skip the check for duplicate keys.
This is the case for MPICH2 and reduces overhead in testing for duplicates
for improved performance
<a id="OPT_SLURM_POWER"></a>
<DT><B>SLURM_POWER</B><DD>
Same as <B>--power</B>
<a id="OPT_SLURM_PROFILE"></a>
<DT><B>SLURM_PROFILE</B><DD>
Same as <B>--profile</B>
<a id="OPT_SLURM_PROLOG"></a>
<DT><B>SLURM_PROLOG</B><DD>
Same as <B>--prolog</B>
<a id="OPT_SLURM_QOS"></a>
<DT><B>SLURM_QOS</B><DD>
Same as <B>--qos</B>
<a id="OPT_SLURM_REMOTE_CWD"></a>
<DT><B>SLURM_REMOTE_CWD</B><DD>
Same as <B>-D, --chdir=</B>
<a id="OPT_SLURM_REQ_SWITCH"></a>
<DT><B>SLURM_REQ_SWITCH</B><DD>
When a tree topology is used, this defines the maximum count of switches
desired for the job allocation and optionally the maximum time to wait
for that number of switches. See <B>--switches</B>
<a id="OPT_SLURM_RESERVATION"></a>
<DT><B>SLURM_RESERVATION</B><DD>
Same as <B>--reservation</B>
<a id="OPT_SLURM_RESV_PORTS"></a>
<DT><B>SLURM_RESV_PORTS</B><DD>
Same as <B>--resv-ports</B>
<a id="OPT_SLURM_SIGNAL"></a>
<DT><B>SLURM_SIGNAL</B><DD>
Same as <B>--signal</B>
<a id="OPT_SLURM_STDERRMODE"></a>
<DT><B>SLURM_STDERRMODE</B><DD>
Same as <B>-e, --error</B>
<a id="OPT_SLURM_STDINMODE"></a>
<DT><B>SLURM_STDINMODE</B><DD>
Same as <B>-i, --input</B>
<a id="OPT_SLURM_SPREAD_JOB"></a>
<DT><B>SLURM_SPREAD_JOB</B><DD>
Same as <B>--spread-job</B>
<a id="OPT_SLURM_SRUN_REDUCE_TASK_EXIT_MSG"></a>
<DT><B>SLURM_SRUN_REDUCE_TASK_EXIT_MSG</B><DD>
if set and non-zero, successive task exit messages with the same exit code will
be printed only once.
<a id="OPT_SLURM_STEP_GRES"></a>
<DT><B>SLURM_STEP_GRES</B><DD>
Same as <B>--gres</B> (only applies to job steps, not to job allocations).
Also see <B>SLURM_GRES</B>
<a id="OPT_SLURM_STEP_KILLED_MSG_NODE_ID"></a>
<DT><B>SLURM_STEP_KILLED_MSG_NODE_ID</B>=ID<DD>
If set, only the specified node will log when the job or step are killed
by a signal.
<a id="OPT_SLURM_STDOUTMODE"></a>
<DT><B>SLURM_STDOUTMODE</B><DD>
Same as <B>-o, --output</B>
<a id="OPT_SLURM_TASK_EPILOG"></a>
<DT><B>SLURM_TASK_EPILOG</B><DD>
Same as <B>--task-epilog</B>
<a id="OPT_SLURM_TASK_PROLOG"></a>
<DT><B>SLURM_TASK_PROLOG</B><DD>
Same as <B>--task-prolog
<DT>SLURM_TEST_EXEC</B><DD>
If defined, srun will verify existence of the executable program along with user
execute permission on the node where srun was called before attempting to
launch it on nodes in the step.
<a id="OPT_SLURM_THREAD_SPEC"></a>
<DT><B>SLURM_THREAD_SPEC</B><DD>
Same as <B>--thread-spec</B>
<a id="OPT_SLURM_THREADS"></a>
<DT><B>SLURM_THREADS</B><DD>
Same as <B>-T, --threads</B>
<a id="OPT_SLURM_TIMELIMIT"></a>
<DT><B>SLURM_TIMELIMIT</B><DD>
Same as <B>-t, --time</B>
<a id="OPT_SLURM_UNBUFFEREDIO"></a>
<DT><B>SLURM_UNBUFFEREDIO</B><DD>
Same as <B>-u, --unbuffered</B>
<a id="OPT_SLURM_USE_MIN_NODES"></a>
<DT><B>SLURM_USE_MIN_NODES</B><DD>
Same as <B>--use-min-nodes</B>
<a id="OPT_SLURM_WAIT"></a>
<DT><B>SLURM_WAIT</B><DD>
Same as <B>-W, --wait</B>
<a id="OPT_SLURM_WAIT4SWITCH"></a>
<DT><B>SLURM_WAIT4SWITCH</B><DD>
Max time waiting for requested switches. See <B>--switches</B>
<a id="OPT_SLURM_WCKEY"></a>
<DT><B>SLURM_WCKEY</B><DD>
Same as <B>-W, --wckey</B>
<a id="OPT_SLURM_WORKING_DIR"></a>
<DT><B>SLURM_WORKING_DIR</B><DD>
<B>-D, --chdir</B>
<a id="OPT_SRUN_EXPORT_ENV"></a>
<DT><B>SRUN_EXPORT_ENV</B><DD>
Same as --export, and will override any setting for <B>SRUN_EXPORT_ENV</B>.
<P>
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<a id="SECTION_OUTPUT-ENVIRONMENT-VARIABLES"></a>
<H2>OUTPUT ENVIRONMENT VARIABLES</H2>

<P>

srun will set some environment variables in the environment
of the executing tasks on the remote compute nodes.
These environment variables are:
<P>
<DL COMPACT>
<a id="OPT_SLURM_*_PACK_GROUP_#"></a>
<DT><B>SLURM_*_PACK_GROUP_#</B><DD>
For a heterogeneous job allocation, the environment variables are set separately
for each component.
<a id="OPT_SLURM_CLUSTER_NAME"></a>
<DT><B>SLURM_CLUSTER_NAME</B><DD>
Name of the cluster on which the job is executing.
<a id="OPT_SLURM_CPU_BIND_VERBOSE"></a>
<DT><B>SLURM_CPU_BIND_VERBOSE</B><DD>
--cpu-bind verbosity (quiet,verbose).
<a id="OPT_SLURM_CPU_BIND_TYPE"></a>
<DT><B>SLURM_CPU_BIND_TYPE</B><DD>
--cpu-bind type (none,rank,map_cpu:,mask_cpu:).
<a id="OPT_SLURM_CPU_BIND_LIST"></a>
<DT><B>SLURM_CPU_BIND_LIST</B><DD>
--cpu-bind map or mask list (list of Slurm CPU IDs or masks for this node,
CPU_ID = Board_ID x threads_per_board +
Socket_ID x threads_per_socket +
Core_ID x threads_per_core + Thread_ID).
<P>
<a id="OPT_SLURM_CPU_FREQ_REQ_1"></a>
<DT><B>SLURM_CPU_FREQ_REQ</B><DD>
Contains the value requested for cpu frequency on the srun command as
a numerical frequency in kilohertz, or a coded value for a request of
<I>low</I>, <I>medium</I>,<I>highm1</I> or <I>high</I> for the frequency.
See the description of the <B>--cpu-freq</B> option or the
<B>SLURM_CPU_FREQ_REQ</B> input environment variable.
<a id="OPT_SLURM_CPUS_ON_NODE"></a>
<DT><B>SLURM_CPUS_ON_NODE</B><DD>
Count of processors available to the job on this node.
Note the select/linear plugin allocates entire nodes to
jobs, so the value indicates the total count of CPUs on the node.
For the select/cons_res plugin, this number indicates the number of cores
on this node allocated to the job.
<a id="OPT_SLURM_CPUS_PER_GPU_1"></a>
<DT><B>SLURM_CPUS_PER_GPU</B><DD>
Number of CPUs requested per allocated GPU.
Only set if the <B>--cpus-per-gpu</B> option is specified.
<a id="OPT_SLURM_CPUS_PER_TASK_1"></a>
<DT><B>SLURM_CPUS_PER_TASK</B><DD>
Number of cpus requested per task.
Only set if the <B>--cpus-per-task</B> option is specified.
<a id="OPT_SLURM_DISTRIBUTION_1"></a>
<DT><B>SLURM_DISTRIBUTION</B><DD>
Distribution type for the allocated jobs. Set the distribution
with -m, --distribution.
<a id="OPT_SLURM_GPUS_1"></a>
<DT><B>SLURM_GPUS</B><DD>
Number of GPUs requested.
Only set if the <B>-G, --gpus</B> option is specified.
<a id="OPT_SLURM_GPU_BIND_1"></a>
<DT><B>SLURM_GPU_BIND</B><DD>
Requested binding of tasks to GPU.
Only set if the <B>--gpu-bind</B> option is specified.
<a id="OPT_SLURM_GPU_FREQ_1"></a>
<DT><B>SLURM_GPU_FREQ</B><DD>
Requested GPU frequency.
Only set if the <B>--gpu-freq</B> option is specified.
<a id="OPT_SLURM_GPUS_PER_NODE_1"></a>
<DT><B>SLURM_GPUS_PER_NODE</B><DD>
Requested GPU count per allocated node.
Only set if the <B>--gpus-per-node</B> option is specified.
<a id="OPT_SLURM_GPUS_PER_SOCKET"></a>
<DT><B>SLURM_GPUS_PER_SOCKET</B><DD>
Requested GPU count per allocated socket.
Only set if the <B>--gpus-per-socket</B> option is specified.
<a id="OPT_SLURM_GPUS_PER_TASK_1"></a>
<DT><B>SLURM_GPUS_PER_TASK</B><DD>
Requested GPU count per allocated task.
Only set if the <B>--gpus-per-task</B> option is specified.
<a id="OPT_SLURM_GTIDS"></a>
<DT><B>SLURM_GTIDS</B><DD>
Global task IDs running on this node.
Zero origin and comma separated.
<a id="OPT_SLURM_JOB_ACCOUNT"></a>
<DT><B>SLURM_JOB_ACCOUNT</B><DD>
Account name associated of the job allocation.
<a id="OPT_SLURM_JOB_CPUS_PER_NODE"></a>
<DT><B>SLURM_JOB_CPUS_PER_NODE</B><DD>
Number of CPUS per node.
<a id="OPT_SLURM_JOB_DEPENDENCY"></a>
<DT><B>SLURM_JOB_DEPENDENCY</B><DD>
Set to value of the --dependency option.
<a id="OPT_SLURM_JOB_ID_1"></a>
<DT><B>SLURM_JOB_ID</B> (and <B>SLURM_JOBID</B> for backwards compatibility)<DD>
Job id of the executing job.
<P>
<a id="OPT_SLURM_JOB_NAME_1"></a>
<DT><B>SLURM_JOB_NAME</B><DD>
Set to the value of the --job-name option or the command name when srun
is used to create a new job allocation. Not set when srun is used only to
create a job step (i.e. within an existing job allocation).
<P>
<a id="OPT_SLURM_JOB_PARTITION"></a>
<DT><B>SLURM_JOB_PARTITION</B><DD>
Name of the partition in which the job is running.
<P>
<a id="OPT_SLURM_JOB_QOS"></a>
<DT><B>SLURM_JOB_QOS</B><DD>
Quality Of Service (QOS) of the job allocation.
<a id="OPT_SLURM_JOB_RESERVATION"></a>
<DT><B>SLURM_JOB_RESERVATION</B><DD>
Advanced reservation containing the job allocation, if any.
<P>
<a id="OPT_SLURM_LAUNCH_NODE_IPADDR"></a>
<DT><B>SLURM_LAUNCH_NODE_IPADDR</B><DD>
IP address of the node from which the task launch was
initiated (where the srun command ran from).
<a id="OPT_SLURM_LOCALID"></a>
<DT><B>SLURM_LOCALID</B><DD>
Node local task ID for the process within a job.
<P>
<a id="OPT_SLURM_MEM_BIND_LIST"></a>
<DT><B>SLURM_MEM_BIND_LIST</B><DD>
--mem-bind map or mask list (&lt;list of IDs or masks for this node&gt;).
<a id="OPT_SLURM_MEM_BIND_PREFER"></a>
<DT><B>SLURM_MEM_BIND_PREFER</B><DD>
--mem-bind prefer (prefer).
<a id="OPT_SLURM_MEM_BIND_SORT"></a>
<DT><B>SLURM_MEM_BIND_SORT</B><DD>
Sort free cache pages (run zonesort on Intel KNL nodes).
<a id="OPT_SLURM_MEM_BIND_TYPE"></a>
<DT><B>SLURM_MEM_BIND_TYPE</B><DD>
--mem-bind type (none,rank,map_mem:,mask_mem:).
<a id="OPT_SLURM_MEM_BIND_VERBOSE"></a>
<DT><B>SLURM_MEM_BIND_VERBOSE</B><DD>
--mem-bind verbosity (quiet,verbose).
<a id="OPT_SLURM_MEM_PER_GPU_1"></a>
<DT><B>SLURM_MEM_PER_GPU</B><DD>
Requested memory per allocated GPU.
Only set if the <B>--mem-per-gpu</B> option is specified.
<a id="OPT_SLURM_JOB_NODES"></a>
<DT><B>SLURM_JOB_NODES</B><DD>
Total number of nodes in the job's resource allocation.
<a id="OPT_SLURM_NODE_ALIASES"></a>
<DT><B>SLURM_NODE_ALIASES</B><DD>
Sets of node name, communication address and hostname for nodes allocated to
the job from the cloud. Each element in the set if colon separated and each
set is comma separated. For example:

SLURM_NODE_ALIASES:=:ec0:1.2.3.4:foo,ec1:1.2.3.5:bar

<a id="OPT_SLURM_NODEID"></a>
<DT><B>SLURM_NODEID</B><DD>
The relative node ID of the current node.
<a id="OPT_SLURM_JOB_NODELIST"></a>
<DT><B>SLURM_JOB_NODELIST</B><DD>
List of nodes allocated to the job.
<a id="OPT_SLURM_NTASKS_1"></a>
<DT><B>SLURM_NTASKS</B> (and <B>SLURM_NPROCS</B> for backwards compatibility)<DD>
Total number of processes in the current job.
<a id="OPT_SLURM_PACK_SIZE"></a>
<DT><B>SLURM_PACK_SIZE</B><DD>
Set to count of components in heterogeneous job.
<a id="OPT_SLURM_PRIO_PROCESS"></a>
<DT><B>SLURM_PRIO_PROCESS</B><DD>
The scheduling priority (nice value) at the time of job submission.
This value is propagated to the spawned processes.
<a id="OPT_SLURM_PROCID"></a>
<DT><B>SLURM_PROCID</B><DD>
The MPI rank (or relative process ID) of the current process.
<a id="OPT_SLURM_SRUN_COMM_HOST"></a>
<DT><B>SLURM_SRUN_COMM_HOST</B><DD>
IP address of srun communication host.
<a id="OPT_SLURM_SRUN_COMM_PORT"></a>
<DT><B>SLURM_SRUN_COMM_PORT</B><DD>
srun communication port.
<a id="OPT_SLURM_STEP_LAUNCHER_PORT"></a>
<DT><B>SLURM_STEP_LAUNCHER_PORT</B><DD>
Step launcher port.
<a id="OPT_SLURM_STEP_NODELIST"></a>
<DT><B>SLURM_STEP_NODELIST</B><DD>
List of nodes allocated to the step.
<a id="OPT_SLURM_STEP_NUM_NODES"></a>
<DT><B>SLURM_STEP_NUM_NODES</B><DD>
Number of nodes allocated to the step.
<a id="OPT_SLURM_STEP_NUM_TASKS"></a>
<DT><B>SLURM_STEP_NUM_TASKS</B><DD>
Number of processes in the step.
<a id="OPT_SLURM_STEP_TASKS_PER_NODE"></a>
<DT><B>SLURM_STEP_TASKS_PER_NODE</B><DD>
Number of processes per node within the step.
<a id="OPT_SLURM_STEP_ID"></a>
<DT><B>SLURM_STEP_ID</B> (and <B>SLURM_STEPID</B> for backwards compatibility)<DD>
The step ID of the current job.
<a id="OPT_SLURM_SUBMIT_DIR"></a>
<DT><B>SLURM_SUBMIT_DIR</B><DD>
The directory from which <B>srun</B> was invoked or, if applicable, the
directory specified by the <B>-D, --chdir</B> option.
<a id="OPT_SLURM_SUBMIT_HOST"></a>
<DT><B>SLURM_SUBMIT_HOST</B><DD>
The hostname of the computer from which <B>salloc</B> was invoked.
<a id="OPT_SLURM_TASK_PID"></a>
<DT><B>SLURM_TASK_PID</B><DD>
The process ID of the task being started.
<a id="OPT_SLURM_TASKS_PER_NODE"></a>
<DT><B>SLURM_TASKS_PER_NODE</B><DD>
Number of tasks to be initiated on each node. Values are
comma separated and in the same order as SLURM_JOB_NODELIST.
If two or more consecutive nodes are to have the same task
count, that count is followed by &quot;(x#)&quot; where &quot;#&quot; is the
repetition count. For example, &quot;SLURM_TASKS_PER_NODE=2(x3),1&quot;
indicates that the first three nodes will each execute three
tasks and the fourth node will execute one task.
<P>
<a id="OPT_SLURM_TOPOLOGY_ADDR"></a>
<DT><B>SLURM_TOPOLOGY_ADDR</B><DD>
This is set only if the system has the topology/tree plugin configured.
The value will be set to the names network switches which may be involved in
the job's communications from the system's top level switch down to the leaf
switch and ending with node name. A period is used to separate each hardware
component name.
<a id="OPT_SLURM_TOPOLOGY_ADDR_PATTERN"></a>
<DT><B>SLURM_TOPOLOGY_ADDR_PATTERN</B><DD>
This is set only if the system has the topology/tree plugin configured.
The value will be set component types listed in <B>SLURM_TOPOLOGY_ADDR</B>.
Each component will be identified as either &quot;switch&quot; or &quot;node&quot;.
A period is used to separate each hardware component type.
<a id="OPT_SLURM_UMASK"></a>
<DT><B>SLURM_UMASK</B><DD>
The <I>umask</I> in effect when the job was submitted.
<a id="OPT_SLURMD_NODENAME"></a>
<DT><B>SLURMD_NODENAME</B><DD>
Name of the node running the task. In the case of a parallel job executing on
multiple compute nodes, the various tasks will have this environment variable
set to different values on each compute node.
<a id="OPT_SRUN_DEBUG"></a>
<DT><B>SRUN_DEBUG</B><DD>
Set to the logging level of the <B>srun</B> command.
Default value is 3 (info level).
The value is incremented or decremented based upon the --verbose and
--quiet options.
<P>
</DL>
<A NAME="lbAJ">&nbsp;</A>
<a id="SECTION_SIGNALS-AND-ESCAPE-SEQUENCES"></a>
<H2>SIGNALS AND ESCAPE SEQUENCES</H2>

Signals sent to the <B>srun</B> command are automatically forwarded to
the tasks it is controlling with a few exceptions. The escape sequence
<B>&lt;control-c&gt;</B> will report the state of all tasks associated with
the <B>srun</B> command. If <B>&lt;control-c&gt;</B> is entered twice within
one second, then the associated SIGINT signal will be sent to all tasks
and a termination sequence will be entered sending SIGCONT, SIGTERM,
and SIGKILL to all spawned tasks.
If a third <B>&lt;control-c&gt;</B> is received, the srun program will be
terminated without waiting for remote tasks to exit or their I/O to
complete.
<P>
The escape sequence <B>&lt;control-z&gt;</B> is presently ignored. Our intent
is for this put the <B>srun</B> command into a mode where various special
actions may be invoked.
<P>
<A NAME="lbAK">&nbsp;</A>
<a id="SECTION_MPI-SUPPORT"></a>
<H2>MPI SUPPORT</H2>

MPI use depends upon the type of MPI being used.
There are three fundamentally different modes of operation used
by these various MPI implementation.
<P>
1. Slurm directly launches the tasks and performs initialization
of communications through the PMI2 or PMIx APIs.
For example: &quot;srun -n16 a.out&quot;.
<P>
2. Slurm creates a resource allocation for the job and then
mpirun launches tasks using Slurm's infrastructure (OpenMPI).
<P>
3. Slurm creates a resource allocation for the job and then
mpirun launches tasks using some mechanism other than Slurm,
such as SSH or RSH.
These tasks are initiated outside of Slurm's monitoring
or control. Slurm's epilog should be configured to purge
these tasks when the job's allocation is relinquished,
or the use of pam_slurm_adopt is highly recommended.
<P>
See <I><A HREF="https://slurm.schedmd.com/mpi_guide.html">https://slurm.schedmd.com/mpi_guide.html</A></I>
for more information on use of these various MPI implementation
with Slurm.
<P>
<A NAME="lbAL">&nbsp;</A>
<a id="SECTION_MULTIPLE-PROGRAM-CONFIGURATION"></a>
<H2>MULTIPLE PROGRAM CONFIGURATION</H2>

Comments in the configuration file must have a &quot;#&quot; in column one.
The configuration file contains the following fields separated by white
space:
<DL COMPACT>
<DT>Task rank<DD>
One or more task ranks to use this configuration.
Multiple values may be comma separated.
Ranges may be indicated with two numbers separated with a '-' with
the smaller number first (e.g. &quot;0-4&quot; and not &quot;4-0&quot;).
To indicate all tasks not otherwise specified, specify a rank of '*' as the
last line of the file.
If an attempt is made to initiate a task for which no executable
program is defined, the following error message will be produced
&quot;No executable program specified for this task&quot;.
<DT>Executable<DD>
The name of the program to execute.
May be fully qualified pathname if desired.
<DT>Arguments<DD>
Program arguments.
The expression &quot;%t&quot; will be replaced with the task's number.
The expression &quot;%o&quot; will be replaced with the task's offset within
this range (e.g. a configured task rank value of &quot;1-5&quot; would
have offset values of &quot;0-4&quot;).
Single quotes may be used to avoid having the enclosed values interpreted.
This field is optional.
Any arguments for the program entered on the command line will be added
to the arguments specified in the configuration file.
</DL>
<P>

For example:
<PRE>
###################################################################
# srun multiple program configuration file
#
# srun -n8 -l --multi-prog silly.conf
###################################################################
4-6       hostname
1,7       echo  task:%t
0,2-3     echo  offset:%o

&gt; srun -n8 -l --multi-prog silly.conf
0: offset:0
1: task:1
2: offset:1
3: offset:2
4: linux15.llnl.gov
5: linux16.llnl.gov
6: linux17.llnl.gov
7: task:7

</PRE>

<P>
<P>
<A NAME="lbAM">&nbsp;</A>
<a id="SECTION_EXAMPLES"></a>
<H2>EXAMPLES</H2>

This simple example demonstrates the execution of the command <B>hostname</B>
in eight tasks. At least eight processors will be allocated to the job
(the same as the task count) on however many nodes are required to satisfy
the request. The output of each task will be proceeded with its task number.
(The machine &quot;dev&quot; in the example below has a total of two CPUs per node)
<P>
<PRE>

&gt; srun -n8 -l hostname
0: dev0
1: dev0
2: dev1
3: dev1
4: dev2
5: dev2
6: dev3
7: dev3

</PRE>

<P>

The srun <B>-r</B> option is used within a job script
to run two job steps on disjoint nodes in the following
example. The script is run using allocate mode instead
of as a batch job in this case.
<P>
<PRE>

&gt; cat test.sh
#!/bin/sh
echo $SLURM_JOB_NODELIST
srun -lN2 -r2 hostname
srun -lN2 hostname

&gt; salloc -N4 test.sh
dev[7-10]
0: dev9
1: dev10
0: dev7
1: dev8

</PRE>

<P>

The following script runs two job steps in parallel
within an allocated set of nodes.
<P>
<PRE>

&gt; cat test.sh
#!/bin/bash
srun -lN2 -n4 -r 2 sleep 60 &amp;
srun -lN2 -r 0 sleep 60 &amp;
sleep 1
squeue
squeue -s
wait

&gt; salloc -N4 test.sh
  JOBID PARTITION     NAME     USER  ST      TIME  NODES NODELIST
  65641     batch  test.sh   grondo   R      0:01      4 dev[7-10]

STEPID     PARTITION     USER      TIME NODELIST
65641.0        batch   grondo      0:01 dev[7-8]
65641.1        batch   grondo      0:01 dev[9-10]

</PRE>

<P>

This example demonstrates how one executes a simple MPI job.
We use <B>srun</B> to build a list of machines (nodes) to be used by
<B>mpirun</B> in its required format. A sample command line and
the script to be executed follow.
<P>
<PRE>

&gt; cat test.sh
#!/bin/sh
MACHINEFILE=&quot;nodes.$SLURM_JOB_ID&quot;

# Generate Machinefile for mpi such that hosts are in the same
#  order as if run via srun
#
srun -l /bin/hostname | sort -n | awk '{print $2}' &gt; $MACHINEFILE

# Run using generated Machine file:
mpirun -np $SLURM_NTASKS -machinefile $MACHINEFILE mpi-app

rm $MACHINEFILE

&gt; salloc -N2 -n4 test.sh

</PRE>

<P>

This simple example demonstrates the execution of different jobs on different
nodes in the same srun.  You can do this for any number of nodes or any
number of jobs.  The executables are placed on the nodes sited by the
SLURM_NODEID env var.  Starting at 0 and going to the number specified on
the srun commandline.
<P>
<PRE>

&gt; cat test.sh
case $SLURM_NODEID in
    0) echo &quot;I am running on &quot;
       hostname ;;
    1) hostname
       echo &quot;is where I am running&quot; ;;
esac

&gt; srun -N2 test.sh
dev0
is where I am running
I am running on
dev1

</PRE>

<P>

This example demonstrates use of multi-core options to control layout
of tasks.
We request that four sockets per node and two cores per socket be
dedicated to the job.
<P>
<PRE>

&gt; srun -N2 -B 4-4:2-2 a.out
</PRE>

<P>

This example shows a script in which Slurm is used to provide resource
management for a job by executing the various job steps as processors
become available for their dedicated use.
<P>
<PRE>

&gt; cat my.script
#!/bin/bash
srun --exclusive -n4 prog1 &amp;
srun --exclusive -n3 prog2 &amp;
srun --exclusive -n1 prog3 &amp;
srun --exclusive -n1 prog4 &amp;
wait
</PRE>

<P>
<P>

This example shows how to launch an application called &quot;master&quot; with one task,
8 CPUs and and 16 GB of memory (2 GB per CPU) plus another application called
&quot;slave&quot; with 16 tasks, 1 CPU per task (the default) and 1 GB of memory per task.
<P>
<PRE>

&gt; srun -n1 -c16 --mem-per-cpu=1gb master : -n16 --mem-per-cpu=1gb slave
</PRE>

<P>
<A NAME="lbAN">&nbsp;</A>
<a id="SECTION_COPYING"></a>
<H2>COPYING</H2>

Copyright (C) 2006-2007 The Regents of the University of California.
Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).
<BR>

Copyright (C) 2008-2010 Lawrence Livermore National Security.
<BR>

Copyright (C) 2010-2015 SchedMD LLC.
<P>

This file is part of Slurm, a resource management program.
For details, see &lt;<A HREF="https://slurm.schedmd.com/">https://slurm.schedmd.com/</A>&gt;.
<P>

Slurm is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
<P>

Slurm is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.
<P>
<A NAME="lbAO">&nbsp;</A>
<a id="SECTION_SEE-ALSO"></a>
<H2>SEE ALSO</H2>

<B><A HREF="/man/man2html?1+salloc">salloc</A></B>(1), <B><A HREF="/man/man2html?1+sattach">sattach</A></B>(1), <B><A HREF="/man/man2html?1+sbatch">sbatch</A></B>(1), <B><A HREF="/man/man2html?1+sbcast">sbcast</A></B>(1),
<B><A HREF="/man/man2html?1+scancel">scancel</A></B>(1), <B><A HREF="/man/man2html?1+scontrol">scontrol</A></B>(1), <B><A HREF="/man/man2html?1+squeue">squeue</A></B>(1), <B><A HREF="/man/man2html?5+slurm.conf">slurm.conf</A></B>(5),
<B>sched_setaffinity</B> (2), <B>numa</B> (3)
<B>getrlimit</B> (2)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">EXECUTABLE PATH RESOLUTION</A><DD>
<DT><A HREF="#lbAG">OPTIONS</A><DD>
<DT><A HREF="#lbAH">INPUT ENVIRONMENT VARIABLES</A><DD>
<DT><A HREF="#lbAI">OUTPUT ENVIRONMENT VARIABLES</A><DD>
<DT><A HREF="#lbAJ">SIGNALS AND ESCAPE SEQUENCES</A><DD>
<DT><A HREF="#lbAK">MPI SUPPORT</A><DD>
<DT><A HREF="#lbAL">MULTIPLE PROGRAM CONFIGURATION</A><DD>
<DT><A HREF="#lbAM">EXAMPLES</A><DD>
<DT><A HREF="#lbAN">COPYING</A><DD>
<DT><A HREF="#lbAO">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 06:40:16 GMT, March 22, 2020
			</div> <!-- END .container -->
		</div> <!-- END .section -->
	</div> <!-- END .content -->
</div> <!-- END .main -->

<footer class="site-footer" role="contentinfo">
	<nav class="footer-nav section">
		<div class="container">
			<p><a href="disclaimer.html" target="_blank" class="privacy">Legal Notices</a></p>
		</div>
	</nav>
</footer>

<script type='text/javascript'>
	var custpagename = window.location.href;
	var urlarray = custpagename.split('#');
	custpagename = urlarray[1];

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			 ga('create', 'UA-47927131-1', 'schedmd.com');
		ga('send', {'hitType': 'pageview', 'page': custpagename, 'title': custpagename});
</script>

</body>
</html>
