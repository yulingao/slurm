<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Slurm Workload Manager - slurm.conf</title>
	<link rel="canonical" href="https://slurm.schedmd.com/slurm.conf.html" />

	<link rel="shortcut icon" href="favicon.ico" />

	<link rel="stylesheet" type="text/css" href="fonts.css" />
	<link rel="stylesheet" type="text/css" href="reset.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" type="text/css" href="slurm.css" />

	<script src="jquery.min.js"></script>
	<script type="text/javascript">
	jQuery(document).ready(function() {
		jQuery('.menu-trigger').bind('click touchstart', function() {
			jQuery(this).find('.menu-trigger__lines').toggleClass('menu-trigger__lines--closed');
			jQuery(this).parents('.site-header').find('.site-nav').toggleClass('site-nav--active');

			return false;
		});
	});

	(function() {
	  var cx = '011890816164765777536:jvrtxrd3f0w';
	  var gcse = document.createElement('script');
	  gcse.type = 'text/javascript';
	  gcse.async = true;
	  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	  var s = document.getElementsByTagName('script')[0];
	  s.parentNode.insertBefore(gcse, s);
	})();
	</script>
</head>

<body>

<div class="container container--main">

	<header class="site-header" role="banner">

		<div class="site-masthead">
			<h1 class="site-masthead__title site-masthead__title--slurm">
				<a href="/" rel="home">
					<span class="slurm-logo">Slurm Workload Manager</span>
				</a>
			</h1>
			<div class="site-masthead__title">
				<a href="https://www.schedmd.com/" rel="home">
					<span class="site-logo">SchedMD</span>
				</a>
			</div>

			<button class="site-masthead__trigger menu-trigger" type="button" role="button" aria-label="Toggle Navigation"><span class="menu-trigger__lines"></span></button>
		</div>


		<nav class="site-nav">
			<h2 class="site-nav__title">Navigation</h2>

			<div class="slurm-title">
				<div class="slurm-logo"><a href="/">Slurm Workload Manager</a></div>
				<div class="slurm-title__version">Version 19.05</div>
			</div>

			<ul class="site-nav__menu site-menu menu" role="navigation">
				<li class="site-menu__item">
				        <div>About</div>
					<ul>
						<li><a href="overview.html">Overview</a></li>
						<li><a href="news.html">Release Notes</a></li>
						<li><a href="team.html">Slurm Team</a></li>
						<li><a href="meetings.html">Meetings</a></li>
						<li><a href="testimonials.html">Testimonials</a></li>
						<li><a href="disclaimer.html">Legal Notices</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Using</div>
					<ul>
						<li><a href="tutorials.html">Tutorials</a></li>
						<li><a href="documentation.html">Documentation</a></li>
						<li><a href="faq.html">FAQ</a></li>
						<li><a href="publications.html">Publications</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Installing</div>
					<ul>
						<li><a href="download.html">Download</a></li>
						<li><a href="quickstart_admin.html">Installation Guide</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Getting Help</div>
					<ul>
						<li><a href="https://www.schedmd.com/services.php">Support</a></li>
						<li><a href="mail.html">Mailing Lists</a></li>
						<li><a href="https://www.schedmd.com/services.php">Training</a></li>
						<li><a href="troubleshoot.html">Troubleshooting</a></li>
					</ul>
				</li>
			</ul>

		</nav>

	</header>

	<div class="content" role="main">
		<section class="slurm-search">
			<div class="container" id="cse">
				<gcse:search></gcse:search>
			</div>
		</section>

		<div class="section">
			<div class="container">

<H1>slurm.conf</H1>
Section: Slurm Configuration File (5)<BR>Updated: Slurm Configuration File<BR><A HREF="#index">Index</A>
<A HREF="/man/man2html">Return to Main Contents</A><HR>

<P>
<A NAME="lbAB">&nbsp;</A>
<a id="SECTION_NAME"></a>
<H2>NAME</H2>

slurm.conf - Slurm configuration file
<P>
<A NAME="lbAC">&nbsp;</A>
<a id="SECTION_DESCRIPTION"></a>
<H2>DESCRIPTION</H2>

<B>slurm.conf</B> is an ASCII file which describes general Slurm
configuration information, the nodes to be managed, information about
how those nodes are grouped into partitions, and various scheduling
parameters associated with those partitions. This file should be
consistent across all nodes in the cluster.
<P>

The file location can be modified at system build time using the
DEFAULT_SLURM_CONF parameter or at execution time by setting the SLURM_CONF
environment variable. The Slurm daemons also allow you to override
both the built-in and environment-provided location using the &quot;-f&quot;
option on the command line.
<P>

The contents of the file are case insensitive except for the names of nodes
and partitions. Any text following a &quot;#&quot; in the configuration file is treated
as a comment through the end of that line.
Changes to the configuration file take effect upon restart of
Slurm daemons, daemon receipt of the SIGHUP signal, or execution
of the command &quot;scontrol reconfigure&quot; unless otherwise noted.
<P>

If a line begins with the word &quot;Include&quot; followed by whitespace
and then a file name, that file will be included inline with the current
configuration file. For large or complex systems, multiple configuration files
may prove easier to manage and enable reuse of some files (See INCLUDE
MODIFIERS for more details).
<P>

Note on file permissions:
<P>

The <I>slurm.conf</I> file must be readable by all users of Slurm, since it
is used by many of the Slurm commands.  Other files that are defined
in the <I>slurm.conf</I> file, such as log files and job accounting files,
may need to be created/owned by the user &quot;SlurmUser&quot; to be successfully
accessed.  Use the &quot;chown&quot; and &quot;chmod&quot; commands to set the ownership
and permissions appropriately.
See the section <B>FILE AND DIRECTORY PERMISSIONS</B> for information
about the various files and directories used by Slurm.
<P>
<A NAME="lbAD">&nbsp;</A>
<a id="SECTION_PARAMETERS"></a>
<H2>PARAMETERS</H2>

<P>

The overall configuration parameters available include:
<P>
<DL COMPACT>
<a id="OPT_AccountingStorageBackupHost"></a>
<DT><B>AccountingStorageBackupHost</B><DD>
The name of the backup machine hosting the accounting storage database.
If used with the accounting_storage/slurmdbd plugin, this is where the backup
slurmdbd would be running.
Only used with systems using SlurmDBD, ignored otherwise.
<P>
<a id="OPT_AccountingStorageEnforce"></a>
<DT><B>AccountingStorageEnforce</B><DD>
This controls what level of association-based enforcement to impose
on job submissions.  Valid options are any combination of
<I>associations</I>, <I>limits</I>, <I>nojobs</I>, <I>nosteps</I>, <I>qos</I>, <I>safe</I>, and <I>wckeys</I>, or
<I>all</I> for all things (expect nojobs and nosteps, they must be requested as well).
<P>
If limits, qos, or wckeys are set, associations will automatically be set.
<P>
If wckeys is set, TrackWCKey will automatically be set.
<P>
If safe is set, limits and associations will automatically be set.
<P>
If nojobs is set nosteps will automatically be set.
<P>
By enforcing Associations no new job is allowed to run unless a corresponding
association exists in the system.  If limits are enforced users can be
limited by association to whatever job size or run time limits are defined.
<P>
If nojobs is set Slurm will not account for any jobs or steps on the system,
like wise if nosteps is set Slurm will not account for any steps ran limits
will still be enforced.
<P>
If safe is enforced, a job will only be launched against an association or qos
that has a GrpTRESMins limit set if the job will be able to run to completion.
Without this option set, jobs will be launched as long as their usage
hasn't reached the cpu-minutes limit which can lead to jobs being
launched but then killed when the limit is reached.
<P>
With qos and/or wckeys enforced jobs will not be scheduled unless a valid qos
and/or workload characterization key is specified.
<P>
When <B>AccountingStorageEnforce</B> is changed, a restart of the slurmctld
daemon is required (not just a &quot;scontrol reconfig&quot;).
<P>
<a id="OPT_AccountingStorageHost"></a>
<DT><B>AccountingStorageHost</B><DD>
The name of the machine hosting the accounting storage database.
Only used with systems using SlurmDBD, ignored otherwise.
Also see <B>DefaultStorageHost</B>.
<P>
<a id="OPT_AccountingStorageLoc"></a>
<DT><B>AccountingStorageLoc</B><DD>
The fully qualified file name where accounting records are written
when the <B>AccountingStorageType</B> is &quot;accounting_storage/filetxt&quot;.
Also see <B>DefaultStorageLoc</B>.
<P>
<a id="OPT_AccountingStoragePass"></a>
<DT><B>AccountingStoragePass</B><DD>
The password used to gain access to the database to store the
accounting data.  Only used for database type storage plugins, ignored
otherwise.  In the case of Slurm DBD (Database Daemon) with MUNGE
authentication this can be configured to use a MUNGE daemon
specifically configured to provide authentication between clusters
while the default MUNGE daemon provides authentication within a
cluster.  In that case, <B>AccountingStoragePass</B> should specify the
named port to be used for communications with the alternate MUNGE
daemon (e.g.  &quot;/var/run/munge/global.socket.2&quot;). The default value is
NULL.  Also see <B>DefaultStoragePass</B>.
<P>
<a id="OPT_AccountingStoragePort"></a>
<DT><B>AccountingStoragePort</B><DD>
The listening port of the accounting storage database server.
Only used for database type storage plugins, ignored otherwise.
The default value is SLURMDBD_PORT as established at system
build time. If no value is explicitly specified, it will be set to 6819.
This value must be equal to the <B>DbdPort</B> parameter in the
slurmdbd.conf file.
Also see <B>DefaultStoragePort</B>.
<P>
<a id="OPT_AccountingStorageTRES"></a>
<DT><B>AccountingStorageTRES</B><DD>
Comma separated list of resources you wish to track on the cluster.
These are the resources requested by the sbatch/srun job when it
is submitted. Currently this consists of any GRES, BB (burst buffer) or
license along with CPU, Memory, Node, Energy, FS/[Disk|Lustre], IC/OFED, Pages,
and VMem. By default Billing, CPU, Energy, Memory, Node, FS/Disk, Pages and VMem
are tracked. These default TRES cannot be disabled, but only appended to.
AccountingStorageTRES=gres/craynetwork,license/iop1
will track billing, cpu, energy, memory, nodes, fs/disk, pages and vmem along
with a gres called craynetwork as well as a license called iop1. Whenever these
resources are used on the cluster they are recorded. The TRES are automatically
set up in the database on the start of the slurmctld.
<P>
If multiple GRES of different types are tracked (e.g. GPUs of different types),
then job requests with matching type specifications will be recorded.
Given a configuration of
&quot;AccountingStorageTRES=gres/gpu,gres/gpu:tesla,gres/gpu:volta&quot;
Then &quot;gres/gpu:tesla&quot; and &quot;gres/gpu:volta&quot; will track only jobs that explicitly
request those two GPU types, while &quot;gres/gpu&quot; will track allocated GPUs of any
type (&quot;tesla&quot;, &quot;volta&quot; or any other GPU type).
<P>
Given a configuration of
&quot;AccountingStorageTRES=gres/gpu:tesla,gres/gpu:volta&quot;
Then &quot;gres/gpu:tesla&quot; and &quot;gres/gpu:volta&quot; will track jobs that explicitly
request those GPU types.
If a job requests GPUs, but does not explicitly specify the GPU type, then
it's resource allocation will be accounted for as either &quot;gres/gpu:tesla&quot; or
&quot;gres/gpu:volta&quot;, although the accounting may not match the actual GPU type
allocated to the job and the GPUs allocated to the job could be heterogeneous.
In an environment containing various GPU types, use of a job_submit plugin
may be desired in order to force jobs to explicitly specify some GPU type.
<P>
<a id="OPT_AccountingStorageType"></a>
<DT><B>AccountingStorageType</B><DD>
The accounting storage mechanism type.  Acceptable values at
present include &quot;accounting_storage/filetxt&quot;, &quot;accounting_storage/none&quot;
and &quot;accounting_storage/slurmdbd&quot;.  The
&quot;accounting_storage/filetxt&quot; value indicates that accounting records
will be written to the file specified by the
<B>AccountingStorageLoc</B> parameter.
The &quot;accounting_storage/slurmdbd&quot; value indicates that accounting records
will be written to the Slurm DBD, which manages an underlying MySQL
database. See &quot;man slurmdbd&quot; for more information.  The
default value is &quot;accounting_storage/none&quot; and indicates that account
records are not maintained.
Note: The filetxt plugin records only a limited subset of accounting
information and will prevent some sacct options from proper operation.
Also see <B>DefaultStorageType</B>.
<P>
<a id="OPT_AccountingStorageUser"></a>
<DT><B>AccountingStorageUser</B><DD>
The user account for accessing the accounting storage database.
Only used for database type storage plugins, ignored otherwise.
Also see <B>DefaultStorageUser</B>.
<P>
<a id="OPT_AccountingStoreJobComment"></a>
<DT><B>AccountingStoreJobComment</B><DD>
If set to &quot;YES&quot; then include the job's comment field in the job
complete message sent to the Accounting Storage database.  The default
is &quot;YES&quot;.
Note the AdminComment and SystemComment are always recorded in the database.
<P>
<a id="OPT_AcctGatherNodeFreq"></a>
<DT><B>AcctGatherNodeFreq</B><DD>
The AcctGather plugins sampling interval for node accounting.
For AcctGather plugin values of none, this parameter is ignored.
For all other values this parameter is the number
of seconds between node accounting samples. For the
acct_gather_energy/rapl plugin, set a value less
than 300 because the counters may overflow beyond this rate.
The default value is zero. This value disables accounting sampling
for nodes. Note: The accounting sampling interval for jobs is
determined by the value of <B>JobAcctGatherFrequency</B>.
<P>
<a id="OPT_AcctGatherEnergyType"></a>
<DT><B>AcctGatherEnergyType</B><DD>
Identifies the plugin to be used for energy consumption accounting.
The jobacct_gather plugin and slurmd daemon call this plugin to collect
energy consumption data for jobs and nodes. The collection of energy
consumption data takes place on the node level, hence only in case of exclusive
job allocation the energy consumption measurements will reflect the job's
real consumption. In case of node sharing between jobs the reported consumed
energy per job (through sstat or sacct) will not reflect the real energy
consumed by the jobs.
<P>
Configurable values at present are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_acct_gather_energy/none"></a>
<DT><B>acct_gather_energy/none</B><DD>
No energy consumption data is collected.
<a id="OPT_acct_gather_energy/ipmi"></a>
<DT><B>acct_gather_energy/ipmi</B><DD>
Energy consumption data is collected from the Baseboard Management Controller
(BMC) using the Intelligent Platform Management Interface (IPMI).
<a id="OPT_acct_gather_energy/rapl"></a>
<DT><B>acct_gather_energy/rapl</B><DD>
Energy consumption data is collected from hardware sensors using the Running
Average Power Limit (RAPL) mechanism. Note that enabling RAPL may require the
execution of the command &quot;sudo modprobe msr&quot;.
</DL>
</DL>

<P>
<a id="OPT_AcctGatherInfinibandType"></a>
<DT><B>AcctGatherInfinibandType</B><DD>
Identifies the plugin to be used for infiniband network traffic accounting.
The jobacct_gather plugin and slurmd daemon call this plugin to collect
network traffic data for jobs and nodes.
The collection of network traffic data takes place on the node level,
hence only in case of exclusive job allocation the collected values will
reflect the job's real traffic. In case of node sharing between jobs the reported
network traffic per job (through sstat or sacct) will not reflect the real
network traffic by the jobs.
<P>
Configurable values at present are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_acct_gather_infiniband/none"></a>
<DT><B>acct_gather_infiniband/none</B><DD>
No infiniband network data are collected.
<a id="OPT_acct_gather_infiniband/ofed"></a>
<DT><B>acct_gather_infiniband/ofed</B><DD>
Infiniband network traffic data are collected from the hardware monitoring
counters of Infiniband devices through the OFED library.
In order to account for per job network traffic, add the &quot;ic/ofed&quot; TRES to
<I>AccountingStorageTRES</I>.
</DL>
</DL>

<P>
<a id="OPT_AcctGatherFilesystemType"></a>
<DT><B>AcctGatherFilesystemType</B><DD>
Identifies the plugin to be used for filesystem traffic accounting.
The jobacct_gather plugin and slurmd daemon call this plugin to collect
filesystem traffic data for jobs and nodes.
The collection of filesystem traffic data takes place on the node level,
hence only in case of exclusive job allocation the collected values will
reflect the job's real traffic. In case of node sharing between jobs the reported
filesystem traffic per job (through sstat or sacct) will not reflect the real
filesystem traffic by the jobs.
<P>
<P>
Configurable values at present are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_acct_gather_filesystem/none"></a>
<DT><B>acct_gather_filesystem/none</B><DD>
No filesystem data are collected.
<a id="OPT_acct_gather_filesystem/lustre"></a>
<DT><B>acct_gather_filesystem/lustre</B><DD>
Lustre filesystem traffic data are collected from the counters found in
/proc/fs/lustre/.
In order to account for per job lustre traffic, add the &quot;fs/lustre&quot; TRES to
<I>AccountingStorageTRES</I>.
</DL>
</DL>

<P>
<a id="OPT_AcctGatherProfileType"></a>
<DT><B>AcctGatherProfileType</B><DD>
Identifies the plugin to be used for detailed job profiling.
The jobacct_gather plugin and slurmd daemon call this plugin to collect
detailed data such as I/O counts, memory usage, or energy consumption for jobs
and nodes. There are interfaces in this plugin to collect data as step start
and completion, task start and completion, and at the account gather
frequency. The data collected at the node level is related to jobs only in
case of exclusive job allocation.
<P>
Configurable values at present are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_acct_gather_profile/none"></a>
<DT><B>acct_gather_profile/none</B><DD>
No profile data is collected.
<a id="OPT_acct_gather_profile/hdf5"></a>
<DT><B>acct_gather_profile/hdf5</B><DD>
This enables the HDF5 plugin. The directory where the profile files
are stored and which values are collected are configured in the
acct_gather.conf file.
<a id="OPT_acct_gather_profile/influxdb"></a>
<DT><B>acct_gather_profile/influxdb</B><DD>
This enables the influxdb plugin. The influxdb instance host, port, database,
retention policy and which values are collected are configured in the
acct_gather.conf file.
</DL>
</DL>

<P>
<a id="OPT_AllowSpecResourcesUsage"></a>
<DT><B>AllowSpecResourcesUsage</B><DD>
If set to 1, Slurm allows individual jobs to override node's configured
CoreSpecCount value. For a job to take advantage of this feature,
a command line option of --core-spec must be specified.  The default
value for this option is 1 for Cray systems and 0 for other system types.
<P>
<a id="OPT_AuthAltTypes"></a>
<DT><B>AuthAltTypes</B><DD>
Command separated list of alternative authentication plugins that the slurmctld
will permit for communication.
<P>
<a id="OPT_AuthInfo"></a>
<DT><B>AuthInfo</B><DD>
Additional information to be used for authentication of communications
between the Slurm daemons (slurmctld and slurmd) and the Slurm
clients.  The interpretation of this option is specific to the
configured <B>AuthType</B>.
Multiple options may be specified in a comma delimited list.
If not specified, the default authentication information will be used.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_cred_expire"></a>
<DT><B>cred_expire</B><DD>
Default job step credential lifetime, in seconds (e.g. &quot;cred_expire=1200&quot;).
It must be sufficiently long enough to load user environment, run prolog,
deal with the slurmd getting paged out of memory, etc.
This also controls how long a requeued job must wait before starting again.
The default value is 120 seconds.
<a id="OPT_socket"></a>
<DT><B>socket</B><DD>
Path name to a MUNGE daemon socket to use
(e.g. &quot;socket=/var/run/munge/munge.socket.2&quot;).
The default value is &quot;/var/run/munge/munge.socket.2&quot;.
Used by <I>auth/munge</I> and <I>cred/munge</I>.
<a id="OPT_ttl"></a>
<DT><B>ttl</B><DD>
Credential lifetime, in seconds (e.g. &quot;ttl=300&quot;).
The default value is dependent upon the MUNGE installation, but is typically
300 seconds.
</DL>
</DL>

<P>
<a id="OPT_AuthType"></a>
<DT><B>AuthType</B><DD>
The authentication method for communications between Slurm
components.
Acceptable values at present include &quot;auth/munge&quot; and &quot;auth/none&quot;.
The default value is &quot;auth/munge&quot;.
&quot;auth/none&quot; includes the UID in each communication, but it is not verified.
This may be fine for testing purposes, but
<B>do not use &quot;auth/none&quot; if you desire any security</B>.
&quot;auth/munge&quot; indicates that MUNGE is to be used.
(See &quot;<A HREF="https://dun.github.io/munge/">https://dun.github.io/munge/</A>&quot; for more information).
All Slurm daemons and commands must be terminated prior to changing
the value of <B>AuthType</B> and later restarted.
<P>
<a id="OPT_BackupAddr"></a>
<DT><B>BackupAddr</B><DD>
Defunct option, see <B>SlurmctldHost</B>.
<P>
<a id="OPT_BackupController"></a>
<DT><B>BackupController</B><DD>
Defunct option, see <B>SlurmctldHost</B>.
<P>
The backup controller recovers state information from the
<B>StateSaveLocation</B> directory, which must be readable and writable from both
the primary and backup controllers.
While not essential, it is recommended that you specify a backup controller.
See  the <B>RELOCATING CONTROLLERS</B> section if you change this.
<P>
<a id="OPT_BatchStartTimeout"></a>
<DT><B>BatchStartTimeout</B><DD>
The maximum time (in seconds) that a batch job is permitted for
launching before being considered missing and releasing the
allocation. The default value is 10 (seconds). Larger values may be
required if more time is required to execute the <B>Prolog</B>, load
user environment variables (for Moab spawned jobs), or if the slurmd
daemon gets paged from memory.
<BR>

<BR>

<B>Note</B>: The test for a job being successfully launched is only performed when
the Slurm daemon on the compute node registers state with the slurmctld daemon
on the head node, which happens fairly rarely.
Therefore a job will not necessarily be terminated if its start time exceeds
<B>BatchStartTimeout</B>.
This configuration parameter is also applied to launch tasks and avoid aborting
<B>srun</B> commands due to long running <B>Prolog</B> scripts.
<P>
<a id="OPT_BurstBufferType"></a>
<DT><B>BurstBufferType</B><DD>
The plugin used to manage burst buffers.
Acceptable values at present include &quot;burst_buffer/none&quot;.
More information later...
<P>
<a id="OPT_CheckpointType"></a>
<DT><B>CheckpointType</B><DD>
The system-initiated checkpoint method to be used for user jobs.
The slurmctld daemon must be restarted for a change in <B>CheckpointType</B>
to take effect. Supported values presently include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_checkpoint/none"></a>
<DT><B>checkpoint/none</B><DD>
no checkpoint support (default)
<a id="OPT_checkpoint/ompi"></a>
<DT><B>checkpoint/ompi</B><DD>
OpenMPI (version 1.3 or higher)
</DL>
</DL>

<P>
<a id="OPT_CliFilterPlugins"></a>
<DT><B>CliFilterPlugins</B><DD>
A comma delimited list of command line interface option filter/modification
plugins. The specified plugins will be executed in the order listed.
These are intended to be site-specific plugins which can be used to set
default job parameters and/or logging events.
No cli_filter plugins are used by default.
<P>
<a id="OPT_ClusterName"></a>
<DT><B>ClusterName</B><DD>
The name by which this Slurm managed cluster is known in the
accounting database.  This is needed distinguish accounting records
when multiple clusters report to the same database. Because of limitations
in some databases, any upper case letters in the name will be silently mapped
to lower case. In order to avoid confusion, it is recommended that the name
be lower case.
<P>
<a id="OPT_CommunicationParameters"></a>
<DT><B>CommunicationParameters</B><DD>
Comma separated options identifying communication options.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_CheckGhalQuiesce"></a>
<DT><B>CheckGhalQuiesce</B><DD>
Used specifically on a Cray using an Aries Ghal interconnect.  This will check
to see if the system is quiescing when sending a message, and if so, we wait
until it is done before sending.
<a id="OPT_NoAddrCache"></a>
<DT><B>NoAddrCache</B> By default, Slurm will cache a node's network address after<DD>
successfully establishing the node's network address. This option disables the
cache and Slurm will look up the node's network address each time a connection
is made. This is useful, for example, in a cloud environment where the node
addresses come and go out of DNS.
<a id="OPT_NoCtldInAddrAny"></a>
<DT><B>NoCtldInAddrAny</B><DD>
Used to directly bind to the address of what the node resolves to running
the slurmctld instead of binding messages to any address on the node,
which is the default.
<a id="OPT_NoInAddrAny"></a>
<DT><B>NoInAddrAny</B><DD>
Used to directly bind to the address of what the node resolves to instead
of binding messages to any address on the node which is the default.
This option is for all daemons/clients except for the slurmctld.
</DL>
</DL>

<P>
<a id="OPT_CompleteWait"></a>
<DT><B>CompleteWait</B><DD>
The time, in seconds, given for a job to remain in COMPLETING state
before any additional jobs are scheduled.
If set to zero, pending jobs will be started as soon as possible.
Since a COMPLETING job's resources are released for use by other
jobs as soon as the <B>Epilog</B> completes on each individual node,
this can result in very fragmented resource allocations.
To provide jobs with the minimum response time, a value of zero is
recommended (no waiting).
To minimize fragmentation of resources, a value equal to <B>KillWait</B>
plus two is recommended.
In that case, setting <B>KillWait</B> to a small value may be beneficial.
The default value of <B>CompleteWait</B> is zero seconds.
The value may not exceed 65533.
<P>
<a id="OPT_ControlAddr"></a>
<DT><B>ControlAddr</B><DD>
Defunct option, see <B>SlurmctldHost</B>.
<P>
<a id="OPT_ControlMachine"></a>
<DT><B>ControlMachine</B><DD>
Defunct option, see <B>SlurmctldHost</B>.
<P>
<a id="OPT_CoreSpecPlugin"></a>
<DT><B>CoreSpecPlugin</B><DD>
Identifies the plugins to be used for enforcement of core specialization.
The slurmd daemon must be restarted for a change in CoreSpecPlugin
to take effect.
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_core_spec/cray_aries"></a>
<DT><B>core_spec/cray_aries</B><DD>
used only for Cray systems
<a id="OPT_core_spec/none"></a>
<DT><B>core_spec/none</B><DD>
used for all other system types
</DL>
</DL>

<P>
<a id="OPT_CpuFreqDef"></a>
<DT><B>CpuFreqDef</B><DD>
Default CPU frequency value or frequency governor to use when running a
job step if it has not been explicitly set with the --cpu-freq option.
Acceptable values at present include a numeric value (frequency in kilohertz)
or one of the following governors:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Conservative"></a>
<DT><B>Conservative</B><DD>
attempts to use the Conservative CPU governor
<a id="OPT_OnDemand"></a>
<DT><B>OnDemand</B><DD>
attempts to use the OnDemand CPU governor
<a id="OPT_Performance"></a>
<DT><B>Performance</B><DD>
attempts to use the Performance CPU governor
<a id="OPT_PowerSave"></a>
<DT><B>PowerSave</B><DD>
attempts to use the PowerSave CPU governor
</DL>
</DL>

There is no default value. If unset, no attempt to set the governor is
made if the --cpu-freq option has not been set.
<P>
<a id="OPT_CpuFreqGovernors"></a>
<DT><B>CpuFreqGovernors</B><DD>
List of CPU frequency governors allowed to be set with the salloc, sbatch, or
srun option  --cpu-freq.
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Conservative_1"></a>
<DT><B>Conservative</B><DD>
attempts to use the Conservative CPU governor
<a id="OPT_OnDemand_1"></a>
<DT><B>OnDemand</B><DD>
attempts to use the OnDemand CPU governor (a default value)
<a id="OPT_Performance_1"></a>
<DT><B>Performance</B><DD>
attempts to use the Performance CPU governor (a default value)
<a id="OPT_PowerSave_1"></a>
<DT><B>PowerSave</B><DD>
attempts to use the PowerSave CPU governor
<a id="OPT_UserSpace"></a>
<DT><B>UserSpace</B><DD>
attempts to use the UserSpace CPU governor (a default value)
</DL>
</DL>

The default is OnDemand, Performance and UserSpace.
<a id="OPT_CredType"></a>
<DT><B>CredType</B><DD>
The cryptographic signature tool to be used in the creation of
job step credentials.
The slurmctld daemon must be restarted for a change in <B>CredType</B>
to take effect.
Acceptable values at present include &quot;cred/munge&quot;.
The default value is &quot;cred/munge&quot; and is the recommended.
<P>
<a id="OPT_DebugFlags"></a>
<DT><B>DebugFlags</B><DD>
Defines specific subsystems which should provide more detailed event logging.
Multiple subsystems can be specified with comma separators.
Most DebugFlags will result in verbose logging for the identified subsystems
and could impact performance.
Valid subsystems available today (with more to come) include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Accrue"></a>
<DT><B>Accrue</B><DD>
Accrue counters accounting details
<a id="OPT_Agent"></a>
<DT><B>Agent</B><DD>
RPC agents (outgoing RPCs from Slurm daemons)
<a id="OPT_Backfill"></a>
<DT><B>Backfill</B><DD>
Backfill scheduler details
<a id="OPT_BackfillMap"></a>
<DT><B>BackfillMap</B><DD>
Backfill scheduler to log a very verbose map of reserved resources through
time. Combine with <B>Backfill</B> for a verbose and complete view of the
backfill scheduler's work.
<a id="OPT_BurstBuffer"></a>
<DT><B>BurstBuffer</B><DD>
Burst Buffer plugin
<a id="OPT_CPU_Bind"></a>
<DT><B>CPU_Bind</B><DD>
CPU binding details for jobs and steps
<a id="OPT_CpuFrequency"></a>
<DT><B>CpuFrequency</B><DD>
Cpu frequency details for jobs and steps using the --cpu-freq option.
<a id="OPT_Elasticsearch"></a>
<DT><B>Elasticsearch</B><DD>
Elasticsearch debug info
<a id="OPT_Energy"></a>
<DT><B>Energy</B><DD>
AcctGatherEnergy debug info
<a id="OPT_ExtSensors"></a>
<DT><B>ExtSensors</B><DD>
External Sensors debug info
<a id="OPT_Federation"></a>
<DT><B>Federation</B><DD>
Federation scheduling debug info
<a id="OPT_FrontEnd"></a>
<DT><B>FrontEnd</B><DD>
Front end node details
<a id="OPT_Gres"></a>
<DT><B>Gres</B><DD>
Generic resource details
<a id="OPT_HeteroJobs"></a>
<DT><B>HeteroJobs</B><DD>
Heterogeneous job details
<a id="OPT_Gang"></a>
<DT><B>Gang</B><DD>
Gang scheduling details
<a id="OPT_JobContainer"></a>
<DT><B>JobContainer</B><DD>
Job container plugin details
<a id="OPT_License"></a>
<DT><B>License</B><DD>
License management details
<a id="OPT_NodeFeatures"></a>
<DT><B>NodeFeatures</B><DD>
Node Features plugin debug info
<a id="OPT_NO_CONF_HASH"></a>
<DT><B>NO_CONF_HASH</B><DD>
Do not log when the slurm.conf files differs between Slurm daemons
<a id="OPT_Power"></a>
<DT><B>Power</B><DD>
Power management plugin
<a id="OPT_PowerSave_2"></a>
<DT><B>PowerSave</B><DD>
Power save (suspend/resume programs) details
<a id="OPT_Priority"></a>
<DT><B>Priority</B><DD>
Job prioritization
<a id="OPT_Profile"></a>
<DT><B>Profile</B><DD>
AcctGatherProfile plugins details
<a id="OPT_Protocol"></a>
<DT><B>Protocol</B><DD>
Communication protocol details
<a id="OPT_Reservation"></a>
<DT><B>Reservation</B><DD>
Advanced reservations
<a id="OPT_SelectType"></a>
<DT><B>SelectType</B><DD>
Resource selection plugin
<a id="OPT_Steps"></a>
<DT><B>Steps</B><DD>
Slurmctld resource allocation for job steps
<a id="OPT_Switch"></a>
<DT><B>Switch</B><DD>
Switch plugin
<a id="OPT_TimeCray"></a>
<DT><B>TimeCray</B><DD>
Timing of Cray APIs
<a id="OPT_TRESNode"></a>
<DT><B>TRESNode</B><DD>
Limits dealing with TRES=Node
<a id="OPT_TraceJobs"></a>
<DT><B>TraceJobs</B><DD>
Trace jobs in slurmctld. It will print detailed job information
including state, job ids and allocated nodes counter.
<a id="OPT_Triggers"></a>
<DT><B>Triggers</B><DD>
Slurmctld triggers
</DL>
</DL>

<P>
<a id="OPT_DefCpuPerGPU"></a>
<DT><B>DefCpuPerGPU</B><DD>
Default count of CPUs allocated per allocated GPU.
<P>
<a id="OPT_DefMemPerCPU"></a>
<DT><B>DefMemPerCPU</B><DD>
Default real memory size available per allocated CPU in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>DefMemPerCPU</B> would generally be used if individual processors
are allocated to jobs (<B>SelectType=select/cons_res</B> or
<B>SelectType=select/cons_tres</B>).
The default value is 0 (unlimited).
Also see <B>DefMemPerGPU</B>, <B>DefMemPerNode</B> and <B>MaxMemPerCPU</B>.
<B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>DefMemPerNode</B> are
mutually exclusive.
<P>
<a id="OPT_DefMemPerGPU"></a>
<DT><B>DefMemPerGPU</B><DD>
Default real memory size available per allocated GPU in megabytes.
The default value is 0 (unlimited).
Also see <B>DefMemPerCPU</B> and <B>DefMemPerNode</B>.
<B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>DefMemPerNode</B> are
mutually exclusive.
<P>
<a id="OPT_DefMemPerNode"></a>
<DT><B>DefMemPerNode</B><DD>
Default real memory size available per allocated node in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>DefMemPerNode</B> would generally be used if whole nodes
are allocated to jobs (<B>SelectType=select/linear</B>) and
resources are over-subscribed (<B>OverSubscribe=yes</B> or
<B>OverSubscribe=force</B>).
The default value is 0 (unlimited).
Also see <B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>MaxMemPerCPU</B>.
<B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>DefMemPerNode</B> are
mutually exclusive.
<P>
<a id="OPT_DefaultStorageHost"></a>
<DT><B>DefaultStorageHost</B><DD>
The default name of the machine hosting the accounting storage and
job completion databases.
Only used for database type storage plugins and when the
<B>AccountingStorageHost</B> and <B>JobCompHost</B> have not been
defined.
<P>
<a id="OPT_DefaultStorageLoc"></a>
<DT><B>DefaultStorageLoc</B><DD>
The fully qualified file name where accounting records and/or job
completion records are written when the <B>DefaultStorageType</B> is
&quot;filetxt&quot;.
Also see <B>AccountingStorageLoc</B> and <B>JobCompLoc</B>.
<P>
<a id="OPT_DefaultStoragePass"></a>
<DT><B>DefaultStoragePass</B><DD>
The password used to gain access to the database to store the
accounting and job completion data.
Only used for database type storage plugins, ignored otherwise.
Also see <B>AccountingStoragePass</B> and <B>JobCompPass</B>.
<P>
<a id="OPT_DefaultStoragePort"></a>
<DT><B>DefaultStoragePort</B><DD>
The listening port of the accounting storage and/or job completion
database server.
Only used for database type storage plugins, ignored otherwise.
Also see <B>AccountingStoragePort</B> and <B>JobCompPort</B>.
<P>
<a id="OPT_DefaultStorageType"></a>
<DT><B>DefaultStorageType</B><DD>
The accounting and job completion storage mechanism type.  Acceptable
values at present include &quot;filetxt&quot;, &quot;mysql&quot; and &quot;none&quot;.
The value &quot;filetxt&quot; indicates that records will be written to a file.
The value &quot;mysql&quot; indicates that accounting records will be written to a MySQL
or MariaDB database.
The default value is &quot;none&quot;, which means that records are not maintained.
Also see <B>AccountingStorageType</B> and <B>JobCompType</B>.
<P>
<a id="OPT_DefaultStorageUser"></a>
<DT><B>DefaultStorageUser</B><DD>
The user account for accessing the accounting storage and/or job
completion database.
Only used for database type storage plugins, ignored otherwise.
Also see <B>AccountingStorageUser</B> and <B>JobCompUser</B>.
<P>
<a id="OPT_DisableRootJobs"></a>
<DT><B>DisableRootJobs</B><DD>
If set to &quot;YES&quot; then user root will be prevented from running any jobs.
The default value is &quot;NO&quot;, meaning user root will be able to execute jobs.
<B>DisableRootJobs</B> may also be set by partition.
<P>
<a id="OPT_EioTimeout"></a>
<DT><B>EioTimeout</B><DD>
The number of seconds srun waits for slurmstepd to close the TCP/IP
connection used to relay data between the user application and srun
when the user application terminates. The default value is 60 seconds.
May not exceed 65533.
<P>
<a id="OPT_EnforcePartLimits"></a>
<DT><B>EnforcePartLimits</B><DD>
If set to &quot;ALL&quot; then jobs which exceed a partition's size and/or
time limits will be rejected at submission time. If job is submitted to
multiple partitions, the job must satisfy the limits on all the requested
partitions. If set to &quot;NO&quot; then the job will be accepted and remain queued
until the partition limits are altered(Time and Node Limits).
If set to &quot;ANY&quot; or &quot;YES&quot; a job must satisfy any of the requested partitions
to be submitted. The default value is &quot;NO&quot;.
NOTE: If set, then a job's QOS can not be used to exceed partition limits.
NOTE: The partition limits being considered are it's configured MaxMemPerCPU,
MaxMemPerNode, MinNodes, MaxNodes, MaxTime, AllocNodes, AllowAccounts,
AllowGroups, AllowQOS, and QOS usage threshold.
<P>
<a id="OPT_Epilog"></a>
<DT><B>Epilog</B><DD>
Fully qualified pathname of a script to execute as user root on every
node when a user's job completes (e.g. &quot;/usr/local/slurm/epilog&quot;). A
glob pattern (See <B>glob</B> (7)) may also be used to run more than
one epilog script (e.g. &quot;/etc/slurm/epilog.d/*&quot;). The Epilog script
or scripts may be used to purge files, disable user login, etc.
By default there is no epilog.
See <B>Prolog and Epilog Scripts</B> for more information.
<P>
<a id="OPT_EpilogMsgTime"></a>
<DT><B>EpilogMsgTime</B><DD>
The number of microseconds that the slurmctld daemon requires to process
an epilog completion message from the slurmd daemons. This parameter can
be used to prevent a burst of epilog completion messages from being sent
at the same time which should help prevent lost messages and improve
throughput for large jobs.
The default value is 2000 microseconds.
For a 1000 node job, this spreads the epilog completion messages out over
two seconds.
<P>
<a id="OPT_EpilogSlurmctld"></a>
<DT><B>EpilogSlurmctld</B><DD>
Fully qualified pathname of a program for the slurmctld to execute
upon termination of a job allocation (e.g.
&quot;/usr/local/slurm/epilog_controller&quot;).
The program executes as SlurmUser, which gives it permission to drain
nodes and requeue the job if a failure occurs (See <A HREF="/man/man2html?1+scontrol">scontrol</A>(1)).
Exactly what the program does and how it accomplishes this is completely at
the discretion of the system administrator.
Information about the job being initiated, it's allocated nodes, etc. are
passed to the program using environment variables.
See <B>Prolog and Epilog Scripts</B> for more information.
<P>
<a id="OPT_ExtSensorsFreq"></a>
<DT><B>ExtSensorsFreq</B><DD>
The external sensors plugin sampling interval.
If <B>ExtSensorsType=ext_sensors/none</B>, this parameter is ignored.
For all other values of <B>ExtSensorsType</B>, this parameter is the number
of seconds between external sensors samples for hardware components (nodes,
switches, etc.) The default value is zero. This value disables external
sensors sampling. Note: This parameter does not affect external sensors
data collection for jobs/steps.
<P>
<a id="OPT_ExtSensorsType"></a>
<DT><B>ExtSensorsType</B><DD>
Identifies the plugin to be used for external sensors data collection.
Slurmctld calls this plugin to collect external sensors data for jobs/steps
and hardware components. In case of node sharing between jobs the reported
values per job/step (through sstat or sacct) may not be accurate.  See also
&quot;man ext_sensors.conf&quot;.
<P>
Configurable values at present are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_ext_sensors/none"></a>
<DT><B>ext_sensors/none</B><DD>
No external sensors data is collected.
<a id="OPT_ext_sensors/rrd"></a>
<DT><B>ext_sensors/rrd</B><DD>
External sensors data is collected from the RRD database.
</DL>
</DL>

<P>
<a id="OPT_FairShareDampeningFactor"></a>
<DT><B>FairShareDampeningFactor</B><DD>
Dampen the effect of exceeding a user or group's fair share of allocated
resources. Higher values will provides greater ability to differentiate
between exceeding the fair share at high levels (e.g. a value of 1 results
in almost no difference between overconsumption by a factor of 10 and 100,
while a value of 5 will result in a significant difference in priority).
The default value is 1.
<P>
<a id="OPT_FastSchedule"></a>
<DT><B>FastSchedule</B><DD>
Controls how a node's configuration specifications in slurm.conf are used.
If the number of node configuration entries in the configuration file
is significantly lower than the number of nodes, setting FastSchedule to
1 will permit much faster scheduling decisions to be made.
(The scheduler can just check the values in a few configuration records
instead of possibly thousands of node records.)
Note that on systems with hyper-threading, the processor count
reported by the node will be twice the actual processor count.
Consider which value you want to be used for scheduling purposes.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_0"></a>
<DT><B>0</B><DD>
Base scheduling decisions upon the actual configuration of each individual
node except that the node's processor count in Slurm's configuration must
match the actual hardware configuration if <B>PreemptMode=suspend,gang</B>,
<B>SelectType=select/cons_res</B> or <B>SelectType=select/cons_tres</B> are
configured (all of those plugins maintain resource allocation information using
bitmaps for the cores in the system and must remain static, while the node's
memory, disk space, and GRES counts can be established later).
<a id="OPT_1"></a>
<DT><B>1</B> (default)<DD>
Consider the configuration of each node to be that specified in the
slurm.conf configuration file and any node with less than the
configured resources will be set to DRAIN.
<a id="OPT_2"></a>
<DT><B>2</B><DD>
Consider the configuration of each node to be that specified in the
slurm.conf configuration file and any node with less than the
configured resources will <B>not</B> be set DRAIN.
This option is generally only useful for testing purposes.
</DL>
</DL>

<P>
<a id="OPT_FederationParameters"></a>
<DT><B>FederationParameters</B><DD>
Used to define federation options. Multiple options may be comma separated.
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_fed_display"></a>
<DT><B>fed_display</B><DD>
If set, then the client status commands (e.g. squeue, sinfo, sprio, etc.) will
display information in a federated view by default. This option is functionally
equivalent to using the --federation options on each command. Use the client's
--local option to override the federated view and get a local view of the
given cluster.
</DL>
</DL>

<P>
<a id="OPT_FirstJobId"></a>
<DT><B>FirstJobId</B><DD>
The job id to be used for the first submitted to Slurm without a
specific requested value. Job id values generated will incremented by 1
for each subsequent job. This may be used to provide a meta-scheduler
with a job id space which is disjoint from the interactive jobs.
The default value is 1.
Also see <B>MaxJobId</B>
<P>
<a id="OPT_GetEnvTimeout"></a>
<DT><B>GetEnvTimeout</B><DD>
Used for Moab scheduled jobs only. Controls how long job should wait
in seconds for loading the user's environment before attempting to
load it from a cache file. Applies when the srun or sbatch
<I>--get-user-env</I> option is used. If set to 0 then always load
the user's environment from the cache file.
The default value is 2 seconds.
<P>
<a id="OPT_GresTypes"></a>
<DT><B>GresTypes</B><DD>
A comma delimited list of generic resources to be managed (e.g.
<I>GresTypes=gpu,mps</I>).
These resources may have an associated GRES plugin of the same name providing
additional functionality.
No generic resources are managed by default.
Ensure this parameter is consistent across all nodes in the cluster for
proper operation.
The slurmctld daemon must be restarted for changes to this parameter to become
effective.
<P>
<a id="OPT_GroupUpdateForce"></a>
<DT><B>GroupUpdateForce</B><DD>
If set to a non-zero value, then information about which users are members
of groups allowed to use a partition will be updated periodically, even when
there have been no changes to the /etc/group file.
If set to zero, group member information will be updated only after the
/etc/group file is updated.
The default value is 1.
Also see the <B>GroupUpdateTime</B> parameter.
<P>
<a id="OPT_GroupUpdateTime"></a>
<DT><B>GroupUpdateTime</B><DD>
Controls how frequently information about which users are members of
groups allowed to use a partition will be updated, and how long user
group membership lists will be cached.
The time interval is given in seconds with a default value of 600 seconds.
A value of zero will prevent periodic updating of group membership information.
Also see the <B>GroupUpdateForce</B> parameter.
<P>
<a id="OPT_GpuFreqDef"></a>
<DT><B>GpuFreqDef</B>=[&lt;<I>type</I>]=<I>value</I>&gt;[,&lt;<I>type</I>=<I>value</I>&gt;]<DD>
Default GPU frequency to use when running a job step if it
has not been explicitly set using the --gpu-freq option.
This option can be used to independently configure the GPU and its memory
frequencies. Defaults to &quot;high,memory=high&quot;.
After the job is completed, the frequencies of all affected GPUs will be reset
to the highest possible values.
In some cases, system power caps may override the requested values.
The field <I>type</I> can be &quot;memory&quot;.
If <I>type</I> is not specified, the GPU frequency is implied.
The <I>value</I> field can either be &quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;highm1&quot; or
a numeric value in megahertz (MHz).
If the specified numeric value is not possible, a value as close as
possible will be used.
See below for definition of the values.
Examples of use include &quot;GpuFreqDef=medium,memory=high and &quot;GpuFreqDef=450&quot;.
<P>
Supported <I>value</I> definitions:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_low"></a>
<DT><B>low</B><DD>
the lowest available frequency.
<a id="OPT_medium"></a>
<DT><B>medium</B><DD>
attempts to set a frequency in the middle of the available range.
<a id="OPT_high"></a>
<DT><B>high</B><DD>
the highest available frequency.
<a id="OPT_highm1"></a>
<DT><B>highm1</B><DD>
(high minus one) will select the next highest available frequency.
</DL>
</DL>

<P>
<a id="OPT_HealthCheckInterval"></a>
<DT><B>HealthCheckInterval</B><DD>
The interval in seconds between executions of <B>HealthCheckProgram</B>.
The default value is zero, which disables execution.
<P>
<a id="OPT_HealthCheckNodeState"></a>
<DT><B>HealthCheckNodeState</B><DD>
Identify what node states should execute the <B>HealthCheckProgram</B>.
Multiple state values may be specified with a comma separator.
The default value is ANY to execute on nodes in any state.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_ALLOC"></a>
<DT><B>ALLOC</B><DD>
Run on nodes in the ALLOC state (all CPUs allocated).
<a id="OPT_ANY"></a>
<DT><B>ANY</B><DD>
Run on nodes in any state.
<a id="OPT_CYCLE"></a>
<DT><B>CYCLE</B><DD>
Rather than running the health check program on all nodes at the same time,
cycle through running on all compute nodes through the course of the
<B>HealthCheckInterval</B>. May be combined with the various node state
options.
<a id="OPT_IDLE"></a>
<DT><B>IDLE</B><DD>
Run on nodes in the IDLE state.
<a id="OPT_MIXED"></a>
<DT><B>MIXED</B><DD>
Run on nodes in the MIXED state (some CPUs idle and other CPUs allocated).
</DL>
</DL>

<P>
<a id="OPT_HealthCheckProgram"></a>
<DT><B>HealthCheckProgram</B><DD>
Fully qualified pathname of a script to execute as user root periodically
on all compute nodes that are <B>not</B> in the NOT_RESPONDING state. This
program may be used to verify the node is fully operational and DRAIN the node
or send email if a problem is detected.
Any action to be taken must be explicitly performed by the program
(e.g. execute
&quot;scontrol update NodeName=foo State=drain Reason=tmp_file_system_full&quot;
to drain a node).
The execution interval is controlled using the <B>HealthCheckInterval</B>
parameter.
Note that the <B>HealthCheckProgram</B> will be executed at the same time
on all nodes to minimize its impact upon parallel programs.
This program is will be killed if it does not terminate normally within
60 seconds.
This program will also be executed when the slurmd daemon is first started and
before it registers with the slurmctld daemon.
By default, no program will be executed.
<P>
<a id="OPT_InactiveLimit"></a>
<DT><B>InactiveLimit</B><DD>
The interval, in seconds, after which a non-responsive job allocation
command (e.g. <B>srun</B> or <B>salloc</B>) will result in the job being
terminated. If the node on which the command is executed fails or the
command abnormally terminates, this will terminate its job allocation.
This option has no effect upon batch jobs.
When setting a value, take into consideration that a debugger using <B>srun</B>
to launch an application may leave the <B>srun</B> command in a stopped state
for extended periods of time.
This limit is ignored for jobs running in partitions with the
<B>RootOnly</B> flag set (the scheduler running as root will be
responsible for the job).
The default value is unlimited (zero) and may not exceed 65533 seconds.
<P>
<a id="OPT_JobAcctGatherType"></a>
<DT><B>JobAcctGatherType</B><DD>
The job accounting mechanism type.
Acceptable values at present include &quot;jobacct_gather/linux&quot; (for Linux
systems) and is the recommended one, &quot;jobacct_gather/cgroup&quot; and
&quot;jobacct_gather/none&quot; (no accounting data collected).
The default value is &quot;jobacct_gather/none&quot;.
&quot;jobacct_gather/cgroup&quot; is a plugin for the Linux operating system
that uses cgroups to collect accounting statistics. The plugin collects the
following statistics: From the cgroup memory subsystem: memory.usage_in_bytes
(reported as 'pages') and rss from memory.stat (reported as 'rss'). From the
cgroup cpuacct subsystem: user cpu time and system cpu time. No value
is provided by cgroups for virtual memory size ('vsize').
In order to use the <B>sstat</B> tool &quot;jobacct_gather/linux&quot;,
or &quot;jobacct_gather/cgroup&quot; must be configured.
<BR>

<B>NOTE:</B> Changing this configuration parameter changes the contents of
the messages between Slurm daemons. Any previously running job steps are
managed by a slurmstepd daemon that will persist through the lifetime of
that job step and not change it's communication protocol. Only change this
configuration parameter when there are no running job steps.
<P>
<a id="OPT_JobAcctGatherFrequency"></a>
<DT><B>JobAcctGatherFrequency</B><DD>
The job accounting and profiling sampling intervals.
The supported format is follows:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_JobAcctGatherFrequency="></a>
<DT><B>JobAcctGatherFrequency=</B><I>&lt;datatype&gt;</I><B>=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;datatype&gt;</I>=<I>&lt;interval&gt;</I> specifies the task sampling
interval for the jobacct_gather plugin or a
sampling interval for a profiling type by the
acct_gather_profile plugin. Multiple,
comma-separated <I>&lt;datatype&gt;</I>=<I>&lt;interval&gt;</I> intervals
may be specified. Supported datatypes are as follows:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_task="></a>
<DT><B>task=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the task sampling interval in seconds
for the jobacct_gather plugins and for task
profiling by the acct_gather_profile plugin.
<a id="OPT_energy="></a>
<DT><B>energy=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the sampling interval in seconds
for energy profiling using the acct_gather_energy plugin
<a id="OPT_network="></a>
<DT><B>network=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the sampling interval in seconds
for infiniband profiling using the acct_gather_infiniband
plugin.
<a id="OPT_filesystem="></a>
<DT><B>filesystem=</B><I>&lt;interval&gt;</I><DD>
where <I>&lt;interval&gt;</I> is the sampling interval in seconds
for filesystem profiling using the acct_gather_filesystem
plugin.
<DT></DL>
</DL>

<DD>
</DL>
</DL>

The default value for task sampling interval
is 30 seconds. The default value for all other intervals is 0.
An interval of 0 disables sampling of the specified type.
If the task sampling interval is 0, accounting
information is collected only at job termination (reducing Slurm
interference with the job).
<BR>

<BR>

Smaller (non-zero) values have a greater impact upon job performance,
but a value of 30 seconds is not likely to be noticeable for
applications having less than 10,000 tasks.
<BR>

<BR>

Users can independently override each interval on a per job basis using the
<B>--acctg-freq</B> option when submitting the job.

<P>
<a id="OPT_JobAcctGatherParams"></a>
<DT><B>JobAcctGatherParams</B><DD>
Arbitrary parameters for the job account gather plugin
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_NoShared"></a>
<DT><B>NoShared</B><DD>
Exclude shared memory from accounting.
<a id="OPT_UsePss"></a>
<DT><B>UsePss</B><DD>
Use PSS value instead of RSS to calculate real usage of memory.
The PSS value will be saved as RSS.
<a id="OPT_OverMemoryKill"></a>
<DT><B>OverMemoryKill</B><DD>
Kill jobs or steps that are being detected to use more memory than requested
every time accounting information is gathered by the JobAcctGather plugin.
This parameter will not kill a job directly, but only the step.
See <B>MemLimitEnforce</B> for that purpose. This parameter should be used
with caution as if jobs exceeds its memory allocation it may affect other
processes and/or machine health.
NOTE: It is recommended to limit memory by enabling task/cgroup
in TaskPlugin and making use of ConstrainRAMSpace=yes cgroup.conf instead
of using this JobAcctGather mechanism for memory enforcement, since the former
has a lower resolution (JobAcctGatherFreq) and OOMs could happen at some point.
</DL>
</DL>

<P>
<a id="OPT_JobCheckpointDir"></a>
<DT><B>JobCheckpointDir</B><DD>
Specifies the default directory for storing or reading job checkpoint
information. The data stored here is only a few thousand bytes per job
and includes information needed to resubmit the job request, not job's
memory image. The directory must be readable and writable by
<B>SlurmUser</B>, but not writable by regular users. The job memory images
may be in a different location as specified by <B>--checkpoint-dir</B>
option at job submit time or scontrol's <B>ImageDir</B> option.
<P>
<a id="OPT_JobCompHost"></a>
<DT><B>JobCompHost</B><DD>
The name of the machine hosting the job completion database.
Only used for database type storage plugins, ignored otherwise.
Also see <B>DefaultStorageHost</B>.
<P>
<a id="OPT_JobCompLoc"></a>
<DT><B>JobCompLoc</B><DD>
The fully qualified file name where job completion records are written
when the <B>JobCompType</B> is &quot;jobcomp/filetxt&quot; or the database where
job completion records are stored when the <B>JobCompType</B> is a
database, or an url with format <A HREF="http://yourelasticserver:port">http://yourelasticserver:port</A> when
<B>JobCompType</B> is &quot;jobcomp/elasticsearch&quot;.
NOTE: when you specify a URL for Elasticsearch, Slurm will remove any trailing
slashes &quot;/&quot; from the configured URL and append &quot;/slurm/jobcomp&quot;, which are the
Elasticsearch index name (slurm) and mapping (jobcomp).
NOTE: More information is available at the Slurm web site
( <A HREF="https://slurm.schedmd.com/elasticsearch.html">https://slurm.schedmd.com/elasticsearch.html</A> ).
Also see <B>DefaultStorageLoc</B>.
<P>
<a id="OPT_JobCompPass"></a>
<DT><B>JobCompPass</B><DD>
The password used to gain access to the database to store the job
completion data.
Only used for database type storage plugins, ignored otherwise.
Also see <B>DefaultStoragePass</B>.
<P>
<a id="OPT_JobCompPort"></a>
<DT><B>JobCompPort</B><DD>
The listening port of the job completion database server.
Only used for database type storage plugins, ignored otherwise.
Also see <B>DefaultStoragePort</B>.
<P>
<a id="OPT_JobCompType"></a>
<DT><B>JobCompType</B><DD>
The job completion logging mechanism type.
Acceptable values at present include &quot;jobcomp/none&quot;, &quot;jobcomp/elasticsearch&quot;,
&quot;jobcomp/filetxt&quot;, &quot;jobcomp/mysql&quot; and &quot;jobcomp/script&quot;.
The default value is &quot;jobcomp/none&quot;, which means that upon job completion
the record of the job is purged from the system.  If using the accounting
infrastructure this plugin may not be of interest since the information
here is redundant.
The value &quot;jobcomp/elasticsearch&quot; indicates that a record of the job
should be written to an Elasticsearch server specified by the
<B>JobCompLoc</B> parameter.
NOTE: More information is available at the Slurm web site
( <A HREF="https://slurm.schedmd.com/elasticsearch.html">https://slurm.schedmd.com/elasticsearch.html</A> ).
The value &quot;jobcomp/filetxt&quot; indicates that a record of the job should be
written to a text file specified by the <B>JobCompLoc</B> parameter.
The value &quot;jobcomp/mysql&quot; indicates that a record of the job should be
written to a MySQL or MariaDB database specified by the <B>JobCompLoc</B>
parameter.
The value &quot;jobcomp/script&quot; indicates that a script specified by the
<B>JobCompLoc</B> parameter is to be executed with environment variables
indicating the job information.
<a id="OPT_JobCompUser"></a>
<DT><B>JobCompUser</B><DD>
The user account for accessing the job completion database.
Only used for database type storage plugins, ignored otherwise.
Also see <B>DefaultStorageUser</B>.
<P>
<a id="OPT_JobContainerType"></a>
<DT><B>JobContainerType</B><DD>
Identifies the plugin to be used for job tracking.
The slurmd daemon must be restarted for a change in JobContainerType
to take effect.
NOTE: The <B>JobContainerType</B> applies to a job allocation, while
<B>ProctrackType</B> applies to job steps.
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_job_container/cncu"></a>
<DT><B>job_container/cncu</B><DD>
used only for Cray systems (CNCU = Compute Node Clean Up)
<a id="OPT_job_container/none"></a>
<DT><B>job_container/none</B><DD>
used for all other system types
</DL>
</DL>

<P>
<a id="OPT_JobFileAppend"></a>
<DT><B>JobFileAppend</B><DD>
This option controls what to do if a job's output or error file
exist when the job is started.
If <B>JobFileAppend</B> is set to a value of 1, then append to
the existing file.
By default, any existing file is truncated.
<P>
<a id="OPT_JobRequeue"></a>
<DT><B>JobRequeue</B><DD>
This option controls the default ability for batch jobs to be requeued.
Jobs may be requeued explicitly by a system administrator, after node
failure, or upon preemption by a higher priority job.
If <B>JobRequeue</B> is set to a value of 1, then batch job may be requeued
unless explicitly disabled by the user.
If <B>JobRequeue</B> is set to a value of 0, then batch job will not be requeued
unless explicitly enabled by the user.
Use the <B>sbatch</B> <I>--no-requeue</I> or <I>--requeue</I>
option to change the default behavior for individual jobs.
The default value is 1.
<P>
<a id="OPT_JobSubmitPlugins"></a>
<DT><B>JobSubmitPlugins</B><DD>
A comma delimited list of job submission plugins to be used.
The specified plugins will be executed in the order listed.
These are intended to be site-specific plugins which can be used to set
default job parameters and/or logging events.
Sample plugins available in the distribution include &quot;all_partitions&quot;,
&quot;defaults&quot;, &quot;logging&quot;, &quot;lua&quot;, and &quot;partition&quot;.
For examples of use, see the Slurm code in &quot;src/plugins/job_submit&quot; and
&quot;contribs/lua/job_submit*.lua&quot; then modify the code to satisfy your needs.
Slurm can be configured to use multiple job_submit plugins if desired,
however the lua plugin will only execute one lua script named &quot;job_submit.lua&quot;
located in the default script directory (typically the subdirectory &quot;etc&quot; of
the installation directory).
No job submission plugins are used by default.
<P>
<a id="OPT_KeepAliveTime"></a>
<DT><B>KeepAliveTime</B><DD>
Specifies how long sockets communications used between the srun command and its
slurmstepd process are kept alive after disconnect.
Longer values can be used to improve reliability of communications in the
event of network failures.
The default value leaves the system default value.
The value may not exceed 65533.
<P>
<a id="OPT_KillOnBadExit"></a>
<DT><B>KillOnBadExit</B><DD>
If set to 1, a step will be terminated immediately if any task is
crashed or aborted, as indicated by a non-zero exit code.
With the default value of 0, if one of the processes is crashed or aborted
the other processes will continue to run while the crashed or aborted process
waits. The user can override this configuration parameter by using srun's
<B>-K</B>, <B>--kill-on-bad-exit</B>.
<P>
<a id="OPT_KillWait"></a>
<DT><B>KillWait</B><DD>
The interval, in seconds, given to a job's processes between the
SIGTERM and SIGKILL signals upon reaching its time limit.
If the job fails to terminate gracefully in the interval specified,
it will be forcibly terminated.
The default value is 30 seconds.
The value may not exceed 65533.
<P>
<a id="OPT_NodeFeaturesPlugins"></a>
<DT><B>NodeFeaturesPlugins</B><DD>
Identifies the plugins to be used for support of node features which can
change through time. For example, a node which might be booted with various
BIOS setting. This is supported through the use of a node's active_features
and available_features information.
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_node_features/knl_cray"></a>
<DT><B>node_features/knl_cray</B><DD>
used only for Intel Knights Landing processors (KNL) on Cray systems
<a id="OPT_node_features/knl_generic"></a>
<DT><B>node_features/knl_generic</B><DD>
used for Intel Knights Landing processors (KNL) on a generic Linux system
</DL>
</DL>

<P>
<a id="OPT_LaunchParameters"></a>
<DT><B>LaunchParameters</B><DD>
Identifies options to the job launch plugin.
Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_batch_step_set_cpu_freq"></a>
<DT><B>batch_step_set_cpu_freq</B><DD>
Set the cpu frequency for the batch step from given --cpu-freq, or
slurm.conf CpuFreqDef, option.  By default only steps started with srun will
utilize the cpu freq setting options.
<P>
NOTE: If you are using srun to launch your steps inside a batch script
(advised) this option will create a situation where you may have multiple
agents setting the cpu_freq as the batch step usually runs on the same
resources one or more steps the sruns in the script will create.
<a id="OPT_cray_net_exclusive"></a>
<DT><B>cray_net_exclusive</B><DD>
Allow jobs on a Cray Native cluster exclusive access to network resources.
This should only be set on clusters providing exclusive access to each
node to a single job at once, and not using parallel steps within the job,
otherwise resources on the node can be oversubscribed.
<a id="OPT_lustre_no_flush"></a>
<DT><B>lustre_no_flush</B><DD>
If set on a Cray Native cluster, then do not flush the Lustre cache on job step
completion. This setting will only take effect after reconfiguring, and will
only take effect for newly launched jobs.
<a id="OPT_mem_sort"></a>
<DT><B>mem_sort</B><DD>
Sort NUMA memory at step start. User can override this default with
SLURM_MEM_BIND environment variable or --mem-bind=nosort command line option.
<a id="OPT_disable_send_gids"></a>
<DT><B>disable_send_gids</B><DD>
By default the slurmctld will lookup and send the user_name and extended gids
for a job, rather than individual on each node as part of each task launch. Which avoids issues around name service scalability when launching jobs involving
many nodes.  Using this option will reverse this functionality.
<a id="OPT_slurmstepd_memlock"></a>
<DT><B>slurmstepd_memlock</B><DD>
Lock the slurmstepd process's current memory in RAM.
<a id="OPT_slurmstepd_memlock_all"></a>
<DT><B>slurmstepd_memlock_all</B><DD>
Lock the slurmstepd process's current and future memory in RAM.
<a id="OPT_test_exec"></a>
<DT><B>test_exec</B><DD>
Have srun verify existence of the executable program along with user
execute permission on the node where srun was called before attempting to
launch it on nodes in the step.
</DL>
</DL>

<P>
<a id="OPT_LaunchType"></a>
<DT><B>LaunchType</B><DD>
Identifies the mechanism to be used to launch application tasks.
Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_launch/slurm"></a>
<DT><B>launch/slurm</B><DD>
The default value.
</DL>
</DL>

<P>
<a id="OPT_Licenses"></a>
<DT><B>Licenses</B><DD>
Specification of licenses (or other resources available on all
nodes of the cluster) which can be allocated to jobs.
License names can optionally be followed by a colon
and count with a default count of one.
Multiple license names should be comma separated (e.g.
&quot;Licenses=foo:4,bar&quot;).
Note that Slurm prevents jobs from being scheduled if their
required license specification is not available.
Slurm does not prevent jobs from using licenses that are
not explicitly listed in the job submission specification.
<P>
<a id="OPT_LogTimeFormat"></a>
<DT><B>LogTimeFormat</B><DD>
Format of the timestamp in slurmctld and slurmd log files. Accepted
values are &quot;iso8601&quot;, &quot;iso8601_ms&quot;, &quot;rfc5424&quot;, &quot;rfc5424_ms&quot;, &quot;clock&quot;,
&quot;short&quot; and &quot;thread_id&quot;. The values ending in &quot;_ms&quot; differ from the ones without
in that fractional seconds with millisecond precision are printed. The
default value is &quot;iso8601_ms&quot;. The &quot;rfc5424&quot; formats are the same as
the &quot;iso8601&quot; formats except that the timezone value is also
shown. The &quot;clock&quot; format shows a timestamp in microseconds retrieved
with the C standard clock() function. The &quot;short&quot; format is a short
date and time format. The &quot;thread_id&quot; format shows the timestamp
in the C standard ctime() function form without the year but
including the microseconds, the daemon's process ID and the current thread name
and ID.
<P>
<a id="OPT_MailDomain"></a>
<DT><B>MailDomain</B><DD>
Domain name to qualify usernames if email address is not explicitly given
with the &quot;--mail-user&quot; option. If unset, the local MTA will need to qualify
local address itself.
<P>
<a id="OPT_MailProg"></a>
<DT><B>MailProg</B><DD>
Fully qualified pathname to the program used to send email per user request.
The default value is &quot;/bin/mail&quot; (or &quot;/usr/bin/mail&quot; if &quot;/bin/mail&quot; does not
exist but &quot;/usr/bin/mail&quot; does exist).
<P>
<a id="OPT_MaxArraySize"></a>
<DT><B>MaxArraySize</B><DD>
The maximum job array size.
The maximum job array task index value will be one less than MaxArraySize
to allow for an index value of zero.
Configure MaxArraySize to 0 in order to disable job array use.
The value may not exceed 4000001.
The value of <B>MaxJobCount</B> should be much larger than <B>MaxArraySize</B>.
The default value is 1001.
<P>
<a id="OPT_MaxJobCount"></a>
<DT><B>MaxJobCount</B><DD>
The maximum number of jobs Slurm can have in its active database
at one time. Set the values of <B>MaxJobCount</B> and <B>MinJobAge</B>
to ensure the slurmctld daemon does not exhaust its memory or other
resources. Once this limit is reached, requests to submit additional
jobs will fail. The default value is 10000 jobs.
NOTE: Each task of a job array counts as one job even though they will not
occupy separate job records until modified or initiated.
Performance can suffer with more than a few hundred thousand jobs.
Setting per MaxSubmitJobs per user is generally valuable to prevent a single
user from filling the system with jobs.
This is accomplished using Slurm's database and configuring enforcement of
resource limits.
This value may not be reset via &quot;scontrol reconfig&quot;.
It only takes effect upon restart of the slurmctld daemon.
<P>
<a id="OPT_MaxJobId"></a>
<DT><B>MaxJobId</B><DD>
The maximum job id to be used for jobs submitted to Slurm without a specific
requested value. Job ids are unsigned 32bit integers with the first 26 bits
reserved for local job ids and the remaining 6 bits reserved for a cluster id
to identify a federated job's origin. The maximun allowed local job id is
67,108,863 (0x3FFFFFF). The default value is 67,043,328 (0x03ff0000).
<B>MaxJobId</B> only applies to the local job id and not the federated job id.
Job id values generated will be incremented by 1 for each subsequent job. Once
<B>MaxJobId</B> is reached, the next job will be assigned <B>FirstJobId</B>.
Federated jobs will always have a job ID of 67,108,865 or higher.
Also see <B>FirstJobId</B>.
<P>
<a id="OPT_MaxMemPerCPU"></a>
<DT><B>MaxMemPerCPU</B><DD>
Maximum real memory size available per allocated CPU in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>MaxMemPerCPU</B> would generally be used if individual processors
are allocated to jobs (<B>SelectType=select/cons_res</B> or
<B>SelectType=select/cons_tres</B>).
The default value is 0 (unlimited).
Also see <B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>MaxMemPerNode</B>.
<B>MaxMemPerCPU</B> and <B>MaxMemPerNode</B> are mutually exclusive.
<P>
NOTE: If a job specifies a memory per CPU limit that exceeds this system limit,
that job's count of CPUs per task will automatically be increased. This may
result in the job failing due to CPU count limits.
<P>
<a id="OPT_MaxMemPerNode"></a>
<DT><B>MaxMemPerNode</B><DD>
Maximum real memory size available per allocated node in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>MaxMemPerNode</B> would generally be used if whole nodes
are allocated to jobs (<B>SelectType=select/linear</B>) and
resources are over-subscribed (<B>OverSubscribe=yes</B> or
<B>OverSubscribe=force</B>).
The default value is 0 (unlimited).
Also see <B>DefMemPerNode</B> and <B>MaxMemPerCPU</B>.
<B>MaxMemPerCPU</B> and <B>MaxMemPerNode</B> are mutually exclusive.
<P>
<a id="OPT_MaxStepCount"></a>
<DT><B>MaxStepCount</B><DD>
The maximum number of steps that any job can initiate. This parameter
is intended to limit the effect of bad batch scripts.
The default value is 40000 steps.
<P>
<a id="OPT_MaxTasksPerNode"></a>
<DT><B>MaxTasksPerNode</B><DD>
Maximum number of tasks Slurm will allow a job step to spawn
on a single node. The default <B>MaxTasksPerNode</B> is 512.
May not exceed 65533.
<P>
<a id="OPT_MCSParameters"></a>
<DT><B>MCSParameters</B><DD>
MCS = Multi-Category Security
MCS Plugin Parameters.
The supported parameters are specific to the <B>MCSPlugin</B>.
Changes to this value take effect when the Slurm daemons are reconfigured.
More information about MCS is available here
&lt;<A HREF="https://slurm.schedmd.com/mcs.html">https://slurm.schedmd.com/mcs.html</A>&gt;.
<P>
<a id="OPT_MCSPlugin"></a>
<DT><B>MCSPlugin</B><DD>
MCS = Multi-Category Security : associate a security label to jobs and ensure
that nodes can only be shared among jobs using the same security label.
Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_mcs/none"></a>
<DT><B>mcs/none</B><DD>
is the default value.
No security label associated with jobs,
no particular security restriction when sharing nodes among jobs.
<a id="OPT_mcs/account"></a>
<DT><B>mcs/account</B><DD>
only users with the same account can share the nodes (requires enabling of accounting).
<a id="OPT_mcs/group"></a>
<DT><B>mcs/group</B><DD>
only users with the same group can share the nodes.
<a id="OPT_mcs/user"></a>
<DT><B>mcs/user</B><DD>
a node cannot be shared with other users.
</DL>
</DL>

<P>
<a id="OPT_MemLimitEnforce"></a>
<DT><B>MemLimitEnforce</B><DD>
If set to yes then Slurm will terminate the job if it exceeds the value
requested using the --mem-per-cpu option of salloc/sbatch/srun.
This is useful in combination with <B>JobAcctGatherParams=OverMemoryKill</B>.
Used when jobs need to specify --mem-per-cpu for scheduling and they should
be terminated if they exceed the estimated value.
The default value is 'no', which disables this enforcing mechanism.
NOTE: It is recommended to limit memory by enabling task/cgroup
in TaskPlugin and making use of ConstrainRAMSpace=yes cgroup.conf instead
of using this JobAcctGather mechanism for memory enforcement, since the former
has a lower resolution (JobAcctGatherFreq) and OOMs could happen at some point.

<P>
<a id="OPT_MessageTimeout"></a>
<DT><B>MessageTimeout</B><DD>
Time permitted for a round-trip communication to complete
in seconds. Default value is 10 seconds. For systems with
shared nodes, the slurmd daemon could be paged out and
necessitate higher values.
<P>
<a id="OPT_MinJobAge"></a>
<DT><B>MinJobAge</B><DD>
The minimum age of a completed job before its record is purged from
Slurm's active database. Set the values of <B>MaxJobCount</B> and
to ensure the slurmctld daemon does not exhaust
its memory or other resources. The default value is 300 seconds.
A value of zero prevents any job record purging.
Jobs are not purged during a backfill cycle, so it can take longer than
MinJobAge seconds to purge a job if using the backfill scheduling plugin.
In order to eliminate some possible race conditions, the minimum non-zero
value for <B>MinJobAge</B> recommended is 2.
<P>
<a id="OPT_MpiDefault"></a>
<DT><B>MpiDefault</B><DD>
Identifies the default type of MPI to be used.
Srun may override this configuration parameter in any case.
Currently supported versions include:
<B>openmpi</B>,
<B>pmi2</B>,
<B>pmix</B>, and
<B>none</B> (default, which works for many other versions of MPI).
More information about MPI use is available here
<a href="mpi_guide.html">mpi_guide</a>.
<P>
<a id="OPT_MpiParams"></a>
<DT><B>MpiParams</B><DD>
MPI parameters.
Used to identify ports used by older versions of OpenMPI and native
Cray systems.  The input format is &quot;ports=12000-12999&quot; to identify a range of
communication ports to be used.
NOTE: This is not needed for modern versions of OpenMPI, taking it out can cause
a small boost in scheduling performance.
NOTE: This is require for Cray's PMI.
<a id="OPT_MsgAggregationParams"></a>
<DT><B>MsgAggregationParams</B><DD>
Message aggregation parameters. Message aggregation
is an optional feature that may improve system performance by reducing
the number of separate messages passed between nodes. The feature
works by routing messages through one or more message collector
nodes between their source and destination nodes. At each
collector node, messages with the same destination received
during a defined message collection window are packaged into a single
composite message. When the window expires, the composite message
is sent to the next collector node on
the route to its destination. The route between each source
and destination node is provided by the Route plugin. When a
composite message is received at its destination node, the
original messages are extracted and processed as if they
had been sent directly.
<BR>

<BR>

Currently, the only message types supported by message
aggregation are the node registration, batch script completion,
step completion, and epilog complete messages.
<BR>

<BR>

Since the aggregation node address is set resolving the hostname at slurmd
start in each node, using this feature in non-flat networks is not possible.
For example, if slurmctld is in a different subnetwork than compute
nodes and node addresses are resolved differently the controller than in the
compute nodes, you may face communication issues. In some cases it may be
useful to set CommunicationParameters=NoInAddrAny to make all daemons
communicate through the same network.
<BR>

<BR>

The format for this parameter is as follows:

<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_MsgAggregationParams="></a>
<DT><B>MsgAggregationParams=</B><I>&lt;option&gt;</I><B>=</B><I>&lt;value&gt;</I><DD>
where <I>&lt;option&gt;</I>=<I>&lt;value&gt;</I> specify a particular control
variable. Multiple, comma-separated <I>&lt;option&gt;</I>=<I>&lt;value&gt;</I>
pairs may be specified. Supported options are as follows:
<BR>

<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_WindowMsgs="></a>
<DT><B>WindowMsgs=</B><I>&lt;number&gt;</I><DD>
where <I>&lt;number&gt;</I> is the maximum number of messages
in each message collection window.
<a id="OPT_WindowTime="></a>
<DT><B>WindowTime=</B><I>&lt;time&gt;</I><DD>
where <I>&lt;time&gt;</I> is the maximum elapsed time in milliseconds of
each message collection window.
<BR>

<BR>

<DT></DL>
</DL>

<DD>
</DL>
</DL>

A window expires when either <B>WindowMsgs</B> or <B>WindowTime</B> is
reached. By default, message aggregation is disabled. To enable
the feature, set <B>WindowMsgs</B> to a value greater than 1. The
default value for <B>WindowTime</B> is 100 milliseconds.


<P>
<a id="OPT_OverTimeLimit"></a>
<DT><B>OverTimeLimit</B><DD>
Number of minutes by which a job can exceed its time limit before
being canceled.
Normally a job's time limit is treated as a <I>hard</I> limit and the job will be
killed upon reaching that limit.
Configuring <B>OverTimeLimit</B> will result in the job's time limit being
treated like a <I>soft</I> limit.
Adding the <B>OverTimeLimit</B> value to the <I>soft</I> time limit provides a
<I>hard</I> time limit, at which point the job is canceled.
This is particularly useful for backfill scheduling, which bases upon
each job's soft time limit.
The default value is zero.
May not exceed exceed 65533 minutes.
A value of &quot;UNLIMITED&quot; is also supported.
<P>
<a id="OPT_PluginDir"></a>
<DT><B>PluginDir</B><DD>
Identifies the places in which to look for Slurm plugins.
This is a colon-separated list of directories, like the PATH
environment variable.
The default value is &quot;/usr/local/lib/slurm&quot;.
<P>
<a id="OPT_PlugStackConfig"></a>
<DT><B>PlugStackConfig</B><DD>
Location of the config file for Slurm stackable plugins that use
the Stackable Plugin Architecture for Node job (K)control (SPANK).
This provides support for a highly configurable set of plugins to
be called before and/or after execution of each task spawned as
part of a user's job step.  Default location is &quot;plugstack.conf&quot;
in the same directory as the system slurm.conf. For more information
on SPANK plugins, see the <B><A HREF="/man/man2html?8+spank">spank</A></B>(8) manual.
<P>
<a id="OPT_PowerParameters"></a>
<DT><B>PowerParameters</B><DD>
System power management parameters.
The supported parameters are specific to the <B>PowerPlugin</B>.
Changes to this value take effect when the Slurm daemons are reconfigured.
More information about system power management is available here
&lt;<A HREF="https://slurm.schedmd.com/power_mgmt.html">https://slurm.schedmd.com/power_mgmt.html</A>&gt;.
Options current supported by any plugins are listed below.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_balance_interval=#"></a>
<DT><B>balance_interval=#</B><DD>
Specifies the time interval, in seconds, between attempts to rebalance power
caps across the nodes.
This also controls the frequency at which Slurm attempts to collect current
power consumption data (old data may be used until new data is available from
the underlying infrastructure and values below 10 seconds are not recommended
for Cray systems).
The default value is 30 seconds.
Supported by the power/cray_aries plugin.
<a id="OPT_capmc_path="></a>
<DT><B>capmc_path=</B><DD>
Specifies the absolute path of the capmc command.
The default value is &quot;/opt/cray/capmc/default/bin/capmc&quot;.
Supported by the power/cray_aries plugin.
<a id="OPT_cap_watts=#"></a>
<DT><B>cap_watts=#</B><DD>
Specifies the total power limit to be established across all compute nodes
managed by Slurm.
A value of 0 sets every compute node to have an unlimited cap.
The default value is 0.
Supported by the power/cray_aries plugin.
<a id="OPT_decrease_rate=#"></a>
<DT><B>decrease_rate=#</B><DD>
Specifies the maximum rate of change in the power cap for a node where the
actual power usage is below the power cap by an amount greater than
<B>lower_threshold</B> (see below).
Value represents a percentage of the difference between a node's minimum and
maximum power consumption.
The default value is 50 percent.
Supported by the power/cray_aries plugin.
<a id="OPT_get_timeout=#"></a>
<DT><B>get_timeout=#</B><DD>
Amount of time allowed to get power state information in milliseconds.
The default value is 5,000 milliseconds or 5 seconds.
Supported by the power/cray_aries plugin and represents the time allowed for the
capmc command to respond to various &quot;get&quot; options.
<a id="OPT_increase_rate=#"></a>
<DT><B>increase_rate=#</B><DD>
Specifies the maximum rate of change in the power cap for a node where the
actual power usage is within <B>upper_threshold</B> (see below) of the power cap.
Value represents a percentage of the difference between a node's minimum and
maximum power consumption.
The default value is 20 percent.
Supported by the power/cray_aries plugin.
<a id="OPT_job_level"></a>
<DT><B>job_level</B><DD>
All nodes associated with every job will have the same power cap, to the extent
possible.
Also see the --power=level option on the job submission commands.
<a id="OPT_job_no_level"></a>
<DT><B>job_no_level</B><DD>
Disable the user's ability to set every node associated with a job to the same
power cap.
Each node will have it's power cap set independently.
This disables the --power=level option on the job submission commands.
<a id="OPT_lower_threshold=#"></a>
<DT><B>lower_threshold=#</B><DD>
Specify a lower power consumption threshold.
If a node's current power consumption is below this percentage of its current
cap, then its power cap will be reduced.
The default value is 90 percent.
Supported by the power/cray_aries plugin.
<a id="OPT_recent_job=#"></a>
<DT><B>recent_job=#</B><DD>
If a job has started or resumed execution (from suspend) on a compute node
within this number of seconds from the current time, the node's power cap will
be increased to the maximum.
The default value is 300 seconds.
Supported by the power/cray_aries plugin.
<P>
<a id="OPT_set_timeout=#"></a>
<DT><B>set_timeout=#</B><DD>
Amount of time allowed to set power state information in milliseconds.
The default value is 30,000 milliseconds or 30 seconds.
Supported by the power/cray plugin and represents the time allowed for the
capmc command to respond to various &quot;set&quot; options.
<a id="OPT_set_watts=#"></a>
<DT><B>set_watts=#</B><DD>
Specifies the power limit to be set on every compute nodes managed by Slurm.
Every node gets this same power cap and there is no variation through time
based upon actual power usage on the node.
Supported by the power/cray_aries plugin.
<a id="OPT_upper_threshold=#"></a>
<DT><B>upper_threshold=#</B><DD>
Specify an upper power consumption threshold.
If a node's current power consumption is above this percentage of its current
cap, then its power cap will be increased to the extent possible.
The default value is 95 percent.
Supported by the power/cray_aries plugin.
</DL>
</DL>

<P>
<a id="OPT_PowerPlugin"></a>
<DT><B>PowerPlugin</B><DD>
Identifies the plugin used for system power management.
Currently supported plugins include:
<B>cray_aries</B> and
<B>none</B>.
Changes to this value require restarting Slurm daemons to take effect.
More information about system power management is available here
&lt;<A HREF="https://slurm.schedmd.com/power_mgmt.html">https://slurm.schedmd.com/power_mgmt.html</A>&gt;.
By default, no power plugin is loaded.
<P>
<a id="OPT_PreemptMode"></a>
<DT><B>PreemptMode</B><DD>
Enables gang scheduling and/or controls the mechanism used to preempt
jobs.  When the <B>PreemptType</B> parameter is set to enable preemption, the
<B>PreemptMode</B> selects the default mechanism used to preempt the lower
priority jobs for the cluster. <B>PreemptMode</B> may be specified on a
per partition basis to override this default value if
<B>PreemptType=preempt/partition_prio</B>, but a valid default <B>PreemptMode</B>
value must be specified for the cluster as a whole when preemption is enabled.
The <B>GANG</B> option is used to
enable gang scheduling independent of whether preemption is enabled
(the <B>PreemptType</B> setting).  The <B>GANG</B> option can be
specified in addition to a <B>PreemptMode</B> setting with the two
options comma separated.  The <B>SUSPEND</B> option requires that gang
scheduling be enabled (i.e, &quot;PreemptMode=SUSPEND,GANG&quot;).
<B>NOTE:
For performance reasons, the backfill scheduler reserves whole nodes for jobs,
not partial nodes. If during backfill scheduling a job preempts one or more
other jobs, the whole nodes for those preempted jobs are reserved for the
preemptor job, even if the preemptor job requested fewer resources than that.
These reserved nodes aren't available to other jobs during that backfill
cycle, even if the other jobs could fit on the nodes. Therefore, jobs may
preempt more resources during a single backfill iteration than they requested.
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>OFF</B><DD>
is the default value and disables job preemption and gang scheduling.
<a id="OPT_CANCEL"></a>
<DT><B>CANCEL</B><DD>
always cancel the job.
<a id="OPT_CHECKPOINT"></a>
<DT><B>CHECKPOINT</B><DD>
preempts jobs by checkpointing them (if possible) or canceling them.
<a id="OPT_GANG"></a>
<DT><B>GANG</B><DD>
enables gang scheduling (time slicing) of jobs in the same partition.
NOTE: Gang scheduling is performed independently for each partition, so
configuring partitions with overlapping nodes and gang scheduling is generally
not recommended.
<a id="OPT_REQUEUE"></a>
<DT><B>REQUEUE</B><DD>
preempts jobs by requeuing them (if possible) or canceling them.
For jobs to be requeued they must have the --requeue sbatch option set
or the cluster wide JobRequeue parameter in slurm.conf must be set to one.
<a id="OPT_SUSPEND"></a>
<DT><B>SUSPEND</B><DD>
If PreemptType=preempt/partition_prio is configured then suspend and
automatically resume the low priority jobs.
If PreemptType=preempt/qos is configured, then the jobs sharing resources
will always time slice rather than one job remaining suspended.
The <B>SUSPEND</B> may only be used with the <B>GANG</B> option
(the gang scheduler module performs the job resume operation).
</DL>
</DL>

<P>
<a id="OPT_PreemptType"></a>
<DT><B>PreemptType</B><DD>
This specifies the plugin used to identify which jobs can be
preempted in order to start a pending job.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_preempt/none"></a>
<DT><B>preempt/none</B><DD>
Job preemption is disabled.
This is the default.
<a id="OPT_preempt/partition_prio"></a>
<DT><B>preempt/partition_prio</B><DD>
Job preemption is based upon partition priority tier.
Jobs in higher priority partitions (queues) may preempt jobs from lower
priority partitions.
This is not compatible with <B>PreemptMode=OFF</B>.
<a id="OPT_preempt/qos"></a>
<DT><B>preempt/qos</B><DD>
Job preemption rules are specified by Quality Of Service (QOS) specifications
in the Slurm database.
This option is not compatible with <B>PreemptMode=OFF</B>.
A configuration of <B>PreemptMode=SUSPEND</B> is only supported by the
<B>SelectType=select/cons_res</B> and <B>SelectType=select/cons_tres</B> plugins.
</DL>
</DL>

<P>
<a id="OPT_PreemptExemptTime"></a>
<DT><B>PreemptExemptTime</B><DD>
Global option for minimum run time for all jobs before they can be considered
for preemption. Any QOS PreemptExemptTime takes precedence over the global
option.
A time of -1 disables the option, equivalent to 0. Acceptable time formats
include &quot;minutes&quot;, &quot;minutes:seconds&quot;, &quot;hours:minutes:seconds&quot;, &quot;days-hours&quot;,
&quot;days-hours:minutes&quot;, and &quot;days-hours:minutes:seconds&quot;.
<P>
<a id="OPT_PriorityCalcPeriod"></a>
<DT><B>PriorityCalcPeriod</B><DD>
The period of time in minutes in which the half-life decay will be
re-calculated.
Applicable only if PriorityType=priority/multifactor.
The default value is 5 (minutes).
<P>
<a id="OPT_PriorityDecayHalfLife"></a>
<DT><B>PriorityDecayHalfLife</B><DD>
This controls how long prior resource use is considered in determining
how over- or under-serviced an association is (user, bank account and
cluster) in determining job priority.
The record of usage will be decayed over time, with half of the original value
cleared at age <B>PriorityDecayHalfLife</B>.
If set to 0 no decay will be applied.
This is helpful if you want to enforce hard time limits per association.  If
set to 0 <B>PriorityUsageResetPeriod</B> must be set to some interval.
Applicable only if PriorityType=priority/multifactor.
The unit is a time string (i.e. min, hr:min:00, days-hr:min:00,
or days-hr).  The default value is 7-0 (7 days).
<P>
<a id="OPT_PriorityFavorSmall"></a>
<DT><B>PriorityFavorSmall</B><DD>
Specifies that small jobs should be given preferential scheduling priority.
Applicable only if PriorityType=priority/multifactor.
Supported values are &quot;YES&quot; and &quot;NO&quot;.  The default value is &quot;NO&quot;.
<P>
<a id="OPT_PriorityFlags"></a>
<DT><B>PriorityFlags</B><DD>
Flags to modify priority behavior.
Applicable only if PriorityType=priority/multifactor.
The keywords below have no associated value
(e.g. &quot;PriorityFlags=ACCRUE_ALWAYS,SMALL_RELATIVE_TO_TIME&quot;).
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_ACCRUE_ALWAYS"></a>
<DT><B>ACCRUE_ALWAYS</B><DD>
If set, priority age factor will be increased despite job dependencies
or holds.
<a id="OPT_CALCULATE_RUNNING"></a>
<DT><B>CALCULATE_RUNNING</B><DD>
If set, priorities will be recalculated not only for pending jobs, but also
running and suspended jobs.
<a id="OPT_DEPTH_OBLIVIOUS"></a>
<DT><B>DEPTH_OBLIVIOUS</B><DD>
If set, priority will be calculated based similar to the normal multifactor
calculation, but depth of the associations in the tree do not adversely effect
their priority. This option automatically enables NO_FAIR_TREE.
<a id="OPT_NO_FAIR_TREE"></a>
<DT><B>NO_FAIR_TREE</B><DD>
Disables the &quot;fair tree&quot; algorithm, and reverts to &quot;classic&quot; fair share
priority scheduling.
<a id="OPT_INCR_ONLY"></a>
<DT><B>INCR_ONLY</B><DD>
If set, priority values will only increase in value. Job priority will never
decrease in value.
<a id="OPT_MAX_TRES"></a>
<DT><B>MAX_TRES</B><DD>
If set, the weighted TRES value (e.g. TRESBillingWeights) is calculated as the
MAX of individual TRES' on a node (e.g. cpus, mem, gres) plus the sum of all
global TRES' (e.g. licenses).
<a id="OPT_NO_NORMAL_ALL"></a>
<DT><B>NO_NORMAL_ALL</B><DD>
If set, all NO_NORMAL_* flags are set.
<a id="OPT_NO_NORMAL_ASSOC"></a>
<DT><B>NO_NORMAL_ASSOC</B><DD>
If set, the association factor is not normalized against the highest association
priority.
<a id="OPT_NO_NORMAL_PART"></a>
<DT><B>NO_NORMAL_PART</B><DD>
If set, the partition factor is not normalized against the highest partition
<B>PriorityTier</B>.
<a id="OPT_NO_NORMAL_QOS"></a>
<DT><B>NO_NORMAL_QOS</B><DD>
If set, the QOS factor is not normalized against the highest qos priority.
<a id="OPT_NO_NORMAL_TRES"></a>
<DT><B>NO_NORMAL_TRES</B><DD>
If set, the QOS factor is not normalized against the job's partition TRES
counts.
<a id="OPT_SMALL_RELATIVE_TO_TIME"></a>
<DT><B>SMALL_RELATIVE_TO_TIME</B><DD>
If set, the job's size component will be based upon not the job size alone, but
the job's size divided by it's time limit.
</DL>
</DL>

<P>
<a id="OPT_PriorityMaxAge"></a>
<DT><B>PriorityMaxAge</B><DD>
Specifies the job age which will be given the maximum age factor in computing
priority. For example, a value of 30 minutes would result in all jobs over
30 minutes old would get the same age-based priority.
Applicable only if PriorityType=priority/multifactor.
The unit is a time string (i.e. min, hr:min:00, days-hr:min:00,
or days-hr).  The default value is 7-0 (7 days).
<P>
<a id="OPT_PriorityParameters"></a>
<DT><B>PriorityParameters</B><DD>
Arbitrary string used by the PriorityType plugin.
<P>
<a id="OPT_PrioritySiteFactorParameters"></a>
<DT><B>PrioritySiteFactorParameters</B><DD>
Arbitrary string used by the PrioritySiteFactorPlugin plugin.
<P>
<a id="OPT_PrioritySiteFactorPlugin"></a>
<DT><B>PrioritySiteFactorPlugin</B><DD>
The specifies an optional plugin to be used alongside &quot;priority/multifactor&quot;,
which is meant to initially set and continuously update the SiteFactor
priority factor.
The default value is &quot;site_factor/none&quot;.
<P>
<a id="OPT_PriorityType"></a>
<DT><B>PriorityType</B><DD>
This specifies the plugin to be used in establishing a job's scheduling
priority. Supported values are &quot;priority/basic&quot; (jobs are prioritized
by order of arrival), &quot;priority/multifactor&quot; (jobs are prioritized based
upon size, age, fair-share of allocation, etc).
Also see <B>PriorityFlags</B> for configuration options.
The default value is &quot;priority/basic&quot;.
<P>
<DL COMPACT><DT><DD>

When not FIFO scheduling, jobs are prioritized in the following order:
<DL COMPACT>
<DT>step].<DD>
Jobs that can preempt
<DT>step].<DD>
Jobs with an advanced reservation
<DT>step].<DD>
Partition Priority Tier
<DT>step].<DD>
Job Priority
<DT>step].<DD>
Job Id
</DL>
</DL>

<P>
<a id="OPT_PriorityUsageResetPeriod"></a>
<DT><B>PriorityUsageResetPeriod</B><DD>
At this interval the usage of associations will be reset to 0.  This is used
if you want to enforce hard limits of time usage per association.  If
PriorityDecayHalfLife is set to be 0 no decay will happen and this is the
only way to reset the usage accumulated by running jobs.  By default this is
turned off and it is advised to use the PriorityDecayHalfLife option to avoid
not having anything running on your cluster, but if your schema is set up to
only allow certain amounts of time on your system this is the way to do it.
Applicable only if PriorityType=priority/multifactor.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_NONE"></a>
<DT><B>NONE</B><DD>
Never clear historic usage. The default value.
<a id="OPT_NOW"></a>
<DT><B>NOW</B><DD>
Clear the historic usage now.
Executed at startup and reconfiguration time.
<a id="OPT_DAILY"></a>
<DT><B>DAILY</B><DD>
Cleared every day at midnight.
<a id="OPT_WEEKLY"></a>
<DT><B>WEEKLY</B><DD>
Cleared every week on Sunday at time 00:00.
<a id="OPT_MONTHLY"></a>
<DT><B>MONTHLY</B><DD>
Cleared on the first day of each month at time 00:00.
<a id="OPT_QUARTERLY"></a>
<DT><B>QUARTERLY</B><DD>
Cleared on the first day of each quarter at time 00:00.
<a id="OPT_YEARLY"></a>
<DT><B>YEARLY</B><DD>
Cleared on the first day of each year at time 00:00.
</DL>
</DL>

<P>
<a id="OPT_PriorityWeightAge"></a>
<DT><B>PriorityWeightAge</B><DD>
An integer value that sets the degree to which the queue wait time
component contributes to the job's priority.
Applicable only if PriorityType=priority/multifactor.
The default value is 0.
<P>
<a id="OPT_PriorityWeightAssoc"></a>
<DT><B>PriorityWeightAssoc</B><DD>
An integer value that sets the degree to which the association
component contributes to the job's priority.
Applicable only if PriorityType=priority/multifactor.
The default value is 0.
<P>
<a id="OPT_PriorityWeightFairshare"></a>
<DT><B>PriorityWeightFairshare</B><DD>
An integer value that sets the degree to which the fair-share
component contributes to the job's priority.
Applicable only if PriorityType=priority/multifactor.
The default value is 0.
<P>
<a id="OPT_PriorityWeightJobSize"></a>
<DT><B>PriorityWeightJobSize</B><DD>
An integer value that sets the degree to which the job size
component contributes to the job's priority.
Applicable only if PriorityType=priority/multifactor.
The default value is 0.
<P>
<a id="OPT_PriorityWeightPartition"></a>
<DT><B>PriorityWeightPartition</B><DD>
Partition factor used by priority/multifactor plugin in calculating job priority.
Applicable only if PriorityType=priority/multifactor.
The default value is 0.
<P>
<a id="OPT_PriorityWeightQOS"></a>
<DT><B>PriorityWeightQOS</B><DD>
An integer value that sets the degree to which the Quality Of Service
component contributes to the job's priority.
Applicable only if PriorityType=priority/multifactor.
The default value is 0.
<P>
<a id="OPT_PriorityWeightTRES"></a>
<DT><B>PriorityWeightTRES</B><DD>
A comma separated list of TRES Types and weights that sets the degree that each
TRES Type contributes to the job's priority.
<P>
<PRE>
e.g.
PriorityWeightTRES=CPU=1000,Mem=2000,GRES/gpu=3000
</PRE>

<P>
Applicable only if PriorityType=priority/multifactor and if
AccountingStorageTRES is configured with each TRES Type.
Negative values are allowed.
The default values are 0.
<P>
<a id="OPT_PrivateData"></a>
<DT><B>PrivateData</B><DD>
This controls what type of information is hidden from regular users.
By default, all information is visible to all users.
User <B>SlurmUser</B> and <B>root</B> can always view all information.
Multiple values may be specified with a comma separator.
Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_accounts"></a>
<DT><B>accounts</B><DD>
(NON-SlurmDBD ACCOUNTING ONLY) Prevents users from viewing any account
definitions unless they are coordinators of them.
<a id="OPT_cloud"></a>
<DT><B>cloud</B><DD>
Powered down nodes in the cloud are visible.
<a id="OPT_events"></a>
<DT><B>events</B><DD>
prevents users from viewing event information unless they have operator status
or above.
<a id="OPT_jobs"></a>
<DT><B>jobs</B><DD>
Prevents users from viewing jobs or job steps belonging
to other users. (NON-SlurmDBD ACCOUNTING ONLY) Prevents users from viewing
job records belonging to other users unless they are coordinators of
the association running the job when using sacct.
<a id="OPT_nodes"></a>
<DT><B>nodes</B><DD>
Prevents users from viewing node state information.
<a id="OPT_partitions"></a>
<DT><B>partitions</B><DD>
Prevents users from viewing partition state information.
<a id="OPT_reservations"></a>
<DT><B>reservations</B><DD>
Prevents regular users from viewing reservations which they can not use.
<a id="OPT_usage"></a>
<DT><B>usage</B><DD>
Prevents users from viewing usage of any other user, this applies to sshare.
(NON-SlurmDBD ACCOUNTING ONLY) Prevents users from viewing
usage of any other user, this applies to sreport.
<a id="OPT_users"></a>
<DT><B>users</B><DD>
(NON-SlurmDBD ACCOUNTING ONLY) Prevents users from viewing
information of any user other than themselves, this also makes it so users can
only see associations they deal with.
Coordinators can see associations of all users they are coordinator of,
but can only see themselves when listing users.
</DL>
</DL>

<P>
<a id="OPT_ProctrackType"></a>
<DT><B>ProctrackType</B><DD>
Identifies the plugin to be used for process tracking on a job step basis.
The slurmd daemon uses this mechanism to identify all processes
which are children of processes it spawns for a user job step.
The slurmd daemon must be restarted for a change in ProctrackType
to take effect.
NOTE: &quot;proctrack/linuxproc&quot; and &quot;proctrack/pgid&quot; can fail to
identify all processes associated with a job since processes
can become a child of the init process (when the parent process
terminates) or change their process group.
To reliably track all processes, &quot;proctrack/cgroup&quot; is highly recommended.
NOTE: The <B>JobContainerType</B> applies to a job allocation, while
<B>ProctrackType</B> applies to job steps.
Acceptable values at present include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_proctrack/cgroup"></a>
<DT><B>proctrack/cgroup</B><DD>
which uses linux cgroups to constrain and track processes, and is the default.
NOTE: see &quot;man cgroup.conf&quot; for configuration details
<a id="OPT_proctrack/cray_aries"></a>
<DT><B>proctrack/cray_aries</B><DD>
which uses Cray proprietary process tracking
<a id="OPT_proctrack/linuxproc"></a>
<DT><B>proctrack/linuxproc</B><DD>
which uses linux process tree using parent process IDs.
<a id="OPT_proctrack/pgid"></a>
<DT><B>proctrack/pgid</B><DD>
which uses process group IDs
</DL>
</DL>

<P>
<a id="OPT_Prolog"></a>
<DT><B>Prolog</B><DD>
Fully qualified pathname of a program for the slurmd to execute
whenever it is asked to run a job step from a new job allocation (e.g.
&quot;/usr/local/slurm/prolog&quot;). A glob pattern (See <B>glob</B> (7)) may
also be used to specify more than one program to run (e.g.
&quot;/etc/slurm/prolog.d/*&quot;). The slurmd executes the prolog before starting
the first job step.  The prolog script or scripts may be used to purge files,
enable user login, etc.  By default there is no prolog. Any configured script
is expected to complete execution quickly (in less time than
<B>MessageTimeout</B>).
If the prolog fails (returns a non-zero exit code), this will result in the
node being set to a DRAIN state and the job being requeued in a held state,
unless <B>nohold_on_prolog_fail</B> is configured in
<B>SchedulerParameters</B>.
See <B>Prolog and Epilog Scripts</B> for more information.
<P>
<a id="OPT_PrologEpilogTimeout"></a>
<DT><B>PrologEpilogTimeout</B><DD>
The interval in seconds Slurms waits for Prolog and Epilog before terminating
them. The default behavior is to wait indefinitely. This interval applies to
the Prolog and Epilog run by slurmd daemon before and after the job, the
PrologSlurmctld and EpilogSlurmctld run by slurmctld daemon, and the SPANK
plugins run by the slurmstepd daemon.
<P>
<a id="OPT_PrologFlags"></a>
<DT><B>PrologFlags</B><DD>
Flags to control the Prolog behavior. By default no flags are set.
Multiple flags may be specified in a comma-separated list.
Currently supported options are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Alloc"></a>
<DT><B>Alloc</B><DD>
If set, the Prolog script will be executed at job allocation. By default,
Prolog is executed just before the task is launched. Therefore, when salloc
is started, no Prolog is executed. Alloc is useful for preparing things
before a user starts to use any allocated resources.
In particular, this flag is needed on a Cray system when cluster compatibility
mode is enabled.
<P>
<B>NOTE: Use of the Alloc flag will increase the time required to start jobs.</B>
<a id="OPT_Contain"></a>
<DT><B>Contain</B><DD>
At job allocation time, use the ProcTrack plugin to create a job container
on all allocated compute nodes.
This container may be used for user processes not launched under Slurm control,
for example pam_slurm_adopt may place processes launched through a direct user
login into this container. If using pam_slurm_adopt, then ProcTrackType must be
set to either <B>proctrack/cgroup</B> or <B>proctrack/cray_aries</B>.
Setting the Contain implicitly sets the Alloc flag.
<a id="OPT_NoHold"></a>
<DT><B>NoHold</B><DD>
If set, the Alloc flag should also be set.  This will allow for salloc to not
block until the prolog is finished on each node.  The blocking will happen when
steps reach the slurmd and before any execution has happened in the step.
This is a much faster way to work and if using srun to launch your tasks you
should use this flag. This flag cannot be combined with the Contain or X11
flags.
<a id="OPT_Serial"></a>
<DT><B>Serial</B><DD>
By default, the Prolog and Epilog scripts run concurrently on each node.
This flag forces those scripts to run serially within each node, but with
a significant penalty to job throughput on each node.
<a id="OPT_X11"></a>
<DT><B>X11</B><DD>
Enable Slurm's built-in X11 forwarding capabilities.
This is incompatible with <B>ProctrackType=proctrack/linuxproc</B>.
Setting the X11 flag implicitly enables both Contain and Alloc flags as well.
</DL>
</DL>

<P>
<a id="OPT_PrologSlurmctld"></a>
<DT><B>PrologSlurmctld</B><DD>
Fully qualified pathname of a program for the slurmctld daemon to execute
before granting a new job allocation (e.g.
&quot;/usr/local/slurm/prolog_controller&quot;).
The program executes as SlurmUser on the same node where the slurmctld daemon
executes, giving it permission to drain
nodes and requeue the job if a failure occurs or cancel the job if appropriate.
The program can be used to reboot nodes or perform other work to prepare
resources for use.
Exactly what the program does and how it accomplishes this is completely at
the discretion of the system administrator.
Information about the job being initiated, it's allocated nodes, etc. are
passed to the program using environment variables.
While this program is running, the nodes associated with the job will be
have a POWER_UP/CONFIGURING flag set in their state, which can be readily
viewed.
The slurmctld daemon will wait indefinitely for this program to complete.
Once the program completes with an exit code of zero, the nodes will be
considered ready for use and the program will be started.
If some node can not be made available for use, the program should drain
the node (typically using the scontrol command) and terminate with a non-zero
exit code.
A non-zero exit code will result in the job being requeued (where possible)
or killed. Note that only batch jobs can be requeued.
See <B>Prolog and Epilog Scripts</B> for more information.
<P>
<a id="OPT_PropagatePrioProcess"></a>
<DT><B>PropagatePrioProcess</B><DD>
Controls the scheduling priority (nice value) of user spawned tasks.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_0_1"></a>
<DT><B>0</B><DD>
The tasks will inherit the scheduling priority from the slurm daemon.
This is the default value.
<a id="OPT_1_1"></a>
<DT><B>1</B><DD>
The tasks will inherit the scheduling priority of the command used to
submit them (e.g. <B>srun</B> or <B>sbatch</B>).
Unless the job is submitted by user root, the tasks will have a scheduling
priority no higher than the slurm daemon spawning them.
<a id="OPT_2_1"></a>
<DT><B>2</B><DD>
The tasks will inherit the scheduling priority of the command used to
submit them (e.g. <B>srun</B> or <B>sbatch</B>) with the restriction that
their nice value will always be one higher than the slurm daemon (i.e.
the tasks scheduling priority will be lower than the slurm daemon).
</DL>
</DL>

<P>
<a id="OPT_PropagateResourceLimits"></a>
<DT><B>PropagateResourceLimits</B><DD>
A list of comma separated resource limit names.
The slurmd daemon uses these names to obtain the associated (soft) limit
values from the user's process environment on the submit node.
These limits are then propagated and applied to the jobs that
will run on the compute nodes.
This parameter can be useful when system limits vary among nodes.
Any resource limits that do not appear in the list are not propagated.
However, the user can override this by specifying which resource limits
to propagate with the sbatch or srun &quot;--propagate&quot; option. If neither
<B>PropagateResourceLimits</B> or <B>PropagateResourceLimitsExcept</B> are
configured and the &quot;--propagate&quot; option is not specified, then the default
action is to propagate all limits. Only one of the parameters, either
PropagateResourceLimits or PropagateResourceLimitsExcept, may be specified.
The user limits can not exceed hard limits under which the slurmd daemon
operates. If the user limits are not propagated, the limits from the slurmd
daemon will be propagated to the user's job. The limits used for the Slurm
daemons can be set in the /etc/sysconf/slurm file. For more information, see:
<A HREF="https://slurm.schedmd.com/faq.html#memlock">https://slurm.schedmd.com/faq.html#memlock</A>
The following limit names are supported by Slurm (although some
options may not be supported on some systems):
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_ALL"></a>
<DT><B>ALL</B><DD>
All limits listed below (default)
<a id="OPT_NONE_1"></a>
<DT><B>NONE</B><DD>
No limits listed below
<a id="OPT_AS"></a>
<DT><B>AS</B><DD>
The maximum address space for a process
<a id="OPT_CORE"></a>
<DT><B>CORE</B><DD>
The maximum size of core file
<a id="OPT_CPU"></a>
<DT><B>CPU</B><DD>
The maximum amount of CPU time
<a id="OPT_DATA"></a>
<DT><B>DATA</B><DD>
The maximum size of a process's data segment
<a id="OPT_FSIZE"></a>
<DT><B>FSIZE</B><DD>
The maximum size of files created. Note that if the user sets FSIZE to less
than the current size of the slurmd.log, job launches will fail with
a 'File size limit exceeded' error.
<a id="OPT_MEMLOCK"></a>
<DT><B>MEMLOCK</B><DD>
The maximum size that may be locked into memory
<a id="OPT_NOFILE"></a>
<DT><B>NOFILE</B><DD>
The maximum number of open files
<a id="OPT_NPROC"></a>
<DT><B>NPROC</B><DD>
The maximum number of processes available
<a id="OPT_RSS"></a>
<DT><B>RSS</B><DD>
The maximum resident set size
<a id="OPT_STACK"></a>
<DT><B>STACK</B><DD>
The maximum stack size
</DL>
</DL>

<P>
<a id="OPT_PropagateResourceLimitsExcept"></a>
<DT><B>PropagateResourceLimitsExcept</B><DD>
A list of comma separated resource limit names.
By default, all resource limits will be propagated, (as described by
the <B>PropagateResourceLimits</B> parameter), except for the limits
appearing in this list.   The user can override this by specifying which
resource limits to propagate with the sbatch or srun &quot;--propagate&quot; option.
See <B>PropagateResourceLimits</B> above for a list of valid limit names.
<P>
<a id="OPT_RebootProgram"></a>
<DT><B>RebootProgram</B><DD>
Program to be executed on each compute node to reboot it. Invoked on each node
once it becomes idle after the command &quot;scontrol reboot_nodes&quot; is executed by
an authorized user or a job is submitted with the &quot;--reboot&quot; option.
After rebooting, the node is returned to normal use.
See <B>ResumeTimeout</B> to configure the time you expect a reboot to finish in.
A node will be marked DOWN if it doesn't reboot within <B>ResumeTimeout</B>.
<P>
<a id="OPT_ReconfigFlags"></a>
<DT><B>ReconfigFlags</B><DD>
Flags to control various actions that may be taken when an &quot;scontrol
reconfig&quot; command is issued. Currently the options are:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_KeepPartInfo"></a>
<DT><B>KeepPartInfo</B><DD>
If set, an &quot;scontrol reconfig&quot; command will maintain the in-memory
value of partition &quot;state&quot; and other parameters that may have been
dynamically updated by &quot;scontrol update&quot;.  Partition information in
the slurm.conf file will be merged with in-memory data.  This flag
supersedes the KeepPartState flag.
<a id="OPT_KeepPartState"></a>
<DT><B>KeepPartState</B><DD>
If set, an &quot;scontrol reconfig&quot; command will preserve only the current
&quot;state&quot; value of in-memory partitions and will reset all other
parameters of the partitions that may have been dynamically updated by
&quot;scontrol update&quot; to the values from the slurm.conf file.  Partition
information in the slurm.conf file will be merged with in-memory
data.
</DL>
</DL>

<DL COMPACT><DT><DD>
The default for the above flags is not set, and the
&quot;scontrol reconfig&quot; will rebuild the partition information using only
the definitions in the slurm.conf file.
</DL>

<P>
<a id="OPT_RequeueExit"></a>
<DT><B>RequeueExit</B><DD>
Enables automatic requeue for batch jobs which exit with the specified
values.
Separate multiple exit code by a comma and/or specify numeric ranges using a
&quot;-&quot; separator (e.g. &quot;RequeueExit=1-9,18&quot;)
Jobs will be put back in to pending state and later scheduled again.
Restarted jobs will have the environment variable <B>SLURM_RESTART_COUNT</B>
set to the number of times the job has been restarted.
<P>
<a id="OPT_RequeueExitHold"></a>
<DT><B>RequeueExitHold</B><DD>
Enables automatic requeue for batch jobs which exit with the specified
values, with these jobs being held until released manually by the user.
Separate multiple exit code by a comma and/or specify numeric ranges using a
&quot;-&quot; separator (e.g. &quot;RequeueExitHold=10-12,16&quot;)
These jobs are put in the <B>JOB_SPECIAL_EXIT</B> exit state.
Restarted jobs will have the environment variable <B>SLURM_RESTART_COUNT</B>
set to the number of times the job has been restarted.
<P>
<a id="OPT_ResumeFailProgram"></a>
<DT><B>ResumeFailProgram</B><DD>
The program that will be executed when nodes fail to resume to by
<B>ResumeTimeout</B>. The argument to the program will be the names of the failed
nodes (using Slurm's hostlist expression format).
<P>
<a id="OPT_ResumeProgram"></a>
<DT><B>ResumeProgram</B><DD>
Slurm supports a mechanism to reduce power consumption on nodes that
remain idle for an extended period of time.
This is typically accomplished by reducing voltage and frequency or powering
the node down.
<B>ResumeProgram</B> is the program that will be executed when a node
in power save mode is assigned work to perform.
For reasons of reliability, <B>ResumeProgram</B> may execute more than once
for a node when the <B>slurmctld</B> daemon crashes and is restarted.
If <B>ResumeProgram</B> is unable to restore a node to service with a responding
slurmd and an updated BootTime, it should requeue any job associated with the
node and set the node state to DOWN. If the node isn't actually rebooted
(i.e. when multiple-slurmd is configured) starting slurmd with &quot;-b&quot; option
might be useful.
The program executes as <B>SlurmUser</B>.
The argument to the program will be the names of nodes to
be removed from power savings mode (using Slurm's hostlist
expression format).
By default no program is run.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeRate</B>,
<B>SuspendRate</B>, <B>SuspendTime</B>, <B>SuspendTimeout</B>, <B>SuspendProgram</B>,
<B>SuspendExcNodes</B>, and <B>SuspendExcParts</B>.
More information is available at the Slurm web site
( <A HREF="https://slurm.schedmd.com/power_save.html">https://slurm.schedmd.com/power_save.html</A> ).
<P>
<a id="OPT_ResumeRate"></a>
<DT><B>ResumeRate</B><DD>
The rate at which nodes in power save mode are returned to normal
operation by <B>ResumeProgram</B>.
The value is number of nodes per minute and it can be used to prevent
power surges if a large number of nodes in power save mode are
assigned work at the same time (e.g. a large job starts).
A value of zero results in no limits being imposed.
The default value is 300 nodes per minute.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeProgram</B>,
<B>SuspendRate</B>, <B>SuspendTime</B>, <B>SuspendTimeout</B>, <B>SuspendProgram</B>,
<B>SuspendExcNodes</B>, and <B>SuspendExcParts</B>.
<P>
<a id="OPT_ResumeTimeout"></a>
<DT><B>ResumeTimeout</B><DD>
Maximum time permitted (in seconds) between when a node resume request
is issued and when the node is actually available for use.
Nodes which fail to respond in this time frame will be marked DOWN and
the jobs scheduled on the node requeued.
Nodes which reboot after this time frame will be marked DOWN with a reason of
&quot;Node unexpectedly rebooted.&quot;
The default value is 60 seconds.
Related configuration options include <B>ResumeProgram</B>, <B>ResumeRate</B>,
<B>SuspendRate</B>, <B>SuspendTime</B>, <B>SuspendTimeout</B>, <B>SuspendProgram</B>,
<B>SuspendExcNodes</B> and <B>SuspendExcParts</B>.
More information is available at the Slurm web site
( <A HREF="https://slurm.schedmd.com/power_save.html">https://slurm.schedmd.com/power_save.html</A> ).
<P>
<a id="OPT_ResvEpilog"></a>
<DT><B>ResvEpilog</B><DD>
Fully qualified pathname of a program for the slurmctld to execute
when a reservation ends. The program can be used to cancel jobs, modify
partition configuration, etc.
The reservation named will be passed as an argument to the program.
By default there is no epilog.
<P>
<a id="OPT_ResvOverRun"></a>
<DT><B>ResvOverRun</B><DD>
Describes how long a job already running in a reservation should be
permitted to execute after the end time of the reservation has been
reached.
The time period is specified in minutes and the default value is 0
(kill the job immediately).
The value may not exceed 65533 minutes, although a value of &quot;UNLIMITED&quot;
is supported to permit a job to run indefinitely after its reservation
is terminated.
<P>
<a id="OPT_ResvProlog"></a>
<DT><B>ResvProlog</B><DD>
Fully qualified pathname of a program for the slurmctld to execute
when a reservation begins. The program can be used to cancel jobs, modify
partition configuration, etc.
The reservation named will be passed as an argument to the program.
By default there is no prolog.
<P>
<a id="OPT_ReturnToService"></a>
<DT><B>ReturnToService</B><DD>
Controls when a DOWN node will be returned to service.
The default value is 0.
Supported values include
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_0_2"></a>
<DT><B>0</B><DD>
A node will remain in the DOWN state until a system administrator
explicitly changes its state (even if the slurmd daemon registers
and resumes communications).
<a id="OPT_1_2"></a>
<DT><B>1</B><DD>
A DOWN node will become available for use upon registration with a
valid configuration only if it was set DOWN due to being non-responsive.
If the node was set DOWN for any other reason (low memory,
unexpected reboot, etc.), its state will not automatically
be changed.
A node registers with a valid configuration if its memory, GRES, CPU count,
etc. are equal to or greater than the values configured in slurm.conf.
<a id="OPT_2_2"></a>
<DT><B>2</B><DD>
A DOWN node will become available for use upon registration with a
valid configuration.  The node could have been set DOWN for any reason.
A node registers with a valid configuration if its memory, GRES, CPU count,
etc. are equal to or greater than the values configured in slurm.conf.
(Disabled on Cray ALPS systems.)
</DL>
</DL>

<P>
<a id="OPT_RoutePlugin"></a>
<DT><B>RoutePlugin</B><DD>
Identifies the plugin to be used for defining which nodes will be used
for message forwarding and message aggregation.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_route/default"></a>
<DT><B>route/default</B><DD>
default, use TreeWidth.
<a id="OPT_route/topology"></a>
<DT><B>route/topology</B><DD>
use the switch hierarchy defined in a <I>topology.conf</I> file.
TopologyPlugin=topology/tree is required.
</DL>
</DL>

<P>
<a id="OPT_SallocDefaultCommand"></a>
<DT><B>SallocDefaultCommand</B><DD>
Normally, <B><A HREF="/man/man2html?1+salloc">salloc</A></B>(1) will run the user's default shell when
a command to execute is not specified on the <B>salloc</B> command line.
If <B>SallocDefaultCommand</B> is specified, <B>salloc</B> will instead
run the configured command. The command is passed to '/bin/sh -c', so
shell metacharacters are allowed, and commands with multiple arguments
should be quoted. For instance:
<P>
<PRE>
    SallocDefaultCommand = &quot;$SHELL&quot;
</PRE>

<P>
would run the shell in the user's $SHELL environment variable.
and
<P>
<PRE>
    SallocDefaultCommand = &quot;srun -n1 -N1 --mem-per-cpu=0 --pty --preserve-env --mpi=none $SHELL&quot;
</PRE>

<P>
would run spawn the user's default shell on the allocated resources, but not
consume any of the CPU or memory resources, configure it as a pseudo-terminal,
and preserve all of the job's environment variables (i.e. and not over-write
them with the job step's allocation information).
<P>
For systems with generic resources (GRES) defined, the <B>SallocDefaultCommand</B>
value should explicitly specify a zero count for the configured GRES.
Failure to do so will result in the launched shell consuming those GRES and
preventing subsequent srun commands from using them.
For example, on Cray systems add &quot;--gres=craynetwork:0&quot; as shown below:
<PRE>
    SallocDefaultCommand = &quot;srun -n1 -N1 --mem-per-cpu=0 --gres=craynetwork:0 --pty --preserve-env --mpi=none $SHELL&quot;
</PRE>

<P>
For systems with TaskPlugin set, adding an option of &quot;--cpu-bind=no&quot; is
recommended if the default shell should have access to all of the CPUs
allocated to the job on that node, otherwise the shell may be limited to a
single cpu or core.
<P>
<a id="OPT_SbcastParameters"></a>
<DT><B>SbcastParameters</B><DD>
Controls sbcast command behavior. Multiple options can be specified in a comma
separated list.
Supported values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_DestDir="></a>
<DT><B>DestDir=</B><DD>
Destination directory for file being broadcast to allocated compute nodes.
Default value is current working directory.
<a id="OPT_Compression="></a>
<DT><B>Compression=</B><DD>
Specify default file compression library to be used.
Supported values are &quot;lz4&quot;, &quot;none&quot; and &quot;zlib&quot;.
The default value with the sbcast --compress option is &quot;lz4&quot; and &quot;none&quot; otherwise.
Some compression libraries may be unavailable on some systems.
</DL>
</DL>

<P>
<a id="OPT_SchedulerParameters"></a>
<DT><B>SchedulerParameters</B><DD>
The interpretation of this parameter varies by <B>SchedulerType</B>.
Multiple options may be comma separated.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_allow_zero_lic"></a>
<DT><B>allow_zero_lic</B><DD>
If set, then job submissions requesting more than configured licenses won't be
rejected.
<a id="OPT_assoc_limit_stop"></a>
<DT><B>assoc_limit_stop</B><DD>
If set and a job cannot start due to association limits, then do not attempt
to initiate any lower priority jobs in that partition. Setting this can
decrease system throughput and utilization, but avoid potentially starving larger
jobs by preventing them from launching indefinitely.
<a id="OPT_batch_sched_delay=#"></a>
<DT><B>batch_sched_delay=#</B><DD>
How long, in seconds, the scheduling of batch jobs can be delayed.
This can be useful in a high-throughput environment in which batch jobs are
submitted at a very high rate (i.e. using the sbatch command) and one wishes
to reduce the overhead of attempting to schedule each job at submit time.
The default value is 3 seconds.
<a id="OPT_bb_array_stage_cnt=#"></a>
<DT><B>bb_array_stage_cnt=#</B><DD>
Number of tasks from a job array that should be available for burst buffer
resource allocation. Higher values will increase the system overhead as each
task from the job array will be moved to it's own job record in memory, so
relatively small values are generally recommended.
The default value is 10.
<a id="OPT_bf_busy_nodes"></a>
<DT><B>bf_busy_nodes</B><DD>
When selecting resources for pending jobs to reserve for future execution
(i.e. the job can not be started immediately), then preferentially select
nodes that are in use.
This will tend to leave currently idle resources available for backfilling
longer running jobs, but may result in allocations having less than optimal
network topology.
This option is currently only supported by the select/cons_res and
select/cons_tres plugins (or select/cray_aries with SelectTypeParameters set to
&quot;OTHER_CONS_RES&quot; or &quot;OTHER_CONS_TRES&quot;, which layers the select/cray_aries plugin
over the select/cons_res or select/cons_tres plugin respectively).
<a id="OPT_bf_continue"></a>
<DT><B>bf_continue</B><DD>
The backfill scheduler periodically releases locks in order to permit other
operations to proceed rather than blocking all activity for what could be an
extended period of time.
Setting this option will cause the backfill scheduler to continue processing
pending jobs from its original job list after releasing locks even if job
or node state changes.
This can result in lower priority jobs being backfill scheduled instead
of newly arrived higher priority jobs, but will permit more queued jobs to be
considered for backfill scheduling.
<a id="OPT_bf_hetjob_immediate"></a>
<DT><B>bf_hetjob_immediate</B><DD>
Instruct the backfill scheduler to attempt to start a heterogeneous job as
soon as all of its components are determined able to do so. Otherwise, the
backfill scheduler will delay heterogeneous jobs initiation attempts until
after the rest of the queue has been processed. This delay may result in lower
priority jobs being allocated resources, which could delay the initiation of
the heterogeneous job due to account and/or QOS limits being reached. This
option is disabled by default. If enabled and <B>bf_hetjob_prio=min</B> is not
set, then it would be automatically set.
<a id="OPT_bf_hetjob_prio=[min|avg|max]"></a>
<DT><B>bf_hetjob_prio=[min|avg|max]</B><DD>
At the beginning of each backfill scheduling cycle, a list of pending to be
scheduled jobs is sorted according to the precedence order configured in
<B>PriorityType</B>. This option instructs the scheduler to alter the sorting
algorithm to ensure that all components belonging to the same heterogeneous job
will be attempted to be scheduled consecutively (thus not fragmented in the
resulting list). More specifically, all components from the same heterogeneous
job will be treated as if they all have the same priority (minimum, average or
maximum depending upon this option's parameter) when compared with other jobs
(or other heterogeneous job components). The original order will be preserved
within the same heterogeneous job. Note that the operation is calculated for
the <B>PriorityTier</B> layer and for the <B>Priority</B> resulting from the
priority/multifactor plugin calculations. When enabled, if any heterogeneous job
requested an advanced reservation, then all of that job's components will be
treated as if they had requested an advanced reservation (and get
preferential treatment in scheduling).
<P>
Note that this operation does not update the <B>Priority</B> values of the
heterogeneous job components, only their order within the list, so the output of
the sprio command will not be effected.
<P>
Heterogeneous jobs have special scheduling properties: they are only scheduled
by the backfill scheduling plugin, each of their components is considered
separately when reserving resources (and might have different <B>PriorityTier</B>
or different <B>Priority</B> values), and no heterogeneous job component is
actually allocated resources until all if its components can be initiated.
This may imply potential scheduling deadlock scenarios because components
from different heterogeneous jobs can start reserving resources in an
interleaved fashion (not consecutively), but none of the jobs can reserve
resources for all components and start. Enabling this option can help to
mitigate this problem. By default, this option is disabled.
<a id="OPT_bf_ignore_newly_avail_nodes"></a>
<DT><B>bf_ignore_newly_avail_nodes</B><DD>
If set, then only resources available at the beginning of a backfill cycle
will be considered for use. Otherwise resources made available during that
backfill cycle (during a yield with bf_continue set) may be used for lower
priority jobs, delaying the initiation of higher priority jobs.
Disabled by default.
<a id="OPT_bf_interval=#"></a>
<DT><B>bf_interval=#</B><DD>
The number of seconds between backfill iterations.
Higher values result in less overhead and better responsiveness.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Default: 30, Min: 1, Max: 10800 (3h).
<P>
<a id="OPT_bf_job_part_count_reserve=#"></a>
<DT><B>bf_job_part_count_reserve=#</B><DD>
The backfill scheduling logic will reserve resources for the specified count
of highest priority jobs in each partition.
For example, bf_job_part_count_reserve=10 will cause the backfill scheduler to
reserve resources for the ten highest priority jobs in each partition.
Any lower priority job that can be started using currently available resources
and not adversely impact the expected start time of these higher priority jobs
will be started by the backfill scheduler
The default value is zero, which will reserve resources for any pending job
and delay initiation of lower priority jobs.
Also see bf_min_age_reserve and bf_min_prio_reserve.
Default: 0, Min: 0, Max: 100000.
<P>
<a id="OPT_bf_max_job_array_resv=#"></a>
<DT><B>bf_max_job_array_resv=#</B><DD>
The maximum number of tasks from a job array for which the backfill scheduler
will reserve resources in the future.
Since job arrays can potentially have millions of tasks, the overhead in
reserving resources for all tasks can be prohibitive.
In addition various limits may prevent all the jobs from starting at the
expected times.
This has no impact upon the number of tasks from a job array that can be
started immediately, only those tasks expected to start at some future time.
Default: 20, Min: 0, Max: 1000.
NOTE:
Jobs submitted to multiple partitions appear in the job queue once per
partition. If different copies of a single job array record aren't consecutive
in the job queue and another job array record is in between, then
bf_max_job_array_resv tasks are considered per partition that the job is
submitted to.
<a id="OPT_bf_max_job_assoc=#"></a>
<DT><B>bf_max_job_assoc=#</B><DD>
The maximum number of jobs per user association to attempt starting with the
backfill scheduler.
This setting is similar to <B>bf_max_job_user</B> but is handy if a user
has multiple associations equating to basically different users.
One can set this limit to prevent users from flooding the backfill
queue with jobs that cannot start and that prevent jobs from other users
to start.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Also see the <B>bf_max_job_user</B> <B>bf_max_job_part</B>, <B>bf_max_job_test</B>
and <B>bf_max_job_user_part=#</B> options.
Set <B>bf_max_job_test</B> to a value much higher than <B>bf_max_job_assoc</B>.
Default: 0 (no limit), Min: 0, Max: bf_max_job_test.
<a id="OPT_bf_max_job_part=#"></a>
<DT><B>bf_max_job_part=#</B><DD>
The maximum number of jobs per partition to attempt starting with the backfill
scheduler. This can be especially helpful for systems with large numbers of
partitions and jobs.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Also see the <B>partition_job_depth</B> and <B>bf_max_job_test</B> options.
Set <B>bf_max_job_test</B> to a value much higher than <B>bf_max_job_part</B>.
Default: 0 (no limit), Min: 0, Max: bf_max_job_test.
<a id="OPT_bf_max_job_start=#"></a>
<DT><B>bf_max_job_start=#</B><DD>
The maximum number of jobs which can be initiated in a single iteration
of the backfill scheduler.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Default: 0 (no limit), Min: 0, Max: 10000.
<a id="OPT_bf_max_job_test=#"></a>
<DT><B>bf_max_job_test=#</B><DD>
The maximum number of jobs to attempt backfill scheduling for
(i.e. the queue depth).
Higher values result in more overhead and less responsiveness.
Until an attempt is made to backfill schedule a job, its expected
initiation time value will not be set.
In the case of large clusters, configuring a relatively small value may be
desirable.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Default: 100, Min: 1, Max: 1,000,000.
<a id="OPT_bf_max_job_user=#"></a>
<DT><B>bf_max_job_user=#</B><DD>
The maximum number of jobs per user to attempt starting with the backfill
scheduler for ALL partitions.
One can set this limit to prevent users from flooding the backfill
queue with jobs that cannot start and that prevent jobs from other users
to start.  This is similar to the MAXIJOB limit in Maui.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Also see the <B>bf_max_job_part</B>, <B>bf_max_job_test</B> and
<B>bf_max_job_user_part=#</B> options.
Set <B>bf_max_job_test</B> to a value much higher than <B>bf_max_job_user</B>.
Default: 0 (no limit), Min: 0, Max: bf_max_job_test.
<a id="OPT_bf_max_job_user_part=#"></a>
<DT><B>bf_max_job_user_part=#</B><DD>
The maximum number of jobs per user per partition to attempt starting with the
backfill scheduler for any single partition.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Also see the <B>bf_max_job_part</B>, <B>bf_max_job_test</B> and
<B>bf_max_job_user=#</B> options.
Default: 0 (no limit), Min: 0, Max: bf_max_job_test.
<a id="OPT_bf_max_time=#"></a>
<DT><B>bf_max_time=#</B><DD>
The maximum time in seconds the backfill scheduler can spend (including time
spent sleeping when locks are released) before discontinuing, even if maximum
job counts have not been reached.
This option applies only to <B>SchedulerType=sched/backfill</B>.
The default value is the value of bf_interval (which defaults to 30 seconds).
Default: bf_interval value (def. 30 sec), Min: 1, Max: 3600 (1h).
NOTE: If bf_interval is short and bf_max_time is large, this may cause locks
to be acquired too frequently and starve out other serviced RPCs. It's
advisable if using this parameter to set max_rpc_cnt high enough that
scheduling isn't always disabled, and low enough that the interactive
workload can get through in a reasonable period of time. max_rpc_cnt needs to
be below 256 (the default RPC thread limit). Running around the middle (150)
may give you good results.
NOTE: When increasing the amount of time spent in the backfill scheduling cycle,
Slurm can be prevented from responding to client requests in a timely manner.
To address this you can use <B>max_rpc_cnt</B> to specify a number of queued RPCs
before the scheduler stops to respond to these requests.
<a id="OPT_bf_min_age_reserve=#"></a>
<DT><B>bf_min_age_reserve=#</B><DD>
The backfill and main scheduling logic will not reserve resources for pending
jobs until they have been pending and runnable for at least the specified
number of seconds.
In addition, jobs waiting for less than the specified number of seconds will
not prevent a newly submitted job from starting immediately, even if the newly
submitted job has a lower priority.
This can be valuable if jobs lack time limits or all time limits have the same
value.
The default value is zero, which will reserve resources for any pending job
and delay initiation of lower priority jobs.
Also see bf_job_part_count_reserve and bf_min_prio_reserve.
Default: 0, Min: 0, Max: 2592000 (30 days).
<a id="OPT_bf_min_prio_reserve=#"></a>
<DT><B>bf_min_prio_reserve=#</B><DD>
The backfill and main scheduling logic will not reserve resources for pending
jobs unless they have a priority equal to or higher than the specified value.
In addition, jobs with a lower priority will not prevent a newly submitted job
from starting immediately, even if the newly submitted job has a lower priority.
This can be valuable if one wished to maximum system utilization without regard
for job priority below a certain threshold.
The default value is zero, which will reserve resources for any pending job
and delay initiation of lower priority jobs.
Also see bf_job_part_count_reserve and bf_min_age_reserve.
Default: 0, Min: 0, Max: 2^63.
<a id="OPT_bf_resolution=#"></a>
<DT><B>bf_resolution=#</B><DD>
The number of seconds in the resolution of data maintained about when jobs
begin and end.
Higher values result in less overhead and better responsiveness.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Default: 60, Min: 1, Max: 3600 (1 hour).
<a id="OPT_bf_window=#"></a>
<DT><B>bf_window=#</B><DD>
The number of minutes into the future to look when considering jobs to schedule.
Higher values result in more overhead and less responsiveness.
A value at least as long as the highest allowed time limit is generally
advisable to prevent job starvation.
In order to limit the amount of data managed by the backfill scheduler,
if the value of <B>bf_window</B> is increased, then it is generally advisable
to also increase <B>bf_resolution</B>.
This option applies only to <B>SchedulerType=sched/backfill</B>.
Default: 1440 (1 day), Min: 1, Max: 43200 (30 days).
<a id="OPT_bf_window_linear=#"></a>
<DT><B>bf_window_linear=#</B><DD>
For performance reasons, the backfill scheduler will decrease precision in
calculation of job expected termination times. By default, the precision starts
at 30 seconds and that time interval doubles with each evaluation of currently
executing jobs when trying to determine when a pending job can start. This
algorithm can support an environment with many thousands of running jobs, but
can result in the expected start time of pending jobs being gradually being
deferred due to lack of precision. A value for bf_window_linear will cause
the time interval to be increased by a constant amount on each iteration.
The value is specified in units of seconds. For example, a value of 60 will
cause the backfill scheduler on the first iteration to identify the job ending
soonest and determine if the pending job can be started after that job plus
all other jobs expected to end within 30 seconds (default initial value) of the
first job. On the next iteration, the pending job will be evaluated for
starting after the next job expected to end plus all jobs ending within
90 seconds of that time (30 second default, plus the 60 second option value).
The third iteration will have a 150 second window and the fourth 210 seconds.
Without this option, the time windows will double on each iteration and thus
be 30, 60, 120, 240 seconds, etc. The use of bf_window_linear is not recommended
with more than a few hundred simultaneously executing jobs.
<a id="OPT_bf_yield_interval=#"></a>
<DT><B>bf_yield_interval=#</B><DD>
The backfill scheduler will periodically relinquish locks in order for other
pending operations to take place.
This specifies the times when the locks are relinquish in microseconds.
Smaller values may be helpful for high throughput computing when used in
conjunction with the <B>bf_continue</B> option.
Also see the <B>bf_yield_sleep</B> option.
Default: 2,000,000 (2 sec), Min: 1, Max: 10,000,000 (10 sec).
<a id="OPT_bf_yield_sleep=#"></a>
<DT><B>bf_yield_sleep=#</B><DD>
The backfill scheduler will periodically relinquish locks in order for other
pending operations to take place.
This specifies the length of time for which the locks are relinquish in
microseconds.
Also see the <B>bf_yield_interval</B> option.
Default: 500,000 (0.5 sec), Min: 1, Max: 10,000,000 (10 sec).
<a id="OPT_build_queue_timeout=#"></a>
<DT><B>build_queue_timeout=#</B><DD>
Defines the maximum time that can be devoted to building a queue of jobs to
be tested for scheduling.
If the system has a huge number of jobs with dependencies, just building the
job queue can take so much time as to adversely impact overall system
performance and this parameter can be adjusted as needed.
The default value is 2,000,000 microseconds (2 seconds).
<a id="OPT_default_queue_depth=#"></a>
<DT><B>default_queue_depth=#</B><DD>
The default number of jobs to attempt scheduling (i.e. the queue depth) when a
running job completes or other routine actions occur, however the frequency
with which the scheduler is run may be limited by using the <B>defer</B> or
<B>sched_min_interval</B> parameters described below.
The full queue will be tested on a less frequent basis as defined by the
<B>sched_interval</B> option described below. The default value is 100.
See the <B>partition_job_depth</B> option to limit depth by partition.
<a id="OPT_defer"></a>
<DT><B>defer</B><DD>
Setting this option will avoid attempting to schedule each job
individually at job submit time, but defer it until a later time when
scheduling multiple jobs simultaneously may be possible.
This option may improve system responsiveness when large numbers of jobs
(many hundreds) are submitted at the same time, but it will delay the
initiation time of individual jobs. Also see <B>default_queue_depth</B> above.
<a id="OPT_delay_boot=#"></a>
<DT><B>delay_boot=#</B><DD>
Do not reboot nodes in order to satisfied this job's feature specification if
the job has been eligible to run for less than this time period.
If the job has waited for less than the specified period, it will use only
nodes which already have the specified features.
The argument is in units of minutes.
Individual jobs may override this default value with the <B>--delay-boot</B>
option.
<a id="OPT_default_gbytes"></a>
<DT><B>default_gbytes</B><DD>
The default units in job submission memory and temporary disk size specification
will be gigabytes rather than megabytes.
Users can override the default by using a suffix of &quot;M&quot; for megabytes.
<a id="OPT_disable_job_shrink"></a>
<DT><B>disable_job_shrink</B><DD>
Deny user requests to shrink the side of running jobs. (However, running jobs
may still shrink due to node failure if the --no-kill option was set.)
<a id="OPT_disable_hetero_steps"></a>
<DT><B>disable_hetero_steps</B><DD>
Disable job steps that span heterogeneous job allocations.
The default value on Cray systems.
<a id="OPT_enable_hetero_steps"></a>
<DT><B>enable_hetero_steps</B><DD>
Enable job steps that span heterogeneous job allocations.
The default value except for Cray systems.
<a id="OPT_enable_user_top"></a>
<DT><B>enable_user_top</B><DD>
Enable use of the &quot;scontrol top&quot; command by non-privileged users.
<a id="OPT_Ignore_NUMA"></a>
<DT><B>Ignore_NUMA</B><DD>
Some processors (e.g. AMD Opteron 6000 series) contain multiple NUMA nodes per
socket. This is a configuration which does not map into the hardware entities
that Slurm optimizes resource allocation for (PU/thread, core, socket,
baseboard, node and network switch). In order to optimize resource allocations
on such hardware, Slurm will consider each NUMA node within the socket as a
separate socket by default. Use the Ignore_NUMA option to report the correct
socket count, but <B>not</B> optimize resource allocations on the NUMA nodes.
<a id="OPT_inventory_interval=#"></a>
<DT><B>inventory_interval=#</B><DD>
On a Cray system using Slurm on top of ALPS this limits the number of times
a Basil Inventory call is made.  Normally this call happens every scheduling
consideration to attempt to close a node state change window with respects to
what ALPS has.  This call is rather slow, so making it less frequently improves
performance dramatically, but in the situation where a node changes state the
window is as large as this setting.  In an HTC environment this setting is a
must and we advise around 10 seconds.
<a id="OPT_kill_invalid_depend"></a>
<DT><B>kill_invalid_depend</B><DD>
If a job has an invalid dependency and it can never run terminate it
and set its state to be JOB_CANCELLED. By default the job stays pending
with reason DependencyNeverSatisfied.
<a id="OPT_max_array_tasks"></a>
<DT><B>max_array_tasks</B><DD>
Specify the maximum number of tasks that be included in a job array.
The default limit is MaxArraySize, but this option can be used to set a lower
limit. For example, max_array_tasks=1000 and MaxArraySize=100001 would permit
a maximum task ID of 100000, but limit the number of tasks in any single job
array to 1000.
<a id="OPT_max_depend_depth=#"></a>
<DT><B>max_depend_depth=#</B><DD>
Maximum number of jobs to test for a circular job dependency. Stop testing
after this number of job dependencies have been tested. The default value is
10 jobs.
<a id="OPT_max_rpc_cnt=#"></a>
<DT><B>max_rpc_cnt=#</B><DD>
If the number of active threads in the slurmctld daemon is equal to or
larger than this value, defer scheduling of jobs. The scheduler will check
this condition at certain points in code and yield locks if necessary.
This can improve Slurm's ability to process requests at a cost of initiating
new jobs less frequently.
If a value is set, then a value of 10 or higher is recommended.
NOTE: The maximum number of threads (MAX_SERVER_THREADS) is internally set to
256 and defines the number of served RPCs at a given time. Setting max_rpc_cnt
to more than 256 will be only useful to let backfill continue scheduling work
after locks have been yielded (i.e. each 2 seconds) if there are a maximum of
MAX(max_rpc_cnt/10, 20) RPCs in the queue. i.e. max_rpc_cnt=1000, the scheduler
will be allowed to continue after yielding locks only when there are less than
or equal to 100 pending RPCs.
Default: 0 (option disabled), Min: 0, Max: 1000.
The default value is zero, which disables this option.
If a value is set, then a value of 10 or higher is recommended. It may require
some tuning for each system, but needs to be high enough that scheduling isn't
always disabled, and low enough that requests can get through in a reasonable
period of time.
<a id="OPT_max_sched_time=#"></a>
<DT><B>max_sched_time=#</B><DD>
How long, in seconds, that the main scheduling loop will execute for before
exiting.
If a value is configured, be aware that all other Slurm operations will be
deferred during this time period.
Make certain the value is lower than <B>MessageTimeout</B>.
If a value is not explicitly configured, the default value is half of
<B>MessageTimeout</B> with a minimum default value of 1 second and a maximum
default value of 2 seconds.
For example if MessageTimeout=10, the time limit will be 2 seconds
(i.e. MIN(10/2, 2) = 2).
<a id="OPT_max_script_size=#"></a>
<DT><B>max_script_size=#</B><DD>
Specify the maximum size of a batch script, in bytes.
The default value is 4 megabytes.
Larger values may adversely impact system performance.
<a id="OPT_max_switch_wait=#"></a>
<DT><B>max_switch_wait=#</B><DD>
Maximum number of seconds that a job can delay execution waiting for the
specified desired switch count. The default value is 300 seconds.
<a id="OPT_no_backup_scheduling"></a>
<DT><B>no_backup_scheduling</B><DD>
If used, the backup controller will not schedule jobs when it takes over. The
backup controller will allow jobs to be submitted, modified and cancelled but
won't schedule new jobs. This is useful in Cray environments when the backup
controller resides on an external Cray node.  A restart is required to alter
this option. This is explicitly set on a Cray/ALPS system.
<a id="OPT_no_env_cache"></a>
<DT><B>no_env_cache</B><DD>
If used, any job started on node that fails to load the env from a node will
fail instead of using the cached env.  This will also implicitly imply the
requeue_setup_env_fail option as well.
<a id="OPT_pack_serial_at_end"></a>
<DT><B>pack_serial_at_end</B><DD>
If used with the select/cons_res or select/cons_tres plugin,
then put serial jobs at the end of
the available nodes rather than using a best fit algorithm.
This may reduce resource fragmentation for some workloads.
<a id="OPT_partition_job_depth=#"></a>
<DT><B>partition_job_depth=#</B><DD>
The default number of jobs to attempt scheduling (i.e. the queue depth)
from each partition/queue in Slurm's main scheduling logic.
The functionality is similar to that provided by the <B>bf_max_job_part</B>
option for the backfill scheduling logic.
The default value is 0 (no limit).
Job's excluded from attempted scheduling based upon partition will not be
counted against the <B>default_queue_depth</B> limit.
Also see the <B>bf_max_job_part</B> option.
<a id="OPT_permit_job_expansion"></a>
<DT><B>permit_job_expansion</B><DD>
Allow running jobs to request additional nodes be merged in with the current
job allocation.
<a id="OPT_preempt_reorder_count=#"></a>
<DT><B>preempt_reorder_count=#</B><DD>
Specify how many attempts should be made in reording preemptable jobs to
minimize the count of jobs preempted.
The default value is 1. High values may adversely impact performance.
The logic to support this option is only available in the select/cons_res and
select/cons_tres plugins.
<a id="OPT_preempt_strict_order"></a>
<DT><B>preempt_strict_order</B><DD>
If set, then execute extra logic in an attempt to preempt only the lowest
priority jobs.
It may be desirable to set this configuration parameter when there are multiple
priorities of preemptable jobs.
The logic to support this option is only available in the select/cons_res and
select/cons_tres plugins.
<a id="OPT_preempt_youngest_first"></a>
<DT><B>preempt_youngest_first</B><DD>
If set, then the preemption sorting algorithm will be changed to sort by the
job start times to favor preempting younger jobs over older. (Requires
preempt/partition_prio or preempt/qos plugins.)
<a id="OPT_nohold_on_prolog_fail"></a>
<DT><B>nohold_on_prolog_fail</B><DD>
By default if the Prolog exits with a non-zero value the job is requeued in
held state. By specifying this parameter the job will be requeued but not
held so that the scheduler can dispatch it to another host.
<a id="OPT_reduce_completing_frag"></a>
<DT><B>reduce_completing_frag</B><DD>
This option is used to control how scheduling of resources is performed when
jobs are in completing state, which influences potential fragmentation.
If the option is not set then no jobs will be started in any partition when
any job is in completing state.
If the option is set then no jobs will be started in any individual partition
that has a job in completing state.
In addition, no jobs will be started in any partition with nodes that overlap
with any nodes in the partition of the completing job.
This option is to be used in conjunction with <B>CompleteWait</B>.
NOTE: <B>CompleteWait</B> must be set for this to work.
<a id="OPT_requeue_setup_env_fail"></a>
<DT><B>requeue_setup_env_fail</B><DD>
By default if a job environment setup fails the job keeps running with
a limited environment. By specifying this parameter the job will be
requeued in held state and the execution node drained.
<a id="OPT_salloc_wait_nodes"></a>
<DT><B>salloc_wait_nodes</B><DD>
If defined, the salloc command will wait until all allocated nodes are ready for
use (i.e. booted) before the command returns. By default, salloc will return as
soon as the resource allocation has been made.
<a id="OPT_sbatch_wait_nodes"></a>
<DT><B>sbatch_wait_nodes</B><DD>
If defined, the sbatch script will wait until all allocated nodes are ready for
use (i.e. booted) before the initiation. By default, the sbatch script will be
initiated as soon as the first node in the job allocation is ready. The sbatch
command can use the --wait-all-nodes option to override this configuration
parameter.
<a id="OPT_sched_interval=#"></a>
<DT><B>sched_interval=#</B><DD>
How frequently, in seconds, the main scheduling loop will execute and test all
pending jobs.
The default value is 60 seconds.
<a id="OPT_sched_max_job_start=#"></a>
<DT><B>sched_max_job_start=#</B><DD>
The maximum number of jobs that the main scheduling logic will start in any
single execution.
The default value is zero, which imposes no limit.
<a id="OPT_sched_min_interval=#"></a>
<DT><B>sched_min_interval=#</B><DD>
How frequently, in microseconds, the main scheduling loop will execute and test
any pending jobs.
The scheduler runs in a limited fashion every time that any event happens which
could enable a job to start (e.g. job submit, job terminate, etc.).
If these events happen at a high frequency, the scheduler can run very
frequently and consume significant resources if not throttled by this option.
This option specifies the minimum time between the end of one scheduling
cycle and the beginning of the next scheduling cycle.
A value of zero will disable throttling of the scheduling logic interval.
The default value is 1,000,000 microseconds on Cray/ALPS systems and
2 microseconds on other systems.
<a id="OPT_spec_cores_first"></a>
<DT><B>spec_cores_first</B><DD>
Specialized cores will be selected from the first cores of the first sockets,
cycling through the sockets on a round robin basis.
By default, specialized cores will be selected from the last cores of the
last sockets, cycling through the sockets on a round robin basis.
<a id="OPT_step_retry_count=#"></a>
<DT><B>step_retry_count=#</B><DD>
When a step completes and there are steps ending resource allocation, then
retry step allocations for at least this number of pending steps.
Also see <B>step_retry_time</B>.
The default value is 8 steps.
<a id="OPT_step_retry_time=#"></a>
<DT><B>step_retry_time=#</B><DD>
When a step completes and there are steps ending resource allocation, then
retry step allocations for all steps which have been pending for at least this
number of seconds.
Also see <B>step_retry_count</B>.
The default value is 60 seconds.
<a id="OPT_whole_hetjob"></a>
<DT><B>whole_hetjob</B><DD>
Requests to cancel, hold or release any component of a heterogeneous job will
be applied to all components of the job.
<P>
NOTE: this option was previously named whole_pack and this is still supported
for retrocompatibility.
</DL>
</DL>

<P>
<a id="OPT_SchedulerTimeSlice"></a>
<DT><B>SchedulerTimeSlice</B><DD>
Number of seconds in each time slice when gang scheduling is enabled
(<B>PreemptMode=SUSPEND,GANG</B>).
The value must be between 5 seconds and 65533 seconds.
The default value is 30 seconds.
<P>
<a id="OPT_SchedulerType"></a>
<DT><B>SchedulerType</B><DD>
Identifies the type of scheduler to be used.
Note the <B>slurmctld</B> daemon must be restarted for a change in
scheduler type to become effective (reconfiguring a running daemon has
no effect for this parameter).
The <B>scontrol</B> command can be used to manually change job priorities
if desired.
Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_sched/backfill"></a>
<DT><B>sched/backfill</B><DD>
For a backfill scheduling module to augment the default FIFO scheduling.
Backfill scheduling will initiate lower-priority jobs if doing
so does not delay the expected initiation time of any higher
priority job.
Effectiveness of backfill scheduling is dependent upon users specifying
job time limits, otherwise all jobs will have the same time limit and
backfilling is impossible.
Note documentation for the <B>SchedulerParameters</B> option above.
This is the default configuration.
<a id="OPT_sched/builtin"></a>
<DT><B>sched/builtin</B><DD>
This is the FIFO scheduler which initiates jobs in priority order.
If any job in the partition can not be scheduled, no lower priority job in that
partition will be scheduled.
An exception is made for jobs that can not run due to partition constraints
(e.g. the time limit) or down/drained nodes.
In that case, lower priority jobs can be initiated and not impact the higher
priority job.
<a id="OPT_sched/hold"></a>
<DT><B>sched/hold</B><DD>
To hold all newly arriving jobs if a file &quot;/etc/slurm.hold&quot;
exists otherwise use the built-in FIFO scheduler
</DL>
</DL>

<P>
<a id="OPT_SelectType_1"></a>
<DT><B>SelectType</B><DD>
Identifies the type of resource selection algorithm to be used.
Changing this value can only be done by restarting the slurmctld daemon
and will result in the loss of all job information (running and pending)
since the job state save format used by each plugin is different.
Acceptable values include
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_select/cons_res"></a>
<DT><B>select/cons_res</B><DD>
The resources (cores and memory) within a node are individually allocated as
consumable resources.
Note that whole nodes can be allocated to jobs for selected
partitions by using the <I>OverSubscribe=Exclusive</I> option.
See the partition <B>OverSubscribe</B> parameter for more information.
<a id="OPT_select/cray_aries"></a>
<DT><B>select/cray_aries</B><DD>
for a Cray system.
The default value is &quot;select/cray_aries&quot; for all Cray systems.
<a id="OPT_select/linear"></a>
<DT><B>select/linear</B><DD>
for allocation of entire nodes assuming a one-dimensional array of nodes in
which sequentially ordered nodes are preferable.
For a heterogeneous cluster (e.g. different CPU counts on the various nodes),
resource allocations will favor nodes with high CPU counts as needed based upon
the job's node and CPU specification if <B>TopologyPlugin=topology/none</B> is
configured. Use of other topology plugins with select/linear and heterogeneous
nodes is not recommended and may result in valid job allocation requests being
rejected.
This is the default value.
<a id="OPT_select/cons_tres"></a>
<DT><B>select/cons_tres</B><DD>
The resources (cores, memory, GPUs and all other trackable resources) within
a node are individually allocated as consumable resources.
Note that whole nodes can be allocated to jobs for selected
partitions by using the <I>OverSubscribe=Exclusive</I> option.
See the partition <B>OverSubscribe</B> parameter for more information.
</DL>
</DL>

<P>
<a id="OPT_SelectTypeParameters"></a>
<DT><B>SelectTypeParameters</B><DD>
The permitted values of <B>SelectTypeParameters</B> depend upon the
configured value of <B>SelectType</B>.
The only supported options for <B>SelectType=select/linear</B> are
<B>CR_ONE_TASK_PER_CORE</B> and
<B>CR_Memory</B>, which treats memory as a consumable resource and
prevents memory over subscription with job preemption or gang scheduling.
By default <B>SelectType=select/linear</B> allocates whole nodes to jobs without
considering their memory consumption.
By default <B>SelectType=select/cons_res</B>, <B>SelectType=select/cray_aries</B>,
and <B>SelectType=select/cons_tres</B>, use
<B>CR_CPU</B>, which allocates CPU (threads)
to jobs without considering their memory consumption.
<DL COMPACT><DT><DD>
<P>
The following options are supported for <B>SelectType=select/cray_aries</B>:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_OTHER_CONS_RES"></a>
<DT><B>OTHER_CONS_RES</B><DD>
Layer the select/cons_res plugin under the select/cray_aries plugin, the default is
to layer on select/linear.  This also allows all the options available for
<B>SelectType=select/cons_res</B>.
<a id="OPT_OTHER_CONS_TRES"></a>
<DT><B>OTHER_CONS_TRES</B><DD>
Layer the select/cons_tres plugin under the select/cray_aries plugin, the default is
to layer on select/linear.  This also allows all the options available for
<B>SelectType=select/cons_tres</B>.
</DL>
</DL>

<P>
The following options are supported by the <B>SelectType=select/cons_res</B>
and <B>SelectType=select/cons_tres</B> plugins:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_CR_CPU"></a>
<DT><B>CR_CPU</B><DD>
CPUs are consumable resources.
Configure the number of <B>CPUs</B> on each node, which may be equal to the
count of cores or hyper-threads on the node depending upon the desired minimum
resource allocation.
The node's <B>Boards</B>, <B>Sockets</B>, <B>CoresPerSocket</B> and
<B>ThreadsPerCore</B> may optionally be configured and result in job
allocations which have improved locality; however doing so will prevent
more than one job being from being allocated on each core.
<a id="OPT_CR_CPU_Memory"></a>
<DT><B>CR_CPU_Memory</B><DD>
CPUs and memory are consumable resources.
Configure the number of <B>CPUs</B> on each node, which may be equal to the
count of cores or hyper-threads on the node depending upon the desired minimum
resource allocation.
The node's <B>Boards</B>, <B>Sockets</B>, <B>CoresPerSocket</B> and
<B>ThreadsPerCore</B> may optionally be configured and result in job
allocations which have improved locality; however doing so will prevent
more than one job being from being allocated on each core.
Setting a value for <B>DefMemPerCPU</B> is strongly recommended.
<a id="OPT_CR_Core"></a>
<DT><B>CR_Core</B><DD>
Cores are consumable resources.
On nodes with hyper-threads, each thread is counted as a CPU to
satisfy a job's resource requirement, but multiple jobs are not
allocated threads on the same core.
The count of CPUs allocated to a job may be rounded up to account for every
CPU on an allocated core.
<a id="OPT_CR_Core_Memory"></a>
<DT><B>CR_Core_Memory</B><DD>
Cores and memory are consumable resources.
On nodes with hyper-threads, each thread is counted as a CPU to
satisfy a job's resource requirement, but multiple jobs are not
allocated threads on the same core.
The count of CPUs allocated to a job may be rounded up to account for every
CPU on an allocated core.
Setting a value for <B>DefMemPerCPU</B> is strongly recommended.
<a id="OPT_CR_ONE_TASK_PER_CORE"></a>
<DT><B>CR_ONE_TASK_PER_CORE</B><DD>
Allocate one task per core by default.
Without this option, by default one task will be allocated per
thread on nodes with more than one <B>ThreadsPerCore</B> configured.
NOTE: This option cannot be used with CR_CPU*.
<a id="OPT_CR_CORE_DEFAULT_DIST_BLOCK"></a>
<DT><B>CR_CORE_DEFAULT_DIST_BLOCK</B><DD>
Allocate cores within a node using block distribution by default.
This is a pseudo-best-fit algorithm that minimizes the number of
boards and minimizes the number of sockets (within minimum boards)
used for the allocation.
This default behavior can be overridden specifying a particular
&quot;-m&quot; parameter with srun/salloc/sbatch.
Without this option, cores will be allocated cyclicly across the sockets.
<a id="OPT_CR_LLN"></a>
<DT><B>CR_LLN</B><DD>
Schedule resources to jobs on the least loaded nodes (based upon the number
of idle CPUs). This is generally only recommended for an environment with
serial jobs as idle resources will tend to be highly fragmented, resulting
in parallel jobs being distributed across many nodes.
Note that node <B>Weight</B> takes precedence over how many idle resources are
on each node.
Also see the partition configuration parameter <B>LLN</B>
use the least loaded nodes in selected partitions.
<a id="OPT_CR_Pack_Nodes"></a>
<DT><B>CR_Pack_Nodes</B><DD>
If a job allocation contains more resources than will be used for launching
tasks (e.g. if whole nodes are allocated to a job), then rather than
distributing a job's tasks evenly across it's allocated nodes, pack them as
tightly as possible on these nodes.
For example, consider a job allocation containing two <B>entire</B> nodes with
eight CPUs each.
If the job starts ten tasks across those two nodes without this option, it will
start five tasks on each of the two nodes.
With this option, eight tasks will be started on the first node and two tasks
on the second node.
<a id="OPT_CR_Socket"></a>
<DT><B>CR_Socket</B><DD>
Sockets are consumable resources.
On nodes with multiple cores, each core or thread is counted as a CPU
to satisfy a job's resource requirement, but multiple jobs are not
allocated resources on the same socket.
<a id="OPT_CR_Socket_Memory"></a>
<DT><B>CR_Socket_Memory</B><DD>
Memory and sockets are consumable resources.
On nodes with multiple cores, each core or thread is counted as a CPU
to satisfy a job's resource requirement, but multiple jobs are not
allocated resources on the same socket.
Setting a value for <B>DefMemPerCPU</B> is strongly recommended.
<a id="OPT_CR_Memory"></a>
<DT><B>CR_Memory</B><DD>
Memory is a consumable resource.
NOTE: This implies <I>OverSubscribe=YES</I> or <I>OverSubscribe=FORCE</I> for
all partitions.
Setting a value for <B>DefMemPerCPU</B> is strongly recommended.
</DL>
</DL>

</DL>

<P>
<a id="OPT_SlurmUser"></a>
<DT><B>SlurmUser</B><DD>
The name of the user that the <B>slurmctld</B> daemon executes as.
For security purposes, a user other than &quot;root&quot; is recommended.
This user must exist on all nodes of the cluster for authentication
of communications between Slurm components.
The default value is &quot;root&quot;.
<P>
<a id="OPT_SlurmdParameters"></a>
<DT><B>SlurmdParameters</B><DD>
Parameters specific to the Slurmd.
Multiple options may be comma separated.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_shutdown_on_reboot"></a>
<DT><B>shutdown_on_reboot</B><DD>
If set, the Slurmd will shut itself down when a reboot request is received.
</DL>
</DL>

<P>
<a id="OPT_SlurmdUser"></a>
<DT><B>SlurmdUser</B><DD>
The name of the user that the <B>slurmd</B> daemon executes as.
This user must exist on all nodes of the cluster for authentication
of communications between Slurm components.
The default value is &quot;root&quot;.
<P>
<a id="OPT_SlurmctldAddr"></a>
<DT><B>SlurmctldAddr</B><DD>
An optional address to be used for communications to the currently active
slurmctld daemon, normally used with Virtual IP addressing of the currently
active server.
If this parameter is not specified then each primary and backup server will
have its own unique address used for communications as specified in the
<B>SlurmctldHost</B> parameter.
If this parameter is specified then the <B>SlurmctldHost</B> parameter will
still be used for communications to specific slurmctld primary or backup
servers, for example to cause all of them to read the current configuration
files or shutdown.
Also see the <B>SlurmctldPrimaryOffProg</B> and <B>SlurmctldPrimaryOnProg</B>
configuration parameters to configure programs to manipulate virtual IP
address manipulation.
<P>
<a id="OPT_SlurmctldDebug"></a>
<DT><B>SlurmctldDebug</B><DD>
The level of detail to provide <B>slurmctld</B> daemon's logs.
The default value is <B>info</B>.
If the <B>slurmctld</B> daemon is initiated with -v or --verbose options,
that debug level will be preserve or restored upon reconfiguration.
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_quiet"></a>
<DT><B>quiet</B><DD>
Log nothing
<a id="OPT_fatal"></a>
<DT><B>fatal</B><DD>
Log only fatal errors
<a id="OPT_error"></a>
<DT><B>error</B><DD>
Log only errors
<a id="OPT_info"></a>
<DT><B>info</B><DD>
Log errors and general informational messages
<a id="OPT_verbose"></a>
<DT><B>verbose</B><DD>
Log errors and verbose informational messages
<a id="OPT_debug"></a>
<DT><B>debug</B><DD>
Log errors and verbose informational messages and debugging messages
<a id="OPT_debug2"></a>
<DT><B>debug2</B><DD>
Log errors and verbose informational messages and more debugging messages
<a id="OPT_debug3"></a>
<DT><B>debug3</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug4"></a>
<DT><B>debug4</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug5"></a>
<DT><B>debug5</B><DD>
Log errors and verbose informational messages and even more debugging messages
</DL>
</DL>

<P>
<a id="OPT_SlurmctldHost"></a>
<DT><B>SlurmctldHost</B><DD>
The short, or long, hostname of the machine where Slurm control daemon is
executed (i.e. the name returned by the command &quot;hostname -s&quot;).
This hostname is optionally followed by the address, either the IP address or
a name by which the address can be identifed, enclosed in parentheses (e.g.
SlurmctldHost=master1(12.34.56.78)). This value must be specified at least once.
If specified more than once, the first hostname named will be where the daemon
runs.
If the first specified host fails, the daemon will execute on the second host.
If both the first and second specified host fails, the daemon will execute on
the third host.
<P>
<a id="OPT_SlurmctldLogFile"></a>
<DT><B>SlurmctldLogFile</B><DD>
Fully qualified pathname of a file into which the <B>slurmctld</B> daemon's
logs are written.
The default value is none (performs logging via syslog).
<BR>

See the section <B>LOGGING</B> if a pathname is specified.
<P>
<a id="OPT_SlurmctldParameters"></a>
<DT><B>SlurmctldParameters</B><DD>
Multiple options may be comma-separated.
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_allow_user_triggers"></a>
<DT><B>allow_user_triggers</B><DD>
Permit setting triggers from non-root/slurm_user users. SlurmUser must also
be set to root to permit these triggers to work. See the <B>strigger</B> man
page for additional details.
<a id="OPT_cloud_dns"></a>
<DT><B>cloud_dns</B><DD>
By default, Slurm expects that the network address for a cloud node won't
be known until the creation of the node and that Slurm will be notified of the
node's address (e.g. <B>scontrol update nodename=&lt;name&gt; nodeaddr=&lt;addr&gt;</B>).
Since Slurm communications rely on the node configuration found in the
slurm.conf, Slurm will tell the client command, after waiting for all nodes to
boot, each node's ip address. However, in environments where the nodes are in
DNS, this step can be avoided by configuring this option.
<a id="OPT_idle_on_node_suspend"></a>
<DT><B>idle_on_node_suspend</B> Mark nodes as idle, regardless of current state,<DD>
when suspending nodes with <I>SuspendProgram</I><B> so that nodes will be eligible
to be resumed at a later time.
<DT>preempt_send_user_signal</B> Send the user signal (e.g. --signal=&lt;sig_num&gt;)<DD>
at preemption time even if the signal time hasn't been reached. In the case of
a gracetime preemption the user signal will be sent if the user signal has been
specified and not sent, otherwise a SIGTERM will be sent to the tasks.
<a id="OPT_reboot_from_controller"></a>
<DT><B>reboot_from_controller</B> Run the <B>RebootProgram</B> from the controller<DD>
instead of on the slurmds. The RebootProgram will be passed a comma-separated
list of nodes to reboot.
</DL>
</DL>

<P>
<a id="OPT_SlurmctldPidFile"></a>
<DT><B>SlurmctldPidFile</B><DD>
Fully qualified pathname of a file into which the  <B>slurmctld</B> daemon
may write its process id. This may be used for automated signal processing.
The default value is &quot;/var/run/slurmctld.pid&quot;.
<P>
<a id="OPT_SlurmctldPlugstack"></a>
<DT><B>SlurmctldPlugstack</B><DD>
A comma delimited list of Slurm controller plugins to be started when the
daemon begins and terminated when it ends.
Only the plugin's init and fini functions are called.
<P>
<a id="OPT_SlurmctldPort"></a>
<DT><B>SlurmctldPort</B><DD>
The port number that the Slurm controller, <B>slurmctld</B>, listens
to for work. The default value is SLURMCTLD_PORT as established at system
build time. If none is explicitly specified, it will be set to 6817.
<B>SlurmctldPort</B> may also be configured to support a range of port
numbers in order to accept larger bursts of incoming messages by specifying
two numbers separated by a dash (e.g. <B>SlurmctldPort=6817-6818</B>).
NOTE: Either <B>slurmctld</B> and <B>slurmd</B> daemons must not
execute on the same nodes or the values of <B>SlurmctldPort</B> and
<B>SlurmdPort</B> must be different.
<P>
<B>Note</B>: On Cray systems, Realm-Specific IP Addressing (RSIP) will
automatically try to interact with anything opened on ports 8192-60000.
Configure SlurmctldPort to use a port outside of the configured SrunPortRange
and RSIP's port range.
<P>
<a id="OPT_SlurmctldPrimaryOffProg"></a>
<DT><B>SlurmctldPrimaryOffProg</B><DD>
This program is executed when a slurmctld daemon running as the primary server
becomes a backup server. By default no program is executed.
See also the related &quot;SlurmctldPrimaryOnProg&quot; parameter.
<P>
<a id="OPT_SlurmctldPrimaryOnProg"></a>
<DT><B>SlurmctldPrimaryOnProg</B><DD>
This program is executed when a slurmctld daemon running as a backup server
becomes the primary server. By default no program is executed.
When using virtual IP addresses to manage High Available Slurm services,
this program can be used to add the IP address to an interface (and optionally
try to kill the unresponsive  slurmctld daemon and flush the ARP caches on
nodes on the local ethernet fabric).
See also the related &quot;SlurmctldPrimaryOffProg&quot; parameter.
<a id="OPT_SlurmctldSyslogDebug"></a>
<DT><B>SlurmctldSyslogDebug</B><DD>
The slurmctld daemon will log events to the syslog file at the specified
level of detail. If not set, the slurmctld daemon will log to syslog at
level <B>fatal</B>, unless there is no <B>SlurmctldLogFile</B> and it is running
in the background, in which case it will log to syslog at the level specified
by <B>SlurmctldDebug</B> (at <B>fatal</B> in the case that <B>SlurmctldDebug</B>
is set to <B>quiet</B>) or it is run in the foreground, when it will be set to
quiet.
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_quiet_1"></a>
<DT><B>quiet</B><DD>
Log nothing
<a id="OPT_fatal_1"></a>
<DT><B>fatal</B><DD>
Log only fatal errors
<a id="OPT_error_1"></a>
<DT><B>error</B><DD>
Log only errors
<a id="OPT_info_1"></a>
<DT><B>info</B><DD>
Log errors and general informational messages
<a id="OPT_verbose_1"></a>
<DT><B>verbose</B><DD>
Log errors and verbose informational messages
<a id="OPT_debug_1"></a>
<DT><B>debug</B><DD>
Log errors and verbose informational messages and debugging messages
<a id="OPT_debug2_1"></a>
<DT><B>debug2</B><DD>
Log errors and verbose informational messages and more debugging messages
<a id="OPT_debug3_1"></a>
<DT><B>debug3</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug4_1"></a>
<DT><B>debug4</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug5_1"></a>
<DT><B>debug5</B><DD>
Log errors and verbose informational messages and even more debugging messages
</DL>
</DL>

<P>
<P>
<a id="OPT_SlurmctldTimeout"></a>
<DT><B>SlurmctldTimeout</B><DD>
The interval, in seconds, that the backup controller waits for the
primary controller to respond before assuming control.
The default value is 120 seconds.
May not exceed 65533.
<P>
<a id="OPT_SlurmdDebug"></a>
<DT><B>SlurmdDebug</B><DD>
The level of detail to provide <B>slurmd</B> daemon's logs.
The default value is <B>info</B>.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_quiet_2"></a>
<DT><B>quiet</B><DD>
Log nothing
<a id="OPT_fatal_2"></a>
<DT><B>fatal</B><DD>
Log only fatal errors
<a id="OPT_error_2"></a>
<DT><B>error</B><DD>
Log only errors
<a id="OPT_info_2"></a>
<DT><B>info</B><DD>
Log errors and general informational messages
<a id="OPT_verbose_2"></a>
<DT><B>verbose</B><DD>
Log errors and verbose informational messages
<a id="OPT_debug_2"></a>
<DT><B>debug</B><DD>
Log errors and verbose informational messages and debugging messages
<a id="OPT_debug2_2"></a>
<DT><B>debug2</B><DD>
Log errors and verbose informational messages and more debugging messages
<a id="OPT_debug3_2"></a>
<DT><B>debug3</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug4_2"></a>
<DT><B>debug4</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug5_2"></a>
<DT><B>debug5</B><DD>
Log errors and verbose informational messages and even more debugging messages
</DL>
</DL>

<P>
<a id="OPT_SlurmdLogFile"></a>
<DT><B>SlurmdLogFile</B><DD>
Fully qualified pathname of a file into which the  <B>slurmd</B> daemon's
logs are written.
The default value is none (performs logging via syslog).
Any &quot;%h&quot; within the name is replaced with the hostname on which the
<B>slurmd</B> is running.
Any &quot;%n&quot; within the name is replaced with the Slurm node name on which the
<B>slurmd</B> is running.
<BR>

See the section <B>LOGGING</B> if a pathname is specified.
<P>
<a id="OPT_SlurmdPidFile"></a>
<DT><B>SlurmdPidFile</B><DD>
Fully qualified pathname of a file into which the  <B>slurmd</B> daemon may write
its process id. This may be used for automated signal processing.
Any &quot;%h&quot; within the name is replaced with the hostname on which the
<B>slurmd</B> is running.
Any &quot;%n&quot; within the name is replaced with the Slurm node name on which the
<B>slurmd</B> is running.
The default value is &quot;/var/run/slurmd.pid&quot;.
<P>
<a id="OPT_SlurmdPort"></a>
<DT><B>SlurmdPort</B><DD>
The port number that the Slurm compute node daemon, <B>slurmd</B>, listens
to for work. The default value is SLURMD_PORT as established at system
build time. If none is explicitly specified, its value will be 6818.
NOTE: Either slurmctld and slurmd daemons must not execute
on the same nodes or the values of <B>SlurmctldPort</B> and <B>SlurmdPort</B>
must be different.
<P>
<B>Note</B>: On Cray systems, Realm-Specific IP Addressing (RSIP) will
automatically try to interact with anything opened on ports 8192-60000.
Configure SlurmdPort to use a port outside of the configured SrunPortRange
and RSIP's port range.
<P>
<a id="OPT_SlurmdSpoolDir"></a>
<DT><B>SlurmdSpoolDir</B><DD>
Fully qualified pathname of a directory into which the <B>slurmd</B>
daemon's state information and batch job script information are written. This
must be a common pathname for all nodes, but should represent a directory which
is local to each node (reference a local file system). The default value
is &quot;/var/spool/slurmd&quot;.
Any &quot;%h&quot; within the name is replaced with the hostname on which the
<B>slurmd</B> is running.
Any &quot;%n&quot; within the name is replaced with the Slurm node name on which the
<B>slurmd</B> is running.
<P>
<a id="OPT_SlurmdSyslogDebug"></a>
<DT><B>SlurmdSyslogDebug</B><DD>
The slurmd daemon will log events to the syslog file at the specified
level of detail. If not set, the slurmd daemon will log to syslog at
level <B>fatal</B>, unless there is no <B>SlurmdLogFile</B> and it is running
in the background, in which case it will log to syslog at the level specified
by <B>SlurmdDebug</B>  (at <B>fatal</B> in the case that <B>SlurmdDebug</B>
is set to <B>quiet</B>) or it is run in the foreground, when it will be set to
quiet.
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_quiet_3"></a>
<DT><B>quiet</B><DD>
Log nothing
<a id="OPT_fatal_3"></a>
<DT><B>fatal</B><DD>
Log only fatal errors
<a id="OPT_error_3"></a>
<DT><B>error</B><DD>
Log only errors
<a id="OPT_info_3"></a>
<DT><B>info</B><DD>
Log errors and general informational messages
<a id="OPT_verbose_3"></a>
<DT><B>verbose</B><DD>
Log errors and verbose informational messages
<a id="OPT_debug_3"></a>
<DT><B>debug</B><DD>
Log errors and verbose informational messages and debugging messages
<a id="OPT_debug2_3"></a>
<DT><B>debug2</B><DD>
Log errors and verbose informational messages and more debugging messages
<a id="OPT_debug3_3"></a>
<DT><B>debug3</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug4_3"></a>
<DT><B>debug4</B><DD>
Log errors and verbose informational messages and even more debugging messages
<a id="OPT_debug5_3"></a>
<DT><B>debug5</B><DD>
Log errors and verbose informational messages and even more debugging messages
</DL>
</DL>

<P>
<a id="OPT_SlurmdTimeout"></a>
<DT><B>SlurmdTimeout</B><DD>
The interval, in seconds, that the Slurm controller waits for <B>slurmd</B>
to respond before configuring that node's state to DOWN.
A value of zero indicates the node will not be tested by <B>slurmctld</B> to
confirm the state of <B>slurmd</B>, the node will not be automatically set to
a DOWN state indicating a non-responsive <B>slurmd</B>, and some other tool
will take responsibility for monitoring the state of each compute node
and its <B>slurmd</B> daemon.
Slurm's hierarchical communication mechanism is used to ping the <B>slurmd</B>
daemons in order to minimize system noise and overhead.
The default value is 300 seconds.
The value may not exceed 65533 seconds.
<P>
<a id="OPT_SlurmSchedLogFile"></a>
<DT><B>SlurmSchedLogFile</B><DD>
Fully qualified pathname of the scheduling event logging file.
The syntax of this parameter is the same as for <B>SlurmctldLogFile</B>.
In order to configure scheduler logging, set both the <B>SlurmSchedLogFile</B>
and <B>SlurmSchedLogLevel</B> parameters.
<P>
<a id="OPT_SlurmSchedLogLevel"></a>
<DT><B>SlurmSchedLogLevel</B><DD>
The initial level of scheduling event logging, similar to the
<B>SlurmctldDebug</B> parameter used to control the initial level of
<B>slurmctld</B> logging.
Valid values for <B>SlurmSchedLogLevel</B> are &quot;0&quot; (scheduler logging
disabled) and &quot;1&quot; (scheduler logging enabled).
If this parameter is omitted, the value defaults to &quot;0&quot; (disabled).
In order to configure scheduler logging, set both the <B>SlurmSchedLogFile</B>
and <B>SlurmSchedLogLevel</B> parameters.
The scheduler logging level can be changed dynamically using <B>scontrol</B>.
<P>
<a id="OPT_SrunEpilog"></a>
<DT><B>SrunEpilog</B><DD>
Fully qualified pathname of an executable to be run by srun following
the completion of a job step.  The command line arguments for the
executable will be the command and arguments of the job step.  This
configuration parameter may be overridden by srun's <B>--epilog</B>
parameter. Note that while the other &quot;Epilog&quot; executables (e.g.,
TaskEpilog) are run by slurmd on the compute nodes where the tasks are
executed, the <B>SrunEpilog</B> runs on the node where the &quot;srun&quot; is
executing.
<P>
<a id="OPT_SrunPortRange"></a>
<DT><B>SrunPortRange</B><DD>
The <B>srun</B> creates a set of listening ports to communicate with the
controller, the slurmstepd and to handle the application I/O.
By default these ports are ephemeral meaning the port numbers are selected
by the kernel. Using this parameter allow sites to configure a range of ports
from which srun ports will be selected. This is useful if sites want to
allow only certain port range on their network.
<P>
<B>Note</B>: On Cray systems, Realm-Specific IP Addressing (RSIP) will
automatically try to interact with anything opened on ports 8192-60000.
Configure SrunPortRange to use a range of ports above those used by RSIP,
ideally 1000 or more ports, for example &quot;SrunPortRange=60001-63000&quot;.
<P>
<B>Note</B>: A sufficient number of ports must be configured based on the
estimated number of srun on the submission nodes considering that srun opens
3 listening ports plus 2 more for every 48 hosts. Example:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_srun--N-48"></a>
<DT><B>srun -N 48</B> will use 5 listening ports.<DD>
<P>
<a id="OPT_srun--N-50"></a>
<DT><B>srun -N 50</B> will use 7 listening ports.<DD>
<DT><DD>
<B>srun -N 200</B> will use 13 listening ports.
</DL>
</DL>

<P>
<a id="OPT_SrunProlog"></a>
<DT><B>SrunProlog</B><DD>
Fully qualified pathname of an executable to be run by srun prior to
the launch of a job step.  The command line arguments for the
executable will be the command and arguments of the job step.  This
configuration parameter may be overridden by srun's <B>--prolog</B>
parameter. Note that while the other &quot;Prolog&quot; executables (e.g.,
TaskProlog) are run by slurmd on the compute nodes where the tasks are
executed, the <B>SrunProlog</B> runs on the node where the &quot;srun&quot; is
executing.
<P>
<a id="OPT_StateSaveLocation"></a>
<DT><B>StateSaveLocation</B><DD>
Fully qualified pathname of a directory into which the Slurm controller,
<B>slurmctld</B>, saves its state (e.g. &quot;/usr/local/slurm/checkpoint&quot;).
Slurm state will saved here to recover from system failures.
<B>SlurmUser</B> must be able to create files in this directory.
If you have a <B>BackupController</B> configured, this location should be
readable and writable by both systems.
Since all running and pending job information is stored here, the use of
a reliable file system (e.g. RAID) is recommended.
The default value is &quot;/var/spool&quot;.
If any slurm daemons terminate abnormally, their core files will also be written
into this directory.
<P>
<a id="OPT_SuspendExcNodes"></a>
<DT><B>SuspendExcNodes</B><DD>
Specifies the nodes which are to not be placed in power save mode, even
if the node remains idle for an extended period of time.
Use Slurm's hostlist expression to identify nodes with an optional &quot;:&quot; separator
and count of nodes to exclude from the preceding range.
For example &quot;nid[10-20]:4&quot; will prevent 4 usable nodes (i.e IDLE and not 
DOWN, DRAINING or already powered down) in the set &quot;nid[10-20]&quot; from being
powered down.
Multiple sets of nodes can be specified with or without counts in a comma
separated list (e.g &quot;nid[10-20]:4,nid[80-90]:2&quot;).
If a node count specification is given, any list of nodes to NOT have a node
count must be after the last specification with a count.
For example &quot;nid[10-20]:4,nid[60-70]&quot; will exclude 4 nodes in the set
&quot;nid[10-20]:4&quot; plus all nodes in the set &quot;nid[60-70]&quot; while
&quot;nid[1-3],nid[10-20]:4&quot; will exclude 4 nodes from the set &quot;nid[1-3],nid[10-20]&quot;.
By default no nodes are excluded.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeProgram</B>,
<B>ResumeRate</B>, <B>SuspendProgram</B>, <B>SuspendRate</B>, <B>SuspendTime</B>,
<B>SuspendTimeout</B>, and <B>SuspendExcParts</B>.
<P>
<a id="OPT_SuspendExcParts"></a>
<DT><B>SuspendExcParts</B><DD>
Specifies the partitions whose nodes are to not be placed in power save
mode, even if the node remains idle for an extended period of time.
Multiple partitions can be identified and separated by commas.
By default no nodes are excluded.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeProgram</B>,
<B>ResumeRate</B>, <B>SuspendProgram</B>, <B>SuspendRate</B>, <B>SuspendTime</B>
<B>SuspendTimeout</B>, and <B>SuspendExcNodes</B>.
<P>
<a id="OPT_SuspendProgram"></a>
<DT><B>SuspendProgram</B><DD>
<B>SuspendProgram</B> is the program that will be executed when a node
remains idle for an extended period of time.
This program is expected to place the node into some power save mode.
This can be used to reduce the frequency and voltage of a node or
completely power the node off.
The program executes as <B>SlurmUser</B>.
The argument to the program will be the names of nodes to
be placed into power savings mode (using Slurm's hostlist
expression format).
By default, no program is run.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeProgram</B>,
<B>ResumeRate</B>, <B>SuspendRate</B>, <B>SuspendTime</B>, <B>SuspendTimeout</B>,
<B>SuspendExcNodes</B>, and <B>SuspendExcParts</B>.
<P>
<a id="OPT_SuspendRate"></a>
<DT><B>SuspendRate</B><DD>
The rate at which nodes are placed into power save mode by <B>SuspendProgram</B>.
The value is number of nodes per minute and it can be used to prevent
a large drop in power consumption (e.g. after a large job completes).
A value of zero results in no limits being imposed.
The default value is 60 nodes per minute.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeProgram</B>,
<B>ResumeRate</B>, <B>SuspendProgram</B>, <B>SuspendTime</B>, <B>SuspendTimeout</B>,
<B>SuspendExcNodes</B>, and <B>SuspendExcParts</B>.
<P>
<a id="OPT_SuspendTime"></a>
<DT><B>SuspendTime</B><DD>
Nodes which remain idle for this number of seconds will be placed into
power save mode by <B>SuspendProgram</B>.
For efficient system utilization, it is recommended that the value of
<B>SuspendTime</B> be at least as large as the sum of <B>SuspendTimeout</B>
plus <B>ResumeTimeout</B>.
A value of -1 disables power save mode and is the default.
Related configuration options include <B>ResumeTimeout</B>, <B>ResumeProgram</B>,
<B>ResumeRate</B>, <B>SuspendProgram</B>, <B>SuspendRate</B>, <B>SuspendTimeout</B>,
<B>SuspendExcNodes</B>, and <B>SuspendExcParts</B>.
<P>
<a id="OPT_SuspendTimeout"></a>
<DT><B>SuspendTimeout</B><DD>
Maximum time permitted (in seconds) between when a node suspend request
is issued and when the node is shutdown.
At that time the node must be ready for a resume request to be issued
as needed for new work.
The default value is 30 seconds.
Related configuration options include <B>ResumeProgram</B>, <B>ResumeRate</B>,
<B>ResumeTimeout</B>, <B>SuspendRate</B>, <B>SuspendTime</B>, <B>SuspendProgram</B>,
<B>SuspendExcNodes</B> and <B>SuspendExcParts</B>.
More information is available at the Slurm web site
( <A HREF="https://slurm.schedmd.com/power_save.html">https://slurm.schedmd.com/power_save.html</A> ).
<P>
<a id="OPT_SwitchType"></a>
<DT><B>SwitchType</B><DD>
Identifies the type of switch or interconnect used for application
communications.
Acceptable values include
&quot;switch/cray_aries&quot; for Cray systems,
&quot;switch/none&quot; for switches not requiring special processing for job launch
or termination (Ethernet, and InfiniBand) and
The default value is &quot;switch/none&quot;.
All Slurm daemons, commands and running jobs must be restarted for a
change in <B>SwitchType</B> to take effect.
If running jobs exist at the time <B>slurmctld</B> is restarted with a new
value of <B>SwitchType</B>, records of all jobs in any state may be lost.
<P>
<a id="OPT_TaskEpilog"></a>
<DT><B>TaskEpilog</B><DD>
Fully qualified pathname of a program to be execute as the slurm job's
owner after termination of each task.
See <B>TaskProlog</B> for execution order details.
<P>
<a id="OPT_TaskPlugin"></a>
<DT><B>TaskPlugin</B><DD>
Identifies the type of task launch plugin, typically used to provide
resource management within a node (e.g. pinning tasks to specific
processors). More than one task plugin can be specified in a comma separated
list. The prefix of &quot;task/&quot; is optional. Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_task/affinity"></a>
<DT><B>task/affinity</B><DD>
enables resource containment using CPUSETs.
This enables the --cpu-bind and/or --mem-bind srun options.
If you use &quot;task/affinity&quot; and encounter problems, it may be due to
the variety of system calls used to implement task affinity on
different operating systems.
<a id="OPT_task/cgroup"></a>
<DT><B>task/cgroup</B><DD>
enables resource containment using Linux control cgroups.
This enables the --cpu-bind and/or --mem-bind srun options.
NOTE: see &quot;man cgroup.conf&quot; for configuration details.
<a id="OPT_task/none"></a>
<DT><B>task/none</B><DD>
for systems requiring no special handling of user tasks.
Lacks support for the --cpu-bind and/or --mem-bind srun options.
The default value is &quot;task/none&quot;.
</DL>
</DL>

<P>
<B>NOTE:</B> It is recommended to stack <B>task/affinity,task/cgroup</B> together
when configuring TaskPlugin, and setting <B>TaskAffinity=no</B> and
<B>ConstrainCores=yes</B> in <B>cgroup.conf</B>. This setup uses the task/affinity
plugin for setting the affinity of the tasks (which is better and different than
task/cgroup) and uses the task/cgroup plugin to fence tasks into the specified
resources, thus combining the best of both pieces.
<P>
<B>NOTE:</B> For CRAY systems only: task/cgroup must be used with, and listed
<B>after</B> task/cray_aries in TaskPlugin. The task/affinity plugin can be listed
everywhere, but the previous constraint must be satisfied. So for CRAY systems,
a configuration like this is recommended:
<P>
TaskPlugin=task/affinity,task/cray_aries,task/cgroup
<P>
<a id="OPT_TaskPluginParam"></a>
<DT><B>TaskPluginParam</B><DD>
Optional parameters for the task plugin.
Multiple options should be comma separated.
If <B>None</B>, <B>Boards</B>, <B>Sockets</B>, <B>Cores</B>, <B>Threads</B>,
and/or <B>Verbose</B> are specified, they will override
the <B>--cpu-bind</B> option specified by the user
in the <B>srun</B> command.
<B>None</B>, <B>Boards</B>, <B>Sockets</B>, <B>Cores</B> and <B>Threads</B> are mutually
exclusive and since they decrease scheduling flexibility are not generally
recommended (select no more than one of them).
<B>Cpusets</B> and <B>Sched</B>
are mutually exclusive (select only one of them).
All TaskPluginParam options are supported on FreeBSD except <B>Cpusets</B>.
The <B>Sched</B> option uses cpuset_setaffinity() on FreeBSD, not sched_setaffinity().
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Boards"></a>
<DT><B>Boards</B><DD>
Bind tasks to boards by default.
Overrides automatic binding.
<a id="OPT_Cores"></a>
<DT><B>Cores</B><DD>
Bind tasks to cores by default.
Overrides automatic binding.
<a id="OPT_Cpusets"></a>
<DT><B>Cpusets</B><DD>
Use cpusets to perform task affinity functions.
By default, <B>Sched</B> task binding is performed.
<a id="OPT_None"></a>
<DT><B>None</B><DD>
Perform no task binding by default.
Overrides automatic binding.
<a id="OPT_Sched"></a>
<DT><B>Sched</B><DD>
Use <I>sched_setaffinity</I> (if available) to bind tasks to
processors.
<a id="OPT_Sockets"></a>
<DT><B>Sockets</B><DD>
Bind to sockets by default.
Overrides automatic binding.
<a id="OPT_Threads"></a>
<DT><B>Threads</B><DD>
Bind to threads by default.
Overrides automatic binding.
<a id="OPT_SlurmdOffSpec"></a>
<DT><B>SlurmdOffSpec</B><DD>
If specialized cores or CPUs are identified for the node (i.e. the
<B>CoreSpecCount</B> or <B>CpuSpecList</B> are configured for the node),
then Slurm daemons running on the compute node (i.e. slurmd and slurmstepd)
should run outside of those resources (i.e. specialized resources are
completely unavailable to Slurm daemons and jobs spawned by Slurm).
This option may not be used with the <B>task/cray_aries</B> plugin.
<a id="OPT_Verbose"></a>
<DT><B>Verbose</B><DD>
Verbosely report binding before tasks run.
Overrides user options.
<a id="OPT_Autobind"></a>
<DT><B>Autobind</B><DD>
Set a default binding in the event that &quot;auto binding&quot; doesn't find a match.
Set to Threads, Cores or Sockets (E.g. TaskPluginParam=autobind=threads).
</DL>
</DL>

<P>
<a id="OPT_TaskProlog"></a>
<DT><B>TaskProlog</B><DD>
Fully qualified pathname of a program to be execute as the slurm job's
owner prior to initiation of each task.
Besides the normal environment variables, this has SLURM_TASK_PID
available to identify the process ID of the task being started.
Standard output from this program can be used to control the environment
variables and output for the user program.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_export-NAME=value"></a>
<DT><B>export NAME=value</B><DD>
Will set environment variables for the task being spawned.
Everything after the equal sign to the end of the
line will be used as the value for the environment variable.
Exporting of functions is not currently supported.
<a id="OPT_print-..."></a>
<DT><B>print ...</B><DD>
Will cause that line (without the leading &quot;print &quot;)
to be printed to the job's standard output.
<a id="OPT_unset-NAME"></a>
<DT><B>unset NAME</B><DD>
Will clear environment variables for the task being spawned.
<DT>The order of task prolog/epilog execution is as follows:<DD>
<a id="OPT_1.-pre_launch_priv()"></a>
<DT><B>1. pre_launch_priv()</B><DD>
Function in TaskPlugin
<a id="OPT_1.-pre_launch()"></a>
<DT><B>1. pre_launch()</B><DD>
Function in TaskPlugin
<a id="OPT_2.-TaskProlog"></a>
<DT><B>2. TaskProlog</B><DD>
System-wide per task program defined in slurm.conf
<a id="OPT_3.-user-prolog"></a>
<DT><B>3. user prolog</B><DD>
Job step specific task program defined using
<B>srun</B>'s <B>--task-prolog</B> option or <B>SLURM_TASK_PROLOG</B>
environment variable
<a id="OPT_4."></a>
<DT><B>4.</B> Execute the job step's task<DD>
<a id="OPT_5.-user-epilog"></a>
<DT><B>5. user epilog</B><DD>
Job step specific task program defined using
<B>srun</B>'s <B>--task-epilog</B> option or <B>SLURM_TASK_EPILOG</B>
environment variable
<a id="OPT_6.-TaskEpilog"></a>
<DT><B>6. TaskEpilog</B><DD>
System-wide per task program defined in slurm.conf
<a id="OPT_7.-post_term()"></a>
<DT><B>7. post_term()</B><DD>
Function in TaskPlugin
</DL>
</DL>

<P>
<a id="OPT_TCPTimeout"></a>
<DT><B>TCPTimeout</B><DD>
Time permitted for TCP connection to be established. Default value is 2 seconds.
<P>
<a id="OPT_TmpFS"></a>
<DT><B>TmpFS</B><DD>
Fully qualified pathname of the file system available to user jobs for
temporary storage. This parameter is used in establishing a node's <B>TmpDisk</B>
space.
The default value is &quot;/tmp&quot;.
<P>
<a id="OPT_TopologyParam"></a>
<DT><B>TopologyParam</B><DD>
Comma separated options identifying network topology options.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_Dragonfly"></a>
<DT><B>Dragonfly</B><DD>
Optimize allocation for Dragonfly network.
Valid when TopologyPlugin=topology/tree.
<a id="OPT_TopoOptional"></a>
<DT><B>TopoOptional</B><DD>
Only optimize allocation for network topology if the job includes a switch
option. Since optimizing resource allocation for topology involves much higher
system overhead, this option can be used to impose the extra overhead only on
jobs which can take advantage of it. If most job allocations are not optimized
for network topology, they make fragment resources to the point that topology
optimization for other jobs will be difficult to achieve.
<B>NOTE</B>: Jobs may span across nodes without common parent switches with
this enabled.
</DL>
</DL>

<P>
<a id="OPT_TopologyPlugin"></a>
<DT><B>TopologyPlugin</B><DD>
Identifies the plugin to be used for determining the network topology
and optimizing job allocations to minimize network contention.
See <B>NETWORK TOPOLOGY</B> below for details.
Additional plugins may be provided in the future which gather topology
information directly from the network.
Acceptable values include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_topology/3d_torus"></a>
<DT><B>topology/3d_torus</B><DD>
best-fit logic over three-dimensional topology
<a id="OPT_topology/node_rank"></a>
<DT><B>topology/node_rank</B><DD>
orders nodes based upon information a node_rank field in the node record
as generated by a select plugin. Slurm performs a best-fit algorithm over
those ordered nodes
<a id="OPT_topology/none"></a>
<DT><B>topology/none</B><DD>
default for other systems, best-fit logic over one-dimensional topology
<a id="OPT_topology/tree"></a>
<DT><B>topology/tree</B><DD>
used for a hierarchical network as described in a <I>topology.conf</I> file
</DL>
</DL>

<P>
<a id="OPT_TrackWCKey"></a>
<DT><B>TrackWCKey</B><DD>
Boolean yes or no.  Used to set display and track of the Workload
Characterization Key.  Must be set to track correct wckey usage.
NOTE: You must also set TrackWCKey in your slurmdbd.conf file to create
historical usage reports.
<P>
<a id="OPT_TreeWidth"></a>
<DT><B>TreeWidth</B><DD>
<B>Slurmd</B> daemons use a virtual tree network for communications.
<B>TreeWidth</B> specifies the width of the tree (i.e. the fanout).
On architectures with a front end node running the slurmd daemon, the value
must always be equal to or greater than the number of front end nodes which
eliminates the need for message forwarding between the slurmd daemons.
On other architectures the default value is 50, meaning each slurmd daemon can
communicate with up to 50 other slurmd daemons and over 2500 nodes can be
contacted with two message hops.
The default value will work well for most clusters.
Optimal system performance can typically be achieved if <B>TreeWidth</B>
is set to the square root of the number of nodes in the cluster for
systems having no more than 2500 nodes or the cube root for larger
systems. The value may not exceed 65533.
<P>
<a id="OPT_UnkillableStepProgram"></a>
<DT><B>UnkillableStepProgram</B><DD>
If the processes in a job step are determined to be unkillable for a period
of time specified by the <B>UnkillableStepTimeout</B> variable, the program
specified by <B>UnkillableStepProgram</B> will be executed.
This program can be used to take special actions to clean up the unkillable
processes and/or notify computer administrators.
The program will be run <B>SlurmdUser</B> (usually &quot;root&quot;) on the compute node.
By default no program is run.
<P>
<a id="OPT_UnkillableStepTimeout"></a>
<DT><B>UnkillableStepTimeout</B><DD>
The length of time, in seconds, that Slurm will wait before deciding that
processes in a job step are unkillable (after they have been signaled with
SIGKILL) and execute <B>UnkillableStepProgram</B> as described above.
The default timeout value is 60 seconds.
If exceeded, the compute node will be drained to prevent future jobs from being
scheduled on the node.
<P>
<a id="OPT_UsePAM"></a>
<DT><B>UsePAM</B><DD>
If set to 1, PAM (Pluggable Authentication Modules for Linux) will be enabled.
PAM is used to establish the upper bounds for resource limits. With PAM support
enabled, local system administrators can dynamically configure system resource
limits. Changing the upper bound of a resource limit will not alter the limits
of running jobs, only jobs started after a change has been made will pick up
the new limits.
The default value is 0 (not to enable PAM support).
Remember that PAM also needs to be configured to support Slurm as a service.
For sites using PAM's directory based configuration option, a configuration
file named <B>slurm</B> should be created. The module-type, control-flags, and
module-path names that should be included in the file are:
<BR>

auth        required      pam_localuser.so
<BR>

auth        required      pam_shells.so
<BR>

account     required      pam_unix.so
<BR>

account     required      pam_access.so
<BR>

session     required      pam_unix.so
<BR>

For sites configuring PAM with a general configuration file, the appropriate
lines (see above), where <B>slurm</B> is the service-name, should be added.
<P>
<B>NOTE</B>: UsePAM option has nothing to do with the
<B>contribs/pam/pam_slurm</B> and/or <B>contribs/pam_slurm_adopt</B> modules. So
these two modules can work independently of the value set for UsePAM.
<P>
<a id="OPT_VSizeFactor"></a>
<DT><B>VSizeFactor</B><DD>
Memory specifications in job requests apply to real memory size (also known
as resident set size). It is possible to enforce virtual memory limits for
both jobs and job steps by limiting their virtual memory to some percentage
of their real memory allocation. The <B>VSizeFactor</B> parameter specifies
the job's or job step's virtual memory limit as a percentage of its real
memory limit. For example, if a job's real memory limit is 500MB and
VSizeFactor is set to 101 then the job will be killed if its real memory
exceeds 500MB or its virtual memory exceeds 505MB (101 percent of the
real memory limit).
The default value is 0, which disables enforcement of virtual memory limits.
The value may not exceed 65533 percent.
<P>
<a id="OPT_WaitTime"></a>
<DT><B>WaitTime</B><DD>
Specifies how many seconds the srun command should by default wait after
the first task terminates before terminating all remaining tasks. The
&quot;--wait&quot; option on the srun command line overrides this value.
The default value is 0, which disables this feature.
May not exceed 65533 seconds.
<P>
<a id="OPT_X11Parameters"></a>
<DT><B>X11Parameters</B><DD>
For use with Slurm's built-in X11 forwarding implementation.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_home_xauthority"></a>
<DT><B>home_xauthority</B><DD>
If set, xauth data on the compute node will be placed in <B>~/.Xauthority</B>
rather than in a temporary file under <B>TmpFS</B>.
</DL>
</DL>

<P>
</DL>
<P>

The configuration of nodes (or machines) to be managed by Slurm is
also specified in <B>/etc/slurm.conf</B>.
Changes in node configuration (e.g. adding nodes, changing their
processor count, etc.) require restarting both the slurmctld daemon
and the slurmd daemons.
All slurmd daemons must know each node in the system to forward
messages in support of hierarchical communications.
Only the NodeName must be supplied in the configuration file.
All other node configuration information is optional.
It is advisable to establish baseline node configurations,
especially if the cluster is heterogeneous.
Nodes which register to the system with less than the configured resources
(e.g. too little memory), will be placed in the &quot;DOWN&quot; state to
avoid scheduling jobs on them.
Establishing baseline configurations will also speed Slurm's
scheduling process by permitting it to compare job requirements
against these (relatively few) configuration parameters and
possibly avoid having to check job requirements
against every individual node's configuration.
The resources checked at node registration time are: CPUs,
RealMemory and TmpDisk.
While baseline values for each of these can be established
in the configuration file, the actual values upon node
registration are recorded and these actual values may be
used for scheduling purposes (depending upon the value of
<B>FastSchedule</B> in the configuration file.
<P>

Default values can be specified with a record in which
<B>NodeName</B> is &quot;DEFAULT&quot;.
The default entry values will apply only to lines following it in the
configuration file and the default values can be reset multiple times
in the configuration file with multiple entries where &quot;NodeName=DEFAULT&quot;.
Each line where <B>NodeName</B> is &quot;DEFAULT&quot; will replace or add to previous
default values and not a reinitialize the default values.
The &quot;NodeName=&quot; specification must be placed on every line
describing the configuration of nodes.
A single node name can not appear as a NodeName value in more than one line
(duplicate node name records will be ignored).
In fact, it is generally possible and desirable to define the
configurations of all nodes in only a few lines.
This convention permits significant optimization in the scheduling
of larger clusters.
In order to support the concept of jobs requiring consecutive nodes
on some architectures,
node specifications should be place in this file in consecutive order.
No single node name may be listed more than once in the configuration
file.
Use &quot;DownNodes=&quot; to record the state of nodes which are temporarily
in a DOWN, DRAIN or FAILING state without altering permanent
configuration information.
A job step's tasks are allocated to nodes in order the nodes appear
in the configuration file. There is presently no capability within
Slurm to arbitrarily order a job step's tasks.
<P>

Multiple node names may be comma separated (e.g. &quot;alpha,beta,gamma&quot;)
and/or a simple node range expression may optionally be used to
specify numeric ranges of nodes to avoid building a configuration
file with large numbers of entries.
The node range expression can contain one  pair of square brackets
with a sequence of comma separated numbers and/or ranges of numbers
separated by a &quot;-&quot; (e.g. &quot;linux[0-64,128]&quot;, or &quot;lx[15,18,32-33]&quot;).
Note that the numeric ranges can include one or more leading
zeros to indicate the numeric portion has a fixed number of digits
(e.g. &quot;linux[0000-1023]&quot;).
Multiple numeric ranges can be included in the expression
(e.g. &quot;rack[0-63]_blade[0-41]&quot;).
If one or more numeric expressions are included, one of them
must be at the end of the name (e.g. &quot;unit[0-31]rack&quot; is invalid),
but arbitrary names can always be used in a comma separated list.
<P>

The node configuration specified the following information:
<P>
<DL COMPACT>
<a id="OPT_NodeName"></a>
<DT><B>NodeName</B><DD>
Name that Slurm uses to refer to a node.
Typically this would be the string that &quot;/bin/hostname -s&quot; returns.
It may also be the fully qualified domain name as returned by &quot;/bin/hostname -f&quot;
(e.g. &quot;foo1.bar.com&quot;), or any valid domain name associated with the host
through the host database (/etc/hosts) or DNS, depending on the resolver
settings.  Note that if the short form of the hostname is not used, it
may prevent use of hostlist expressions (the numeric portion in brackets
must be at the end of the string).
It may also be an arbitrary string if <B>NodeHostname</B> is specified.
If the <B>NodeName</B> is &quot;DEFAULT&quot;, the values specified
with that record will apply to subsequent node specifications
unless explicitly set to other values in that node record or
replaced with a different set of default values.
Each line where <B>NodeName</B> is &quot;DEFAULT&quot; will replace or add to previous
default values and not a reinitialize the default values.
For architectures in which the node order is significant,
nodes will be considered consecutive in the order defined.
For example, if the configuration for &quot;NodeName=charlie&quot; immediately
follows the configuration for &quot;NodeName=baker&quot; they will be
considered adjacent in the computer.
<P>
<a id="OPT_NodeHostname"></a>
<DT><B>NodeHostname</B><DD>
Typically this would be the string that &quot;/bin/hostname -s&quot; returns.
It may also be the fully qualified domain name as returned by &quot;/bin/hostname -f&quot;
(e.g. &quot;foo1.bar.com&quot;), or any valid domain name associated with the host
through the host database (/etc/hosts) or DNS, depending on the resolver
settings.  Note that if the short form of the hostname is not used, it
may prevent use of hostlist expressions (the numeric portion in brackets
must be at the end of the string).
A node range expression can be used to specify a set of nodes.
If an expression is used, the number of nodes identified by
<B>NodeHostname</B> on a line in the configuration file must
be identical to the number of nodes identified by <B>NodeName</B>.
By default, the <B>NodeHostname</B> will be identical in value to
<B>NodeName</B>.
<P>
<a id="OPT_NodeAddr"></a>
<DT><B>NodeAddr</B><DD>
Name that a node should be referred to in establishing
a communications path.
This name will be used as an
argument to the gethostbyname() function for identification.
If a node range expression is used to designate multiple nodes,
they must exactly match the entries in the <B>NodeName</B>
(e.g. &quot;NodeName=lx[0-7] NodeAddr=elx[0-7]&quot;).
<B>NodeAddr</B> may also contain IP addresses.
By default, the <B>NodeAddr</B> will be identical in value to
<B>NodeHostname</B>.
<P>
<a id="OPT_Boards_1"></a>
<DT><B>Boards</B><DD>
Number of Baseboards in nodes with a baseboard controller.
Note that when Boards is specified, SocketsPerBoard,
CoresPerSocket, and ThreadsPerCore should be specified.
Boards and CPUs are mutually exclusive.
The default value is 1.
<P>
<a id="OPT_CoreSpecCount"></a>
<DT><B>CoreSpecCount</B><DD>
Number of cores reserved for system use.
These cores will not be available for allocation to user jobs.
Depending upon the <B>TaskPluginParam</B> option of <B>SlurmdOffSpec</B>,
Slurm daemons (i.e. slurmd and slurmstepd) may either be confined to these
resources (the default) or prevented from using these resources.
Isolation of the Slurm daemons from user jobs may improve application performance.
If this option and <B>CpuSpecList</B> are both designated for a
node, an error is generated.  For information on the algorithm used by Slurm
to select the cores refer to the core specialization documentation
( <A HREF="https://slurm.schedmd.com/core_spec.html">https://slurm.schedmd.com/core_spec.html</A> ).
<P>
<a id="OPT_CoresPerSocket"></a>
<DT><B>CoresPerSocket</B><DD>
Number of cores in a single physical processor socket (e.g. &quot;2&quot;).
The CoresPerSocket value describes physical cores, not the
logical number of processors per socket.
<B>NOTE</B>: If you have multi-core processors, you will likely
need to specify this parameter in order to optimize scheduling.
The default value is 1.
<P>
<a id="OPT_CpuBind"></a>
<DT><B>CpuBind</B><DD>
If a job step request does not specify an option to control how tasks are bound
to allocated CPUs (--cpu-bind) and all nodes allocated to the job have the same
<B>CpuBind</B> option the node <B>CpuBind</B> option will control how tasks are
bound to allocated resources. Supported values for <B>CpuBind</B> are &quot;none&quot;,
&quot;board&quot;, &quot;socket&quot;, &quot;ldom&quot; (NUMA), &quot;core&quot; and &quot;thread&quot;.
<P>
<a id="OPT_CPUs"></a>
<DT><B>CPUs</B><DD>
Number of logical processors on the node (e.g. &quot;2&quot;).
CPUs and Boards are mutually exclusive. It can be set to the total
number of sockets, cores or threads. This can be useful when you
want to schedule only the cores on a hyper-threaded node.
If <B>CPUs</B> is omitted, it will be set equal to the product of
<B>Sockets</B>, <B>CoresPerSocket</B>, and <B>ThreadsPerCore</B>.
The default value is 1.
<P>
<a id="OPT_CpuSpecList"></a>
<DT><B>CpuSpecList</B><DD>
A comma delimited list of Slurm abstract CPU IDs reserved for system use.
The list will be expanded to include all other CPUs, if any, on the same cores.
These cores will not be available for allocation to user jobs.
Depending upon the <B>TaskPluginParam</B> option of <B>SlurmdOffSpec</B>,
Slurm daemons (i.e. slurmd and slurmstepd) may either be confined to these
resources (the default) or prevented from using these resources.
Isolation of the Slurm daemons from user jobs may improve application performance.
If this option and <B>CoreSpecCount</B> are both designated for a node,
an error is generated.
This option has no effect unless cgroup job confinement is also configured
(<B>TaskPlugin=task/cgroup</B> with <B>ConstrainCores=yes</B> in cgroup.conf).
<P>
<a id="OPT_Feature"></a>
<DT><B>Feature</B><DD>
A comma delimited list of arbitrary strings indicative of some
characteristic associated with the node.
There is no value associated with a feature at this time, a node
either has a feature or it does not.
If desired a feature may contain a numeric component indicating,
for example, processor speed.
By default a node has no features.
Also see <B>Gres</B>.
<P>
<a id="OPT_Gres_1"></a>
<DT><B>Gres</B><DD>
A comma delimited list of generic resources specifications for a node.
The format is: &quot;&lt;name&gt;[:&lt;type&gt;][:no_consume]:&lt;number&gt;[K|M|G]&quot;.
The first field is the resource name, which matches the GresType configuration
parameter name.
The optional type field might be used to identify a model of that generic
resource.
A generic resource can also be specified as non-consumable (i.e. multiple
jobs can use the same generic resource) with the optional field &quot;:no_consume&quot;.
The final field must specify a generic resources count.
A suffix of &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot; or &quot;P&quot; may be used to multiply the number by
1024, 1048576, 1073741824, etc. respectively.
(e.g.&quot;Gres=gpu:tesla:1,gpu:kepler:1,bandwidth:lustre:no_consume:4G&quot;).
By default a node has no generic resources and its maximum count is
that of an unsigned 64bit integer.
Also see <B>Feature</B>.
<P>
<a id="OPT_MemSpecLimit"></a>
<DT><B>MemSpecLimit</B><DD>
Amount of memory, in megabytes, reserved for system use and not available
for user allocations.
If the task/cgroup plugin is configured and that plugin constrains memory
allocations (i.e. <B>TaskPlugin=task/cgroup</B> in slurm.conf, plus
<B>ConstrainRAMSpace=yes</B> in cgroup.conf), then Slurm compute node daemons
(slurmd plus slurmstepd) will be allocated the specified memory limit. Note that
having the Memory set in <B>SelectTypeParameters</B> as any of the options that
has it as a consumable resource is needed for this option to work.
The daemons will not be killed if they exhaust the memory allocation
(ie. the Out-Of-Memory Killer is disabled for the daemon's memory cgroup).
If the task/cgroup plugin is not configured, the specified memory will only be
unavailable for user allocations.
<P>
<a id="OPT_Port"></a>
<DT><B>Port</B><DD>
The port number that the Slurm compute node daemon, <B>slurmd</B>, listens
to for work on this particular node. By default there is a single port number
for all <B>slurmd</B> daemons on all compute nodes as defined by the
<B>SlurmdPort</B> configuration parameter. Use of this option is not generally
recommended except for development or testing purposes. If multiple
<B>slurmd</B> daemons execute on a node this can specify a range of ports.
<P>
<B>Note</B>: On Cray systems, Realm-Specific IP Addressing (RSIP) will
automatically try to interact with anything opened on ports 8192-60000.
Configure Port to use a port outside of the configured SrunPortRange and
RSIP's port range.
<P>
<a id="OPT_Procs"></a>
<DT><B>Procs</B><DD>
See <B>CPUs</B>.
<P>
<a id="OPT_RealMemory"></a>
<DT><B>RealMemory</B><DD>
Size of real memory on the node in megabytes (e.g. &quot;2048&quot;).
The default value is 1. Lowering RealMemory with the goal of setting
aside some amount for the OS and not available for job allocations
will not work as intended if Memory is not set as a consumable
resource in <B>SelectTypeParameters</B>. So one of the *_Memory
options need to be enabled for that goal to be accomplished.
Also see <B>MemSpecLimit</B>.
<P>
<a id="OPT_Reason"></a>
<DT><B>Reason</B><DD>
Identifies the reason for a node being in state &quot;DOWN&quot;, &quot;DRAINED&quot;
&quot;DRAINING&quot;, &quot;FAIL&quot; or &quot;FAILING&quot;.
Use quotes to enclose a reason having more than one word.
<P>
<a id="OPT_Sockets_1"></a>
<DT><B>Sockets</B><DD>
Number of physical processor sockets/chips on the node (e.g. &quot;2&quot;).
If Sockets is omitted, it will be inferred from
<B>CPUs</B>, <B>CoresPerSocket</B>, and <B>ThreadsPerCore</B>.
<B>NOTE</B>: If you have multi-core processors, you will likely
need to specify these parameters.
Sockets and SocketsPerBoard are mutually exclusive.
If Sockets is specified when Boards is also used,
Sockets is interpreted as SocketsPerBoard rather than total sockets.
The default value is 1.
<P>
<a id="OPT_SocketsPerBoard"></a>
<DT><B>SocketsPerBoard</B><DD>
Number of physical processor sockets/chips on a baseboard.
Sockets and SocketsPerBoard are mutually exclusive.
The default value is 1.
<P>
<a id="OPT_State"></a>
<DT><B>State</B><DD>
State of the node with respect to the initiation of user jobs.
Acceptable values are &quot;CLOUD&quot;, &quot;DOWN&quot;, &quot;DRAIN&quot;, &quot;FAIL&quot;, &quot;FAILING&quot;, &quot;FUTURE&quot;
and &quot;UNKNOWN&quot;.
Node states of &quot;BUSY&quot; and &quot;IDLE&quot; should not be specified in the node
configuration, but set the node state to &quot;UNKNOWN&quot; instead.
Setting the node state to &quot;UNKNOWN&quot; will result in the node state being set to
&quot;BUSY&quot;, &quot;IDLE&quot; or other appropriate state based upon recovered system state
information.
The default value is &quot;UNKNOWN&quot;.
Also see the <B>DownNodes</B> parameter below.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_CLOUD"></a>
<DT><B>CLOUD</B><DD>
Indicates the node exists in the cloud.
It's initial state will be treated as powered down.
The node will be available for use after it's state is recovered from Slurm's
state save file or the slurmd daemon starts on the compute node.
<a id="OPT_DOWN"></a>
<DT><B>DOWN</B><DD>
Indicates the node failed and is unavailable to be allocated work.
<a id="OPT_DRAIN"></a>
<DT><B>DRAIN</B><DD>
Indicates the node is unavailable to be allocated work.on.
<a id="OPT_FAIL"></a>
<DT><B>FAIL</B><DD>
Indicates the node is expected to fail soon, has
no jobs allocated to it, and will not be allocated
to any new jobs.
<a id="OPT_FAILING"></a>
<DT><B>FAILING</B><DD>
Indicates the node is expected to fail soon, has
one or more jobs allocated to it, but will not be allocated
to any new jobs.
<a id="OPT_FUTURE"></a>
<DT><B>FUTURE</B><DD>
Indicates the node is defined for future use and need not
exist when the Slurm daemons are started. These nodes can be made available
for use simply by updating the node state using the scontrol command rather
than restarting the slurmctld daemon. After these nodes are made available,
change their State in the slurm.conf file. Until these nodes are made
available, they will not be seen using any Slurm commands or nor will
any attempt be made to contact them.
<a id="OPT_UNKNOWN"></a>
<DT><B>UNKNOWN</B><DD>
Indicates the node's state is undefined (BUSY or IDLE),
but will be established when the <B>slurmd</B> daemon on that node
registers.
The default value is &quot;UNKNOWN&quot;.
</DL>
</DL>

<P>
<a id="OPT_ThreadsPerCore"></a>
<DT><B>ThreadsPerCore</B><DD>
Number of logical threads in a single physical core (e.g. &quot;2&quot;).
Note that the Slurm can allocate resources to jobs down to the
resolution of a core. If your system is configured with more than
one thread per core, execution of a different job on each thread
is not supported unless you configure <B>SelectTypeParameters=CR_CPU</B>
plus <B>CPUs</B>; do not configure <B>Sockets</B>, <B>CoresPerSocket</B> or
<B>ThreadsPerCore</B>.
A job can execute a one task per thread from within one job step or
execute a distinct job step on each of the threads.
Note also if you are running with more than 1 thread per core and running
the select/cons_res or select/cons_tres plugin then you will want to set
the SelectTypeParameters
variable to something other than CR_CPU to avoid unexpected results.
The default value is 1.
<P>
<a id="OPT_TmpDisk"></a>
<DT><B>TmpDisk</B><DD>
Total size of temporary disk storage in <B>TmpFS</B> in megabytes
(e.g. &quot;16384&quot;). <B>TmpFS</B> (for &quot;Temporary File System&quot;)
identifies the location which jobs should use for temporary storage.
Note this does not indicate the amount of free
space available to the user on the node, only the total file
system size. The system administration should ensure this file
system is purged as needed so that user jobs have access to
most of this space.
The Prolog and/or Epilog programs (specified in the configuration file)
might be used to ensure the file system is kept clean.
The default value is 0.
<P>
<a id="OPT_TRESWeights"></a>
<DT><B>TRESWeights</B> TRESWeights are used to calculate a value that represents how<DD>
busy a node is. Currently only used in federation configurations. TRESWeights
are different from TRESBillingWeights -- which is used for fairshare
calculations.
<P>
TRES weights are specified as a comma-separated list of
<I>&lt;TRES Type&gt;</I>=<I>&lt;TRES Weight&gt;</I> pairs.
<PRE>
e.g.
NodeName=node1 ... TRESWeights=&quot;CPU=1.0,Mem=0.25G,GRES/gpu=2.0&quot;
</PRE>

<P>
By default the weighted TRES value is calculated as the sum of all node TRES
types multiplied by their corresponding TRES weight.
<P>
If PriorityFlags=MAX_TRES is configured, the weighted TRES value is calculated
as the MAX of individual node TRES' (e.g. cpus, mem, gres).
<P>
<a id="OPT_Weight"></a>
<DT><B>Weight</B><DD>
The priority of the node for scheduling purposes.
All things being equal, jobs will be allocated the nodes with
the lowest weight which satisfies their requirements.
For example, a heterogeneous collection of nodes might
be placed into a single partition for greater system
utilization, responsiveness and capability. It would be
preferable to allocate smaller memory nodes rather than larger
memory nodes if either will satisfy a job's requirements.
The units of weight are arbitrary, but larger weights
should be assigned to nodes with more processors, memory,
disk space, higher processor speed, etc.
Note that if a job allocation request can not be satisfied
using the nodes with the lowest weight, the set of nodes
with the next lowest weight is added to the set of nodes
under consideration for use (repeat as needed for higher
weight values). If you absolutely want to minimize the number
of higher weight nodes allocated to a job (at a cost of higher
scheduling overhead), give each node a distinct <B>Weight</B>
value and they will be added to the pool of nodes being
considered for scheduling individually.
The default value is 1.
<P>
</DL>
<P>

The &quot;DownNodes=&quot; configuration permits you to mark certain nodes as in a
DOWN, DRAIN, FAIL, or FAILING state without altering the permanent
configuration information listed under a &quot;NodeName=&quot; specification.
<P>
<DL COMPACT>
<a id="OPT_DownNodes"></a>
<DT><B>DownNodes</B><DD>
Any node name, or list of node names, from the &quot;NodeName=&quot; specifications.
<P>
<a id="OPT_Reason_1"></a>
<DT><B>Reason</B><DD>
Identifies the reason for a node being in state &quot;DOWN&quot;, &quot;DRAIN&quot;,
&quot;FAIL&quot; or &quot;FAILING.
Use quotes to enclose a reason having more than one word.
<P>
<a id="OPT_State_1"></a>
<DT><B>State</B><DD>
State of the node with respect to the initiation of user jobs.
Acceptable values are &quot;DOWN&quot;, &quot;DRAIN&quot;, &quot;FAIL&quot;, &quot;FAILING&quot; and &quot;UNKNOWN&quot;.
Node states of &quot;BUSY&quot; and &quot;IDLE&quot; should not be specified in the node
configuration, but set the node state to &quot;UNKNOWN&quot; instead.
Setting the node state to &quot;UNKNOWN&quot; will result in the node state being set to
&quot;BUSY&quot;, &quot;IDLE&quot; or other appropriate state based upon recovered system state
information.
The default value is &quot;UNKNOWN&quot;.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_DOWN_1"></a>
<DT><B>DOWN</B><DD>
Indicates the node failed and is unavailable to be allocated work.
<a id="OPT_DRAIN_1"></a>
<DT><B>DRAIN</B><DD>
Indicates the node is unavailable to be allocated work.on.
<a id="OPT_FAIL_1"></a>
<DT><B>FAIL</B><DD>
Indicates the node is expected to fail soon, has
no jobs allocated to it, and will not be allocated
to any new jobs.
<a id="OPT_FAILING_1"></a>
<DT><B>FAILING</B><DD>
Indicates the node is expected to fail soon, has
one or more jobs allocated to it, but will not be allocated
to any new jobs.
<a id="OPT_UNKNOWN_1"></a>
<DT><B>UNKNOWN</B><DD>
Indicates the node's state is undefined (BUSY or IDLE),
but will be established when the <B>slurmd</B> daemon on that node
registers.
The default value is &quot;UNKNOWN&quot;.
</DL>
</DL>

<P>
</DL>
<P>

On computers where frontend nodes are used to execute batch scripts
rather than compute nodes (Cray ALPS systems), one may configure one or more
frontend nodes using the configuration parameters defined below. These options
are very similar to those used in configuring compute nodes. These options may
only be used on systems configured and built with the appropriate parameters
(--have-front-end) or a system determined to have the appropriate
architecture by the configure script (Cray ALPS systems).
The front end configuration specifies the following information:
<P>
<DL COMPACT>
<a id="OPT_AllowGroups"></a>
<DT><B>AllowGroups</B><DD>
Comma separated list of group names which may execute jobs on this front end
node. By default, all groups may use this front end node.
If <B>at least</B> one group associated with the user attempting to execute the
job is in AllowGroups, he will be permitted to use this front end node.
May not be used with the <B>DenyGroups</B> option.
<P>
<a id="OPT_AllowUsers"></a>
<DT><B>AllowUsers</B><DD>
Comma separated list of user names which may execute jobs on this front end
node. By default, all users may use this front end node.
May not be used with the <B>DenyUsers</B> option.
<P>
<a id="OPT_DenyGroups"></a>
<DT><B>DenyGroups</B><DD>
Comma separated list of group names which are prevented from executing jobs on
this front end node.
May not be used with the <B>AllowGroups</B> option.
<P>
<a id="OPT_DenyUsers"></a>
<DT><B>DenyUsers</B><DD>
Comma separated list of user names which are prevented from executing jobs on
this front end node.
May not be used with the <B>AllowUsers</B> option.
<P>
<a id="OPT_FrontendName"></a>
<DT><B>FrontendName</B><DD>
Name that Slurm uses to refer to a frontend node.
Typically this would be the string that &quot;/bin/hostname -s&quot; returns.
It may also be the fully qualified domain name as returned by &quot;/bin/hostname -f&quot;
(e.g. &quot;foo1.bar.com&quot;), or any valid domain name associated with the host
through the host database (/etc/hosts) or DNS, depending on the resolver
settings.  Note that if the short form of the hostname is not used, it
may prevent use of hostlist expressions (the numeric portion in brackets
must be at the end of the string).
If the <B>FrontendName</B> is &quot;DEFAULT&quot;, the values specified
with that record will apply to subsequent node specifications
unless explicitly set to other values in that frontend node record or
replaced with a different set of default values.
Each line where <B>FrontendName</B> is &quot;DEFAULT&quot; will replace or add to previous
default values and not a reinitialize the default values.
Note that since the naming of front end nodes would typically not follow that
of the compute nodes (e.g. lacking X, Y and Z coordinates found in the compute
node naming scheme), each front end node name should be listed separately and
without a hostlist expression (i.e. frontend00,frontend01&quot; rather than
&quot;frontend[00-01]&quot;).&lt;/p&gt;
<P>
<a id="OPT_FrontendAddr"></a>
<DT><B>FrontendAddr</B><DD>
Name that a frontend node should be referred to in establishing
a communications path. This name will be used as an
argument to the gethostbyname() function for identification.
As with <B>FrontendName</B>, list the individual node addresses rather than
using a hostlist expression.
The number of <B>FrontendAddr</B> records per line must equal the number of
<B>FrontendName</B> records per line (i.e. you can't map to node names to
one address).
<B>FrontendAddr</B> may also contain IP addresses.
By default, the <B>FrontendAddr</B> will be identical in value to
<B>FrontendName</B>.
<P>
<a id="OPT_Port_1"></a>
<DT><B>Port</B><DD>
The port number that the Slurm compute node daemon, <B>slurmd</B>, listens
to for work on this particular frontend node. By default there is a single port
number for all <B>slurmd</B> daemons on all frontend nodes as defined by the
<B>SlurmdPort</B> configuration parameter. Use of this option is not generally
recommended except for development or testing purposes.
<P>
<B>Note</B>: On Cray systems, Realm-Specific IP Addressing (RSIP) will
automatically try to interact with anything opened on ports 8192-60000.
Configure Port to use a port outside of the configured SrunPortRange and
RSIP's port range.
<P>
<a id="OPT_Reason_2"></a>
<DT><B>Reason</B><DD>
Identifies the reason for a frontend node being in state &quot;DOWN&quot;, &quot;DRAINED&quot;
&quot;DRAINING&quot;, &quot;FAIL&quot; or &quot;FAILING&quot;.
Use quotes to enclose a reason having more than one word.
<P>
<a id="OPT_State_2"></a>
<DT><B>State</B><DD>
State of the frontend node with respect to the initiation of user jobs.
Acceptable values are &quot;DOWN&quot;, &quot;DRAIN&quot;, &quot;FAIL&quot;, &quot;FAILING&quot; and &quot;UNKNOWN&quot;.
&quot;DOWN&quot; indicates the frontend node has failed and is unavailable to be
allocated work.
&quot;DRAIN&quot; indicates the frontend node is unavailable to be allocated work.
&quot;FAIL&quot; indicates the frontend node is expected to fail soon, has
no jobs allocated to it, and will not be allocated to any new jobs.
&quot;FAILING&quot; indicates the frontend node is expected to fail soon, has
one or more jobs allocated to it, but will not be allocated to any new jobs.
&quot;UNKNOWN&quot; indicates the frontend node's state is undefined (BUSY or IDLE),
but will be established when the <B>slurmd</B> daemon on that node registers.
The default value is &quot;UNKNOWN&quot;.
Also see the <B>DownNodes</B> parameter below.
<P>
For example: &quot;FrontendName=frontend[00-03] FrontendAddr=efrontend[00-03]
State=UNKNOWN&quot; is used to define four front end nodes for running slurmd
daemons.
<P>
</DL>
<P>

The partition configuration permits you to establish different job
limits or access controls for various groups (or partitions) of nodes.
Nodes may be in more than one partition, making partitions serve
as general purpose queues.
For example one may put the same set of nodes into two different
partitions, each with different constraints (time limit, job sizes,
groups allowed to use the partition, etc.).
Jobs are allocated resources within a single partition.
Default values can be specified with a record in which
<B>PartitionName</B> is &quot;DEFAULT&quot;.
The default entry values will apply only to lines following it in the
configuration file and the default values can be reset multiple times
in the configuration file with multiple entries where &quot;PartitionName=DEFAULT&quot;.
The &quot;PartitionName=&quot; specification must be placed on every line
describing the configuration of partitions.
Each line where <B>PartitionName</B> is &quot;DEFAULT&quot; will replace or add to previous
default values and not a reinitialize the default values.
A single partition name can not appear as a PartitionName value in more than
one line (duplicate partition name records will be ignored).
If a partition that is in use is deleted from the configuration and slurm
is restarted or reconfigured (scontrol reconfigure), jobs using the partition
are canceled.
<B>NOTE:</B> Put all parameters for each partition on a single line.
Each line of partition configuration information should
represent a different partition.
The partition configuration file contains the following information:
<P>
<DL COMPACT>
<a id="OPT_AllocNodes"></a>
<DT><B>AllocNodes</B><DD>
Comma separated list of nodes from which users can submit jobs in the
partition.
Node names may be specified using the node range expression syntax
described above.
The default value is &quot;ALL&quot;.
<P>
<a id="OPT_AllowAccounts"></a>
<DT><B>AllowAccounts</B><DD>
Comma separated list of accounts which may execute jobs in the partition.
The default value is &quot;ALL&quot;.
<B>NOTE:</B> If AllowAccounts is used then DenyAccounts will not be enforced.
Also refer to DenyAccounts.
<P>
<a id="OPT_AllowGroups_1"></a>
<DT><B>AllowGroups</B><DD>
Comma separated list of group names which may execute jobs in the partition.
If <B>at least</B> one group associated with the user attempting to execute the
job is in AllowGroups, he will be permitted to use this partition.
Jobs executed as user root can use any partition without regard to
the value of AllowGroups.
If user root attempts to execute a job as another user (e.g. using
srun's --uid option), this other user must be in one of groups
identified by AllowGroups for the job to successfully execute.
The default value is &quot;ALL&quot;.
When set, all partitions that a user does not have access will be hidden from
display regardless of the settings used for PrivateData.
<B>NOTE:</B> For performance reasons, Slurm maintains a list of user IDs
allowed to use each partition and this is checked at job submission time.
This list of user IDs is updated when the <B>slurmctld</B> daemon is restarted,
reconfigured (e.g. &quot;scontrol reconfig&quot;) or the partition's <B>AllowGroups</B>
value is reset, even if is value is unchanged
(e.g. &quot;scontrol update PartitionName=name AllowGroups=group&quot;).
For a user's access to a partition to change, both his group membership must
change and Slurm's internal user ID list must change using one of the methods
described above.
<P>
<a id="OPT_AllowQos"></a>
<DT><B>AllowQos</B><DD>
Comma separated list of Qos which may execute jobs in the partition.
Jobs executed as user root can use any partition without regard to
the value of AllowQos.
The default value is &quot;ALL&quot;.
<B>NOTE:</B> If AllowQos is used then DenyQos will not be enforced.
Also refer to DenyQos.
<P>
<a id="OPT_Alternate"></a>
<DT><B>Alternate</B><DD>
Partition name of alternate partition to be used if the state of this partition
is &quot;DRAIN&quot; or &quot;INACTIVE.&quot;
<P>
<a id="OPT_CpuBind_1"></a>
<DT><B>CpuBind</B><DD>
If a job step request does not specify an option to control how tasks are bound
to allocated CPUs (--cpu-bind) and all nodes allocated to the job do not have
the same <B>CpuBind</B> option the node. Then the partition's <B>CpuBind</B>
option will control how tasks are bound to allocated resources.
Supported values for<B>CpuBind</B> are &quot;none&quot;, &quot;board&quot;, &quot;socket&quot;, &quot;ldom&quot; (NUMA),
&quot;core&quot; and &quot;thread&quot;.
<P>
<a id="OPT_Default"></a>
<DT><B>Default</B><DD>
If this keyword is set, jobs submitted without a partition
specification will utilize this partition.
Possible values are &quot;YES&quot; and &quot;NO&quot;.
The default value is &quot;NO&quot;.
<P>
<a id="OPT_DefCpuPerGPU_1"></a>
<DT><B>DefCpuPerGPU</B><DD>
Default count of CPUs allocated per allocated GPU.
<P>
<a id="OPT_DefMemPerCPU_1"></a>
<DT><B>DefMemPerCPU</B><DD>
Default real memory size available per allocated CPU in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>DefMemPerCPU</B> would generally be used if individual processors
are allocated to jobs (<B>SelectType=select/cons_res</B> or
<B>SelectType=select/cons_tres</B>).
If not set, the <B>DefMemPerCPU</B> value for the entire cluster will be used.
Also see <B>DefMemPerGPU</B>, <B>DefMemPerNode</B> and <B>MaxMemPerCPU</B>.
<B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>DefMemPerNode</B> are mutually
exclusive.
<P>
<a id="OPT_DefMemPerGPU_1"></a>
<DT><B>DefMemPerGPU</B><DD>
Default real memory size available per allocated GPU in megabytes.
Also see <B>DefMemPerCPU</B>, <B>DefMemPerNode</B> and <B>MaxMemPerCPU</B>.
<B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>DefMemPerNode</B> are mutually
exclusive.
<P>
<a id="OPT_DefMemPerNode_1"></a>
<DT><B>DefMemPerNode</B><DD>
Default real memory size available per allocated node in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>DefMemPerNode</B> would generally be used if whole nodes
are allocated to jobs (<B>SelectType=select/linear</B>) and
resources are over-subscribed (<B>OverSubscribe=yes</B> or
<B>OverSubscribe=force</B>).
If not set, the <B>DefMemPerNode</B> value for the entire cluster will be used.
Also see <B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>MaxMemPerCPU</B>.
<B>DefMemPerCPU</B>, <B>DefMemPerGPU</B> and <B>DefMemPerNode</B> are mutually
exclusive.
<P>
<a id="OPT_DenyAccounts"></a>
<DT><B>DenyAccounts</B><DD>
Comma separated list of accounts which may not execute jobs in the partition.
By default, no accounts are denied access
<B>NOTE:</B> If AllowAccounts is used then DenyAccounts will not be enforced.
Also refer to AllowAccounts.
<P>
<a id="OPT_DenyQos"></a>
<DT><B>DenyQos</B><DD>
Comma separated list of Qos which may not execute jobs in the partition.
By default, no QOS are denied access
<B>NOTE:</B> If AllowQos is used then DenyQos will not be enforced.
Also refer AllowQos.
<P>
<a id="OPT_DefaultTime"></a>
<DT><B>DefaultTime</B><DD>
Run time limit used for jobs that don't specify a value. If not set
then MaxTime will be used.
Format is the same as for MaxTime.
<P>
<a id="OPT_DisableRootJobs_1"></a>
<DT><B>DisableRootJobs</B><DD>
If set to &quot;YES&quot; then user root will be prevented from running any jobs
on this partition.
The default value will be the value of <B>DisableRootJobs</B> set
outside of a partition specification (which is &quot;NO&quot;, allowing user
root to execute jobs).
<P>
<a id="OPT_ExclusiveUser"></a>
<DT><B>ExclusiveUser</B><DD>
If set to &quot;YES&quot; then nodes will be exclusively allocated to users.
Multiple jobs may be run for the same user, but only one user can be active
at a time.
This capability is also available on a per-job basis by using the
<B>--exclusive=user</B> option.
<P>
<a id="OPT_GraceTime"></a>
<DT><B>GraceTime</B><DD>
Specifies, in units of seconds, the preemption grace time
to be extended to a job which has been selected for preemption.
The default value is zero, no preemption grace time is allowed on
this partition.
Once a job has been selected for preemption, its end time is set to the current
time plus GraceTime. The job's tasks are immediately sent SIGCONT and SIGTERM
signals in order to provide notification of its imminent termination.
This is followed by the SIGCONT, SIGTERM and SIGKILL signal sequence upon
reaching its new end time. This second set of signals is sent to both the
tasks <B>and</B> the containing batch script, if applicable.
Meaningful only for PreemptMode=CANCEL.
See also the global <B>KillWait</B> configuration parameter.
<P>
<a id="OPT_Hidden"></a>
<DT><B>Hidden</B><DD>
Specifies if the partition and its jobs are to be hidden by default.
Hidden partitions will by default not be reported by the Slurm APIs or commands.
Possible values are &quot;YES&quot; and &quot;NO&quot;.
The default value is &quot;NO&quot;.
Note that partitions that a user lacks access to by virtue of the
<B>AllowGroups</B> parameter will also be hidden by default.
<P>
<a id="OPT_LLN"></a>
<DT><B>LLN</B><DD>
Schedule resources to jobs on the least loaded nodes (based upon the number
of idle CPUs). This is generally only recommended for an environment with
serial jobs as idle resources will tend to be highly fragmented, resulting
in parallel jobs being distributed across many nodes.
Note that node <B>Weight</B> takes precedence over how many idle resources are
on each node.
Also see the <B>SelectParameters</B> configuration parameter <B>CR_LLN</B> to
use the least loaded nodes in every partition.
<P>
<a id="OPT_MaxCPUsPerNode"></a>
<DT><B>MaxCPUsPerNode</B><DD>
Maximum number of CPUs on any node available to all jobs from this partition.
This can be especially useful to schedule GPUs. For example a node can be
associated with two Slurm partitions (e.g. &quot;cpu&quot; and &quot;gpu&quot;) and the
partition/queue &quot;cpu&quot; could be limited to only a subset of the node's CPUs,
ensuring that one or more CPUs would be available to jobs in the &quot;gpu&quot;
partition/queue.
<P>
<a id="OPT_MaxMemPerCPU_1"></a>
<DT><B>MaxMemPerCPU</B><DD>
Maximum real memory size available per allocated CPU in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>MaxMemPerCPU</B> would generally be used if individual processors
are allocated to jobs (<B>SelectType=select/cons_res</B> or
<B>SelectType=select/cons_tres</B>).
If not set, the <B>MaxMemPerCPU</B> value for the entire cluster will be used.
Also see <B>DefMemPerCPU</B> and <B>MaxMemPerNode</B>.
<B>MaxMemPerCPU</B> and <B>MaxMemPerNode</B> are mutually exclusive.
<P>
<a id="OPT_MaxMemPerNode_1"></a>
<DT><B>MaxMemPerNode</B><DD>
Maximum real memory size available per allocated node in megabytes.
Used to avoid over-subscribing memory and causing paging.
<B>MaxMemPerNode</B> would generally be used if whole nodes
are allocated to jobs (<B>SelectType=select/linear</B>) and
resources are over-subscribed (<B>OverSubscribe=yes</B> or
<B>OverSubscribe=force</B>).
If not set, the <B>MaxMemPerNode</B> value for the entire cluster will be used.
Also see <B>DefMemPerNode</B> and <B>MaxMemPerCPU</B>.
<B>MaxMemPerCPU</B> and <B>MaxMemPerNode</B> are mutually exclusive.
<P>
<a id="OPT_MaxNodes"></a>
<DT><B>MaxNodes</B><DD>
Maximum count of nodes which may be allocated to any single job.
The default value is &quot;UNLIMITED&quot;, which is represented internally as -1.
This limit does not apply to jobs executed by SlurmUser or user root.
<P>
<a id="OPT_MaxTime"></a>
<DT><B>MaxTime</B><DD>
Maximum run time limit for jobs.
Format is minutes, minutes:seconds, hours:minutes:seconds,
days-hours, days-hours:minutes, days-hours:minutes:seconds or
&quot;UNLIMITED&quot;.
Time resolution is one minute and second values are rounded up to
the next minute.
This limit does not apply to jobs executed by SlurmUser or user root.
<P>
<a id="OPT_MinNodes"></a>
<DT><B>MinNodes</B><DD>
Minimum count of nodes which may be allocated to any single job.
The default value is 0.
This limit does not apply to jobs executed by SlurmUser or user root.
<P>
<a id="OPT_Nodes"></a>
<DT><B>Nodes</B><DD>
Comma separated list of nodes which are associated with this partition.
Node names may be specified using the node range expression syntax
described above. A blank list of nodes
(i.e. &quot;Nodes= &quot;) can be used if one wants a partition to exist,
but have no resources (possibly on a temporary basis).
A value of &quot;ALL&quot; is mapped to all nodes configured in the cluster.
<P>
<a id="OPT_OverSubscribe"></a>
<DT><B>OverSubscribe</B><DD>
Controls the ability of the partition to execute more than one job at a
time on each resource (node, socket or core depending upon the value
of <B>SelectTypeParameters</B>).
If resources are to be over-subscribed, avoiding memory over-subscription
is very important.
<B>SelectTypeParameters</B> should be configured to treat
memory as a consumable resource and the <B>--mem</B> option
should be used for job allocations.
Sharing of resources is typically useful only when using gang scheduling
(<B>PreemptMode=suspend,gang</B>).
Possible values for <B>OverSubscribe</B> are &quot;EXCLUSIVE&quot;, &quot;FORCE&quot;, &quot;YES&quot;, and &quot;NO&quot;.
Note that a value of &quot;YES&quot; or &quot;FORCE&quot; can negatively impact performance
for systems with many thousands of running jobs.
The default value is &quot;NO&quot;.
For more information see the following web pages:
<BR>


<I><a href="cons_res.html">cons_res</a></I>,
<BR>

<I><a href="cons_res_share.html">cons_res_share</a></I>,
<BR>

<I><a href="gang_scheduling.html">gang_scheduling</a></I>, and
<BR>

<I><a href="preempt.html">preempt</a></I>.

<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_EXCLUSIVE"></a>
<DT><B>EXCLUSIVE</B><DD>
Allocates entire nodes to jobs even with <B>SelectType=select/cons_res</B> or
<B>SelectType=select/cons_tres</B> configured.
Jobs that run in partitions with &quot;OverSubscribe=EXCLUSIVE&quot; will have
exclusive access to all allocated nodes.
<a id="OPT_FORCE"></a>
<DT><B>FORCE</B><DD>
Makes all resources in the partition available for oversubscription without
any means for users to disable it.
May be followed with a colon and maximum number of jobs in
running or suspended state.
For example &quot;OverSubscribe=FORCE:4&quot; enables each node, socket or
core to oversubscribe each resource four ways.
Recommended only for systems running with gang scheduling
(<B>PreemptMode=suspend,gang</B>).
NOTE: <I>PreemptType=QOS</I> will permit one additional job to be run
on the partition if started due to job preemption. For example, a configuration
of <I>OverSubscribe=FORCE:1</I> will only permit one job per resources normally,
but a second job can be started if done so through preemption based upon QOS.
The use of <I>PreemptType=QOS</I> and <I>PreemptType=Suspend</I> only applies
with <B>SelectType=select/cons_res</B> or <B>SelectType=select/cons_tres</B>.
<a id="OPT_YES"></a>
<DT><B>YES</B><DD>
Makes all resources in the partition available for sharing upon request by
the job.
Resources will only be over-subscribed when explicitly requested
by the user using the &quot;--oversubscribe&quot; option on job submission.
May be followed with a colon and maximum number of jobs in
running or suspended state.
For example &quot;OverSubscribe=YES:4&quot; enables each node, socket or
core to execute up to four jobs at once.
Recommended only for systems running with gang scheduling
(<B>PreemptMode=suspend,gang</B>).
<a id="OPT_NO"></a>
<DT><B>NO</B><DD>
Selected resources are allocated to a single job. No resource will be
allocated to more than one job.
</DL>
</DL>

<P>
<a id="OPT_PartitionName"></a>
<DT><B>PartitionName</B><DD>
Name by which the partition may be referenced (e.g. &quot;Interactive&quot;).
This name can be specified by users when submitting jobs.
If the <B>PartitionName</B> is &quot;DEFAULT&quot;, the values specified
with that record will apply to subsequent partition specifications
unless explicitly set to other values in that partition record or
replaced with a different set of default values.
Each line where <B>PartitionName</B> is &quot;DEFAULT&quot; will replace or add to previous
default values and not a reinitialize the default values.
<P>
<a id="OPT_PreemptMode_1"></a>
<DT><B>PreemptMode</B><DD>
Mechanism used to preempt jobs from this partition when
<B>PreemptType=preempt/partition_prio</B> is configured.
This partition specific <B>PreemptMode</B> configuration parameter will override
the <B>PreemptMode</B> configuration parameter set for the cluster as a whole.
The cluster-level <B>PreemptMode</B> must include the GANG option if
<B>PreemptMode</B> is configured to SUSPEND for any partition.
The cluster-level <B>PreemptMode</B> must not be OFF if <B>PreemptMode</B>
is enabled for any  partition.
See the description of the cluster-level <B>PreemptMode</B> configuration
parameter above for further information.
<P>
<a id="OPT_PriorityJobFactor"></a>
<DT><B>PriorityJobFactor</B><DD>
Partition factor used by priority/multifactor plugin in calculating job priority.
The value may not exceed 65533.
Also see PriorityTier.
<P>
<a id="OPT_PriorityTier"></a>
<DT><B>PriorityTier</B><DD>
Jobs submitted to a partition with a higher priority tier value will be
dispatched before pending jobs in partition with lower priority tier value and,
if possible, they will preempt running jobs from partitions with lower priority
tier values.
Note that a partition's priority tier takes precedence over a job's priority.
The value may not exceed 65533.
Also see PriorityJobFactor.
<P>
<a id="OPT_QOS"></a>
<DT><B>QOS</B><DD>
Used to extend the limits available to a QOS on a partition.  Jobs will not be
associated to this QOS outside of being associated to the partition.  They
will still be associated to their requested QOS.
By default, no QOS is used.
<B>NOTE:</B> If a limit is set in both the Partition's QOS and the Job's QOS
the Partition QOS will be honored unless the Job's QOS has the
<B>OverPartQOS</B> flag set in which the Job's QOS will have priority.
<P>
<a id="OPT_ReqResv"></a>
<DT><B>ReqResv</B><DD>
Specifies users of this partition are required to designate a reservation
when submitting a job. This option can be useful in restricting usage
of a partition that may have higher priority or additional resources to be
allowed only within a reservation.
Possible values are &quot;YES&quot; and &quot;NO&quot;.
The default value is &quot;NO&quot;.
<P>
<a id="OPT_RootOnly"></a>
<DT><B>RootOnly</B><DD>
Specifies if only user ID zero (i.e. user <I>root</I>) may allocate resources
in this partition. User root may allocate resources for any other user,
but the request must be initiated by user root.
This option can be useful for a partition to be managed by some
external entity (e.g. a higher-level job manager) and prevents
users from directly using those resources.
Possible values are &quot;YES&quot; and &quot;NO&quot;.
The default value is &quot;NO&quot;.
<P>
<a id="OPT_SelectTypeParameters_1"></a>
<DT><B>SelectTypeParameters</B><DD>
Partition-specific resource allocation type.
This option replaces the global <B>SelectTypeParameters</B> value.
Supported values are <B>CR_Core</B>, <B>CR_Core_Memory</B>, <B>CR_Socket</B> and
<B>CR_Socket_Memory</B>.
Use requires the system-wide <B>SelectTypeParameters</B> value be set to
any of the four supported values previously listed; otherwise, the
partition-specific value will be ignored.
<P>
<a id="OPT_Shared"></a>
<DT><B>Shared</B><DD>
The <B>Shared</B> configuration parameter has been replaced by the
<B>OverSubscribe</B> parameter described above.
<P>
<a id="OPT_State_3"></a>
<DT><B>State</B><DD>
State of partition or availability for use.  Possible values
are &quot;UP&quot;, &quot;DOWN&quot;, &quot;DRAIN&quot; and &quot;INACTIVE&quot;. The default value is &quot;UP&quot;.
See also the related &quot;Alternate&quot; keyword.
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_UP"></a>
<DT><B>UP</B><DD>
Designates that new jobs may queued on the partition, and that
jobs may be allocated nodes and run from the partition.
<a id="OPT_DOWN_2"></a>
<DT><B>DOWN</B><DD>
Designates that new jobs may be queued on the partition, but
queued jobs may not be allocated nodes and run from the partition. Jobs
already running on the partition continue to run. The jobs
must be explicitly canceled to force their termination.
<a id="OPT_DRAIN_2"></a>
<DT><B>DRAIN</B><DD>
Designates that no new jobs may be queued on the partition (job
submission requests will be denied with an error message), but jobs
already queued on the partition may be allocated nodes and run.
See also the &quot;Alternate&quot; partition specification.
<a id="OPT_INACTIVE"></a>
<DT><B>INACTIVE</B><DD>
Designates that no new jobs may be queued on the partition,
and jobs already queued may not be allocated nodes and run.
See also the &quot;Alternate&quot; partition specification.
</DL>
</DL>

<P>
<a id="OPT_TRESBillingWeights"></a>
<DT><B>TRESBillingWeights</B><DD>
TRESBillingWeights is used to define the billing weights of each TRES type that
will be used in calculating the usage of a job. The calculated usage is used
when calculating fairshare and when enforcing the TRES billing limit on jobs.
<P>
Billing weights are specified as a comma-separated list of
<I>&lt;TRES Type&gt;</I>=<I>&lt;TRES Billing Weight&gt;</I> pairs.
<P>
Any TRES Type is available for billing. Note that the base unit for memory and
burst buffers is megabytes.
<P>
By default the billing of TRES is calculated as the sum of all TRES types
multiplied by their corresponding billing weight.
<P>
The weighted amount of a resource can be adjusted by adding a suffix of K,M,G,T
or P after the billing weight. For example, a memory weight of &quot;mem=.25&quot; on a
job allocated 8GB will be billed 2048 (8192MB *.25) units. A memory weight of
&quot;mem=.25G&quot; on the same job will be billed 2 (8192MB * (.25/1024)) units.
<P>
Negative values are allowed.
<P>
When a job is allocated 1 CPU and 8 GB of memory on a partition configured with
TRESBillingWeights=&quot;CPU=1.0,Mem=0.25G,GRES/gpu=2.0&quot;, the billable TRES will be:
(1*1.0) + (8*0.25) + (0*2.0) = 3.0.
<P>
If PriorityFlags=MAX_TRES is configured, the billable TRES is calculated as the
MAX of individual TRES' on a node (e.g. cpus, mem, gres) plus the sum of all
global TRES' (e.g. licenses). Using the same example above the billable TRES
will be MAX(1*1.0, 8*0.25) + (0*2.0) = 2.0.
<P>
If TRESBillingWeights is not defined then the job is billed against the total
number of allocated CPUs.
<P>
<B>NOTE:</B> TRESBillingWeights doesn't affect job priority directly as it is
currently not used for the size of the job. If you want TRES' to play a role in
the job's priority then refer to the PriorityWeightTRES option.
<P>

<P>
</DL>
<A NAME="lbAE">&nbsp;</A>
<a id="SECTION_Prolog-and-Epilog-Scripts"></a>
<H2>Prolog and Epilog Scripts</H2>

There are a variety of prolog and epilog program options that
execute with various permissions and at various times.
The four options most likely to be used are:
<B>Prolog</B> and <B>Epilog</B> (executed once on each compute node
for each job) plus <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B>
(executed once on the <B>ControlMachine</B> for each job).
<P>
NOTE:  Standard output and error messages are normally not preserved.
Explicitly write output and error messages to an appropriate location
if you wish to preserve that information.
<P>
NOTE:  By default the Prolog script is ONLY run on any individual
node when it first sees a job step from a new allocation; it does not
run the Prolog immediately when an allocation is granted.  If no job steps
from an allocation are run on a node, it will never run the Prolog for that
allocation.  This Prolog behaviour can be changed by the
<B>PrologFlags</B> parameter.  The Epilog, on the other hand, always
runs on every node of an allocation when the allocation is released.
<P>
If the Epilog fails (returns a non-zero exit code), this will result in the
node being set to a DRAIN state.
If the EpilogSlurmctld fails (returns a non-zero exit code), this will only
be logged.
If the Prolog fails (returns a non-zero exit code), this will result in the
node being set to a DRAIN state and the job being requeued in a held state
unless <B>nohold_on_prolog_fail</B> is configured in
<B>SchedulerParameters</B>.
If the PrologSlurmctld fails (returns a non-zero exit code), this will result
in the job requeued to executed on another node if possible. Only batch jobs
can be requeued.
<BR>&nbsp;Interactive&nbsp;jobs&nbsp;(salloc&nbsp;and&nbsp;srun)&nbsp;will&nbsp;be&nbsp;cancelled&nbsp;if&nbsp;the
PrologSlurmctld fails.
<P>
<P>
Information about the job is passed to the script using environment
variables.
Unless otherwise specified, these environment variables are available
to all of the programs.
<DL COMPACT>
<a id="OPT_SLURM_ARRAY_JOB_ID"></a>
<DT><B>SLURM_ARRAY_JOB_ID</B><DD>
If this job is part of a job array, this will be set to the job ID.
Otherwise it will not be set.
To reference this specific task of a job array, combine
SLURM_ARRAY_JOB_ID with SLURM_ARRAY_TASK_ID
(e.g. &quot;scontrol update ${SLURM_ARRAY_JOB_ID}_{$SLURM_ARRAY_TASK_ID} ...&quot;);
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_ARRAY_TASK_ID"></a>
<DT><B>SLURM_ARRAY_TASK_ID</B><DD>
If this job is part of a job array, this will be set to the task ID.
Otherwise it will not be set.
To reference this specific task of a job array, combine
SLURM_ARRAY_JOB_ID with SLURM_ARRAY_TASK_ID
(e.g. &quot;scontrol update ${SLURM_ARRAY_JOB_ID}_{$SLURM_ARRAY_TASK_ID} ...&quot;);
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_ARRAY_TASK_MAX"></a>
<DT><B>SLURM_ARRAY_TASK_MAX</B><DD>
If this job is part of a job array, this will be set to the maximum
task ID.
Otherwise it will not be set.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_ARRAY_TASK_MIN"></a>
<DT><B>SLURM_ARRAY_TASK_MIN</B><DD>
If this job is part of a job array, this will be set to the minimum
task ID.
Otherwise it will not be set.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_ARRAY_TASK_STEP"></a>
<DT><B>SLURM_ARRAY_TASK_STEP</B><DD>
If this job is part of a job array, this will be set to the step
size of task IDs.
Otherwise it will not be set.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_CLUSTER_NAME"></a>
<DT><B>SLURM_CLUSTER_NAME</B><DD>
Name of the cluster executing the job.
<a id="OPT_SLURM_JOB_ACCOUNT"></a>
<DT><B>SLURM_JOB_ACCOUNT</B><DD>
Account name used for the job.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_CONSTRAINTS"></a>
<DT><B>SLURM_JOB_CONSTRAINTS</B><DD>
Features required to run the job.
Available in <B>Prolog</B>, <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_DERIVED_EC"></a>
<DT><B>SLURM_JOB_DERIVED_EC</B><DD>
The highest exit code of all of the job steps.
Available in <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_EXIT_CODE"></a>
<DT><B>SLURM_JOB_EXIT_CODE</B><DD>
The exit code of the job script (or salloc). The value is the status
as returned by the wait() system call (See <A HREF="/man/man2html?2+wait">wait</A>(2))
Available in <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_EXIT_CODE2"></a>
<DT><B>SLURM_JOB_EXIT_CODE2</B><DD>
The exit code of the job script (or salloc). The value has the format
&lt;exit&gt;:&lt;sig&gt;. The first number is the exit code, typically as set by the
exit() function. The second number of the signal that caused the process to
terminate if it was terminated by a signal.
Available in <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_GID"></a>
<DT><B>SLURM_JOB_GID</B><DD>
Group ID of the job's owner.
Available in <B>PrologSlurmctld</B>, <B>EpilogSlurmctld</B> and <B>TaskProlog</B> only.
<a id="OPT_SLURM_JOB_GPUS"></a>
<DT><B>SLURM_JOB_GPUS</B><DD>
GPU IDs allocated to the job (if any).
Available in the <B>Prolog</B> only.
<a id="OPT_SLURM_JOB_GROUP"></a>
<DT><B>SLURM_JOB_GROUP</B><DD>
Group name of the job's owner.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_ID"></a>
<DT><B>SLURM_JOB_ID</B><DD>
Job ID.
CAUTION: If this job is the first task of a job array, then Slurm commands using
this job ID will refer to the entire job array rather than this specific task
of the job array.
<a id="OPT_SLURM_JOB_NAME"></a>
<DT><B>SLURM_JOB_NAME</B><DD>
Name of the job.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_NODELIST"></a>
<DT><B>SLURM_JOB_NODELIST</B><DD>
Nodes assigned to job. A Slurm hostlist expression.
&quot;scontrol show hostnames&quot; can be used to convert this to a
list of individual host names.
Available in <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_PARTITION"></a>
<DT><B>SLURM_JOB_PARTITION</B><DD>
Partition that job runs in.
Available in <B>Prolog</B>, <B>PrologSlurmctld</B> and <B>EpilogSlurmctld</B> only.
<a id="OPT_SLURM_JOB_UID"></a>
<DT><B>SLURM_JOB_UID</B><DD>
User ID of the job's owner.
<a id="OPT_SLURM_JOB_USER"></a>
<DT><B>SLURM_JOB_USER</B><DD>
User name of the job's owner.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<a id="SECTION_NETWORK-TOPOLOGY"></a>
<H2>NETWORK TOPOLOGY</H2>

Slurm is able to optimize job allocations to minimize network contention.
Special Slurm logic is used to optimize allocations on systems with a
three-dimensional interconnect.
and information about configuring those systems are available on
web pages available here: &lt;<A HREF="https://slurm.schedmd.com/">https://slurm.schedmd.com/</A>&gt;.
For a hierarchical network, Slurm needs to have detailed information
about how nodes are configured on the network switches.
<P>

Given network topology information, Slurm allocates all of a job's
resources onto a single leaf of the network (if possible) using a best-fit
algorithm.
Otherwise it will allocate a job's resources onto multiple leaf switches
so as to minimize the use of higher-level switches.
The <B>TopologyPlugin</B> parameter controls which plugin is used to
collect network topology information.
The only values presently supported are &quot;topology/3d_torus&quot; (default for
Cray XT/XE systems, performs best-fit logic over three-dimensional topology),
&quot;topology/none&quot; (default for other systems,
best-fit logic over one-dimensional topology),
&quot;topology/tree&quot; (determine the network topology based
upon information contained in a topology.conf file,
see &quot;man topology.conf&quot; for more information).
Future plugins may gather topology information directly from the network.
The topology information is optional.
If not provided, Slurm will perform a best-fit algorithm assuming the
nodes are in a one-dimensional array as configured and the communications
cost is related to the node distance in this array.
<P>
<A NAME="lbAG">&nbsp;</A>
<a id="SECTION_RELOCATING-CONTROLLERS"></a>
<H2>RELOCATING CONTROLLERS</H2>

If the cluster's computers used for the primary or backup controller
will be out of service for an extended period of time, it may be
desirable to relocate them.
In order to do so, follow this procedure:
<P>

1. Stop the Slurm daemons
<BR>

2. Modify the slurm.conf file appropriately
<BR>

3. Distribute the updated slurm.conf file to all nodes
<BR>

4. Restart the Slurm daemons
<P>

There should be no loss of any running or pending jobs.
Ensure that any nodes added to the cluster have the current
slurm.conf file installed.
<P>

<B>CAUTION:</B> If two nodes are simultaneously configured as the
primary controller (two nodes on which <B>ControlMachine</B> specify
the local host and the <B>slurmctld</B> daemon is executing on each),
system behavior will be destructive.
If a compute node has an incorrect <B>ControlMachine</B> or
<B>BackupController</B> parameter, that node may be rendered
unusable, but no other harm will result.
<P>
<A NAME="lbAH">&nbsp;</A>
<a id="SECTION_EXAMPLE"></a>
<H2>EXAMPLE</H2>

<P>

#
<BR>

# Sample /etc/slurm.conf for dev[0-25].llnl.gov
<BR>

# Author: John Doe
<BR>

# Date: 11/06/2001
<BR>

#
<BR>

SlurmctldHost=dev0(12.34.56.78)  # Primary server
<BR>

SlurmctldHost=dev1(12.34.56.79)  # Backup server
<BR>

#
<BR>

AuthType=auth/munge
<BR>

Epilog=/usr/local/slurm/epilog
<BR>

Prolog=/usr/local/slurm/prolog
<BR>

FastSchedule=1
<BR>

FirstJobId=65536
<BR>

InactiveLimit=120
<BR>

JobCompType=jobcomp/filetxt
<BR>

JobCompLoc=/var/log/slurm/jobcomp
<BR>

KillWait=30
<BR>

MaxJobCount=10000
<BR>

MinJobAge=3600
<BR>

PluginDir=/usr/local/lib:/usr/local/slurm/lib
<BR>

ReturnToService=0
<BR>

SchedulerType=sched/backfill
<BR>

SlurmctldLogFile=/var/log/slurm/slurmctld.log
<BR>

SlurmdLogFile=/var/log/slurm/slurmd.log
<BR>

SlurmctldPort=7002
<BR>

SlurmdPort=7003
<BR>

SlurmdSpoolDir=/var/spool/slurmd.spool
<BR>

StateSaveLocation=/var/spool/slurm.state
<BR>

SwitchType=switch/none
<BR>

TmpFS=/tmp
<BR>

WaitTime=30
<BR>

JobCredentialPrivateKey=/usr/local/slurm/private.key
<BR>


JobCredentialPublicCertificate=/usr/local/slurm/public.cert

<BR>

#
<BR>

# Node Configurations
<BR>

#
<BR>

NodeName=DEFAULT CPUs=2 RealMemory=2000 TmpDisk=64000
<BR>

NodeName=DEFAULT State=UNKNOWN
<BR>

NodeName=dev[0-25] NodeAddr=edev[0-25] Weight=16
<BR>

# Update records for specific DOWN nodes
<BR>

DownNodes=dev20 State=DOWN Reason=&quot;power,ETA=Dec25&quot;
<BR>

#
<BR>

# Partition Configurations
<BR>

#
<BR>

PartitionName=DEFAULT MaxTime=30 MaxNodes=10 State=UP
<BR>

PartitionName=debug Nodes=dev[0-8,18-25] Default=YES
<BR>

PartitionName=batch Nodes=dev[9-17]  MinNodes=4
<BR>

PartitionName=long Nodes=dev[9-17] MaxTime=120 AllowGroups=admin
<P>
<A NAME="lbAI">&nbsp;</A>
<a id="SECTION_INCLUDE-MODIFIERS"></a>
<H2>INCLUDE MODIFIERS</H2>

The &quot;include&quot; key word can be used with modifiers within the specified
pathname. These modifiers would be replaced with cluster name or other
information depending on which modifier is specified. If the included file
is not an absolute path name (i.e. it does not start with a slash), it will
searched for in the same directory as the slurm.conf file.
<DL COMPACT>
<a id="OPT_%c"></a>
<DT><B>%c</B><DD>
Cluster name specified in the slurm.conf will be used.
<a id="OPT_EXAMPLE_1"></a>
<DT><B>EXAMPLE</B><DD>

ClusterName=linux
<BR>

include /home/slurm/etc/%c_config
<BR>

# Above line interpreted as
<BR>

# &quot;include /home/slurm/etc/linux_config&quot;
<P>
</DL>
<A NAME="lbAJ">&nbsp;</A>
<a id="SECTION_FILE-AND-DIRECTORY-PERMISSIONS"></a>
<H2>FILE AND DIRECTORY PERMISSIONS</H2>

There are three classes of files:
Files used by <B>slurmctld</B> must be accessible by user <B>SlurmUser</B>
and accessible by the primary and backup control machines.
Files used by <B>slurmd</B> must be accessible by user root and
accessible from every compute node.
A few files need to be accessible by normal users on all login and
compute nodes.
While many files and directories are listed below, most of them will
not be used with most configurations.
<DL COMPACT>
<a id="OPT_AccountingStorageLoc_1"></a>
<DT><B>AccountingStorageLoc</B><DD>
If this specifies a file, it must be writable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
It is recommended that the file be readable by all users from login and
compute nodes.
<a id="OPT_Epilog_1"></a>
<DT><B>Epilog</B><DD>
Must be executable by user root.
It is recommended that the file be readable by all users.
The file must exist on every compute node.
<a id="OPT_EpilogSlurmctld_1"></a>
<DT><B>EpilogSlurmctld</B><DD>
Must be executable by user <B>SlurmUser</B>.
It is recommended that the file be readable by all users.
The file must be accessible by the primary and backup control machines.
<a id="OPT_HealthCheckProgram_1"></a>
<DT><B>HealthCheckProgram</B><DD>
Must be executable by user root.
It is recommended that the file be readable by all users.
The file must exist on every compute node.
<a id="OPT_JobCheckpointDir_1"></a>
<DT><B>JobCheckpointDir</B><DD>
Must be writable by user <B>SlurmUser</B> and no other users.
The file must be accessible by the primary and backup control machines.
<a id="OPT_JobCompLoc_1"></a>
<DT><B>JobCompLoc</B><DD>
If this specifies a file, it must be writable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<a id="OPT_JobCredentialPrivateKey"></a>
<DT><B>JobCredentialPrivateKey</B><DD>
Must be readable only by user <B>SlurmUser</B> and writable by no other users.
The file must be accessible by the primary and backup control machines.
<a id="OPT_JobCredentialPublicCertificate"></a>
<DT><B>JobCredentialPublicCertificate</B><DD>
Readable to all users on all nodes.
Must not be writable by regular users.
<a id="OPT_MailProg_1"></a>
<DT><B>MailProg</B><DD>
Must be executable by user <B>SlurmUser</B>.
Must not be writable by regular users.
The file must be accessible by the primary and backup control machines.
<a id="OPT_Prolog_1"></a>
<DT><B>Prolog</B><DD>
Must be executable by user root.
It is recommended that the file be readable by all users.
The file must exist on every compute node.
<a id="OPT_PrologSlurmctld_1"></a>
<DT><B>PrologSlurmctld</B><DD>
Must be executable by user <B>SlurmUser</B>.
It is recommended that the file be readable by all users.
The file must be accessible by the primary and backup control machines.
<a id="OPT_ResumeProgram_1"></a>
<DT><B>ResumeProgram</B><DD>
Must be executable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<a id="OPT_SallocDefaultCommand_1"></a>
<DT><B>SallocDefaultCommand</B><DD>
Must be executable by all users.
The file must exist on every login and compute node.
<a id="OPT_slurm.conf"></a>
<DT><B>slurm.conf</B><DD>
Readable to all users on all nodes.
Must not be writable by regular users.
<a id="OPT_SlurmctldLogFile_1"></a>
<DT><B>SlurmctldLogFile</B><DD>
Must be writable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<a id="OPT_SlurmctldPidFile_1"></a>
<DT><B>SlurmctldPidFile</B><DD>
Must be writable by user root.
Preferably writable and removable by <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<a id="OPT_SlurmdLogFile_1"></a>
<DT><B>SlurmdLogFile</B><DD>
Must be writable by user root.
A distinct file must exist on each compute node.
<a id="OPT_SlurmdPidFile_1"></a>
<DT><B>SlurmdPidFile</B><DD>
Must be writable by user root.
A distinct file must exist on each compute node.
<a id="OPT_SlurmdSpoolDir_1"></a>
<DT><B>SlurmdSpoolDir</B><DD>
Must be writable by user root.
A distinct file must exist on each compute node.
<a id="OPT_SrunEpilog_1"></a>
<DT><B>SrunEpilog</B><DD>
Must be executable by all users.
The file must exist on every login and compute node.
<a id="OPT_SrunProlog_1"></a>
<DT><B>SrunProlog</B><DD>
Must be executable by all users.
The file must exist on every login and compute node.
<a id="OPT_StateSaveLocation_1"></a>
<DT><B>StateSaveLocation</B><DD>
Must be writable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<a id="OPT_SuspendProgram_1"></a>
<DT><B>SuspendProgram</B><DD>
Must be executable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<a id="OPT_TaskEpilog_1"></a>
<DT><B>TaskEpilog</B><DD>
Must be executable by all users.
The file must exist on every compute node.
<a id="OPT_TaskProlog_1"></a>
<DT><B>TaskProlog</B><DD>
Must be executable by all users.
The file must exist on every compute node.
<a id="OPT_UnkillableStepProgram_1"></a>
<DT><B>UnkillableStepProgram</B><DD>
Must be executable by user <B>SlurmUser</B>.
The file must be accessible by the primary and backup control machines.
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<a id="SECTION_LOGGING"></a>
<H2>LOGGING</H2>

<P>

Note that while Slurm daemons create log files and other files as needed,
it treats the lack of parent directories as a fatal error.
This prevents the daemons from running if critical file systems are
not mounted and will minimize the risk of cold-starting (starting
without preserving jobs).
<P>

Log files and job accounting files,
may need to be created/owned by the &quot;SlurmUser&quot; uid to be successfully
accessed.  Use the &quot;chown&quot; and &quot;chmod&quot; commands to set the ownership
and permissions appropriately.
See the section <B>FILE AND DIRECTORY PERMISSIONS</B> for information
about the various files and directories used by Slurm.
<P>

It is recommended that the logrotate utility be used to ensure that
various log files do not become too large.
This also applies to text files used for accounting,
process tracking, and the slurmdbd log if they are used.
<P>

Here is a sample logrotate configuration. Make appropriate site modifications
and save as /etc/logrotate.d/slurm on all nodes.
See the <B>logrotate</B> man page for more details.
<P>

<PRE>
##
# Slurm Logrotate Configuration
##
/var/log/slurm/*.log {
        compress
        missingok
        nocopytruncate
        nodelaycompress
        nomail
        notifempty
        noolddir
        rotate 5
        sharedscripts
        size=5M
        create 640 slurm root
        postrotate
                pkill -x --signal SIGUSR2 slurmctld
                pkill -x --signal SIGUSR2 slurmd
                pkill -x --signal SIGUSR2 slurmdbd
                exit 0
        endscript
}
</PRE>

<A NAME="lbAL">&nbsp;</A>
<a id="SECTION_COPYING"></a>
<H2>COPYING</H2>

Copyright (C) 2002-2007 The Regents of the University of California.
Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).
<BR>

Copyright (C) 2008-2010 Lawrence Livermore National Security.
<BR>

Copyright (C) 2010-2017 SchedMD LLC.
<P>

This file is part of Slurm, a resource management program.
For details, see &lt;<A HREF="https://slurm.schedmd.com/">https://slurm.schedmd.com/</A>&gt;.
<P>

Slurm is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
<P>

Slurm is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.
<P>
<A NAME="lbAM">&nbsp;</A>
<a id="SECTION_FILES"></a>
<H2>FILES</H2>

/etc/slurm.conf
<P>
<A NAME="lbAN">&nbsp;</A>
<a id="SECTION_SEE-ALSO"></a>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/man/man2html?5+cgroup.conf">cgroup.conf</A></B>(5), <B>gethostbyname</B> (3),
<B>getrlimit</B> (2), <B><A HREF="/man/man2html?5+gres.conf">gres.conf</A></B>(5), <B>group</B> (5), <B>hostname</B> (1),
<B><A HREF="/man/man2html?1+scontrol">scontrol</A></B>(1), <B><A HREF="/man/man2html?8+slurmctld">slurmctld</A></B>(8), <B><A HREF="/man/man2html?8+slurmd">slurmd</A></B>(8),
<B><A HREF="/man/man2html?8+slurmdbd">slurmdbd</A></B>(8), <B><A HREF="/man/man2html?5+slurmdbd.conf">slurmdbd.conf</A></B>(5), <B><A HREF="/man/man2html?1+srun">srun</A>(1)</B>,
<B><A HREF="/man/man2html?8+spank">spank</A>(8)</B>, <B>syslog</B> (2), <B><A HREF="/man/man2html?5+topology.conf">topology.conf</A></B>(5)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">PARAMETERS</A><DD>
<DT><A HREF="#lbAE">Prolog and Epilog Scripts</A><DD>
<DT><A HREF="#lbAF">NETWORK TOPOLOGY</A><DD>
<DT><A HREF="#lbAG">RELOCATING CONTROLLERS</A><DD>
<DT><A HREF="#lbAH">EXAMPLE</A><DD>
<DT><A HREF="#lbAI">INCLUDE MODIFIERS</A><DD>
<DT><A HREF="#lbAJ">FILE AND DIRECTORY PERMISSIONS</A><DD>
<DT><A HREF="#lbAK">LOGGING</A><DD>
<DT><A HREF="#lbAL">COPYING</A><DD>
<DT><A HREF="#lbAM">FILES</A><DD>
<DT><A HREF="#lbAN">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 06:40:17 GMT, March 22, 2020
			</div> <!-- END .container -->
		</div> <!-- END .section -->
	</div> <!-- END .content -->
</div> <!-- END .main -->

<footer class="site-footer" role="contentinfo">
	<nav class="footer-nav section">
		<div class="container">
			<p><a href="disclaimer.html" target="_blank" class="privacy">Legal Notices</a></p>
		</div>
	</nav>
</footer>

<script type='text/javascript'>
	var custpagename = window.location.href;
	var urlarray = custpagename.split('#');
	custpagename = urlarray[1];

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			 ga('create', 'UA-47927131-1', 'schedmd.com');
		ga('send', {'hitType': 'pageview', 'page': custpagename, 'title': custpagename});
</script>

</body>
</html>
