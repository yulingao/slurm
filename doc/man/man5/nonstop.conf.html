<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Slurm Workload Manager - nonstop.conf</title>
	<link rel="canonical" href="https://slurm.schedmd.com/nonstop.conf.html" />

	<link rel="shortcut icon" href="favicon.ico" />

	<link rel="stylesheet" type="text/css" href="fonts.css" />
	<link rel="stylesheet" type="text/css" href="reset.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" type="text/css" href="slurm.css" />

	<script src="jquery.min.js"></script>
	<script type="text/javascript">
	jQuery(document).ready(function() {
		jQuery('.menu-trigger').bind('click touchstart', function() {
			jQuery(this).find('.menu-trigger__lines').toggleClass('menu-trigger__lines--closed');
			jQuery(this).parents('.site-header').find('.site-nav').toggleClass('site-nav--active');

			return false;
		});
	});

	(function() {
	  var cx = '011890816164765777536:jvrtxrd3f0w';
	  var gcse = document.createElement('script');
	  gcse.type = 'text/javascript';
	  gcse.async = true;
	  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	  var s = document.getElementsByTagName('script')[0];
	  s.parentNode.insertBefore(gcse, s);
	})();
	</script>
</head>

<body>

<div class="container container--main">

	<header class="site-header" role="banner">

		<div class="site-masthead">
			<h1 class="site-masthead__title site-masthead__title--slurm">
				<a href="/" rel="home">
					<span class="slurm-logo">Slurm Workload Manager</span>
				</a>
			</h1>
			<div class="site-masthead__title">
				<a href="https://www.schedmd.com/" rel="home">
					<span class="site-logo">SchedMD</span>
				</a>
			</div>

			<button class="site-masthead__trigger menu-trigger" type="button" role="button" aria-label="Toggle Navigation"><span class="menu-trigger__lines"></span></button>
		</div>


		<nav class="site-nav">
			<h2 class="site-nav__title">Navigation</h2>

			<div class="slurm-title">
				<div class="slurm-logo"><a href="/">Slurm Workload Manager</a></div>
				<div class="slurm-title__version">Version 19.05</div>
			</div>

			<ul class="site-nav__menu site-menu menu" role="navigation">
				<li class="site-menu__item">
				        <div>About</div>
					<ul>
						<li><a href="overview.html">Overview</a></li>
						<li><a href="news.html">Release Notes</a></li>
						<li><a href="team.html">Slurm Team</a></li>
						<li><a href="meetings.html">Meetings</a></li>
						<li><a href="testimonials.html">Testimonials</a></li>
						<li><a href="disclaimer.html">Legal Notices</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Using</div>
					<ul>
						<li><a href="tutorials.html">Tutorials</a></li>
						<li><a href="documentation.html">Documentation</a></li>
						<li><a href="faq.html">FAQ</a></li>
						<li><a href="publications.html">Publications</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Installing</div>
					<ul>
						<li><a href="download.html">Download</a></li>
						<li><a href="quickstart_admin.html">Installation Guide</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Getting Help</div>
					<ul>
						<li><a href="https://www.schedmd.com/services.php">Support</a></li>
						<li><a href="mail.html">Mailing Lists</a></li>
						<li><a href="https://www.schedmd.com/services.php">Training</a></li>
						<li><a href="troubleshoot.html">Troubleshooting</a></li>
					</ul>
				</li>
			</ul>

		</nav>

	</header>

	<div class="content" role="main">
		<section class="slurm-search">
			<div class="container" id="cse">
				<gcse:search></gcse:search>
			</div>
		</section>

		<div class="section">
			<div class="container">

<H1>nonstop.conf</H1>
Section: Slurm Configuration File (5)<BR>Updated: Slurm Configuration File<BR><A HREF="#index">Index</A>
<A HREF="/man/man2html">Return to Main Contents</A><HR>

<P>
<A NAME="lbAB">&nbsp;</A>
<a id="SECTION_NAME"></a>
<H2>NAME</H2>

nonstop.conf - Slurm configuration file for fault-tolerant computing.
<P>
<A NAME="lbAC">&nbsp;</A>
<a id="SECTION_DESCRIPTION"></a>
<H2>DESCRIPTION</H2>

<B>nonstop.conf</B> is an ASCII file which describes the configuration
used for fault-tolerant computing with Slurm using the optional
slurmctld/nonstop plugin.
This plugin provides a means for users to notify Slurm of nodes it believes
are suspect, replace the job's failing or failed nodes, and extend a job's
in response to failures.
The file location can be modified at system build time using the
DEFAULT_SLURM_CONF parameter or at execution time by setting the SLURM_CONF
environment variable. The file will always be located in the
same directory as the <B>slurm.conf</B> file.
<P>

Parameter names are case insensitive.
Any text following a &quot;#&quot; in the configuration file is treated
as a comment through the end of that line.
Changes to the configuration file take effect upon restart of
Slurm daemons, daemon receipt of the SIGHUP signal, or execution
of the command &quot;scontrol reconfigure&quot; unless otherwise noted.
The configuration parameters available include:
<P>
<DL COMPACT>
<a id="OPT_BackupAddr"></a>
<DT><B>BackupAddr</B><DD>
Communications address used for the slurmctld daemon.
This can either be a hostname or IP address.
This value would typically be identical to the value of <B>BackupAddr</B>
in the slurm.conf file.
<P>
<a id="OPT_ControlAddr"></a>
<DT><B>ControlAddr</B><DD>
Communications address used for the slurmctld daemon.
This can either be a hostname or IP address.
This value would typically be identical to the value of <B>ControlAddr</B>
in the slurm.conf file.
<P>
<a id="OPT_Debug"></a>
<DT><B>Debug</B><DD>
A number indicating the level of additional logging desired for the plugin.
The default value is zero, which generates no additional logging.
<P>
<a id="OPT_HotSpareCount"></a>
<DT><B>HotSpareCount</B><DD>
This identifies how many nodes in each partition should be maintained as
spare resources.
When a job fails, this pool of resources will be depleted and then replenished
when possible using idle resources.
The value should be a comma delimited list of
partition and node count pairs separated by a colon.
<P>
<a id="OPT_MaxSpareNodeCount"></a>
<DT><B>MaxSpareNodeCount</B><DD>
This identifies the maximum number of nodes any single job may replace through
the job's entire lifetime.
This could prevent a single job from causing all of the nodes in a cluster to
fail.
By default, there is no maximum node count.
<P>
<a id="OPT_Port"></a>
<DT><B>Port</B><DD>
Port used for communications.
The default value is 6820.
<P>
<a id="OPT_TimeLimitDelay"></a>
<DT><B>TimeLimitDelay</B><DD>
If a job requires replacement resources and none are immediately available,
then permit a job to extend its time limit by the length of time required to
secure replacement resources up to the number of minutes specified by
<B>TimeLimitDelay</B>.
This option will only take effect if no hot spare resources are available at
the time replacement resources are requested.
This time limit extension is in addition to the value calculated using the
<B>TimeLimitExtend</B>.
The default value is zero (no time limit extension).
The value may not exceed 65533 seconds.
<P>
<a id="OPT_TimeLimitDrop"></a>
<DT><B>TimeLimitDrop</B><DD>
Specifies the number of minutes that a job can extend it's time limit for
each failed or failing node removed from the job's allocation.
The default value is zero (no time limit extension).
The value may not exceed 65533 seconds.
<P>
<a id="OPT_TimeLimitExtend"></a>
<DT><B>TimeLimitExtend</B><DD>
Specifies the number of minutes that a job can extend it's time limit for
each replaced node.
The default value is zero (no time limit extension).
The value may not exceed 65533 seconds.
<P>
<a id="OPT_UserDrainAllow"></a>
<DT><B>UserDrainAllow</B><DD>
This identifies a comma delimited list of user names or user IDs of users who
are authorized to drain nodes they believe are failing.
Specify a value of &quot;ALL&quot; to permit any user to drain nodes.
By default, no users may drain nodes using this interface.
<P>
<a id="OPT_UserDrainDeny"></a>
<DT><B>UserDrainDeny</B><DD>
This identifies a comma delimited list of user names or user IDs of users who
are NOT authorized to drain nodes they believe are failing.
Specifying a value for <B>UserDrainDeny</B> implicitly allows all other users
to drain nodes (sets the value of UserDrainAllow to &quot;ALL&quot;).
<P>
</DL>
<A NAME="lbAD">&nbsp;</A>
<a id="SECTION_EXAMPLE"></a>
<H2>EXAMPLE</H2>

<P>

#
<BR>

# Sample nonstop.conf file
<BR>

# Date: 12 Feb 2013
<BR>

#
<BR>

ControlAddr=12.34.56.78
<BR>

BackupAddr=12.34.56.79
<BR>

Port=1234
<BR>

#
<BR>

HotSpareCount=batch:6,interactive:0
<BR>

MaxSpareNodesCount=4
<BR>

TimeLimitDelay=30
<BR>

TimeLimitExtend=20
<BR>

TimeLimitExtend=10
<BR>

UserDrainAllow=adam,brenda
<P>
<A NAME="lbAE">&nbsp;</A>
<a id="SECTION_COPYING"></a>
<H2>COPYING</H2>

Copyright (C) 2013-2014 SchedMD LLC. All rights reserved.
<P>

Slurm is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.
<P>
<A NAME="lbAF">&nbsp;</A>
<a id="SECTION_SEE-ALSO"></a>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/man/man2html?5+slurm.conf">slurm.conf</A></B>(5)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">EXAMPLE</A><DD>
<DT><A HREF="#lbAE">COPYING</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 06:31:51 GMT, March 29, 2020
			</div> <!-- END .container -->
		</div> <!-- END .section -->
	</div> <!-- END .content -->
</div> <!-- END .main -->

<footer class="site-footer" role="contentinfo">
	<nav class="footer-nav section">
		<div class="container">
			<p><a href="disclaimer.html" target="_blank" class="privacy">Legal Notices</a></p>
		</div>
	</nav>
</footer>

<script type='text/javascript'>
	var custpagename = window.location.href;
	var urlarray = custpagename.split('#');
	custpagename = urlarray[1];

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			 ga('create', 'UA-47927131-1', 'schedmd.com');
		ga('send', {'hitType': 'pageview', 'page': custpagename, 'title': custpagename});
</script>

</body>
</html>
